/*!
 * jQuery JavaScript Library v1.7.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Mar 21 12:46:34 2012 -0700
 */
(function(be,M){var aw=be.document,bv=be.navigator,bn=be.location;
var b=(function(){var bG=function(b1,b2){return new bG.fn.init(b1,b2,bE);
},bV=be.jQuery,bI=be.$,bE,bZ=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bN=/\S/,bJ=/^\s+/,bF=/\s+$/,bB=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,bO=/^[\],:{}\s]*$/,bX=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,bQ=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,bK=/(?:^|:|,)(?:\s*\[)+/g,bz=/(webkit)[ \/]([\w.]+)/,bS=/(opera)(?:.*version)?[ \/]([\w.]+)/,bR=/(msie) ([\w.]+)/,bT=/(mozilla)(?:.*? rv:([\w.]+))?/,bC=/-([a-z]|[0-9])/ig,b0=/^-ms-/,bU=function(b1,b2){return(b2+"").toUpperCase();
},bY=bv.userAgent,bW,bD,e,bM=Object.prototype.toString,bH=Object.prototype.hasOwnProperty,bA=Array.prototype.push,bL=Array.prototype.slice,bP=String.prototype.trim,bw=Array.prototype.indexOf,by={};
bG.fn=bG.prototype={constructor:bG,init:function(b1,b5,b4){var b3,b6,b2,b7;
if(!b1){return this;
}if(b1.nodeType){this.context=this[0]=b1;
this.length=1;
return this;
}if(b1==="body"&&!b5&&aw.body){this.context=aw;
this[0]=aw.body;
this.selector=b1;
this.length=1;
return this;
}if(typeof b1==="string"){if(b1.charAt(0)==="<"&&b1.charAt(b1.length-1)===">"&&b1.length>=3){b3=[null,b1,null];
}else{b3=bZ.exec(b1);
}if(b3&&(b3[1]||!b5)){if(b3[1]){b5=b5 instanceof bG?b5[0]:b5;
b7=(b5?b5.ownerDocument||b5:aw);
b2=bB.exec(b1);
if(b2){if(bG.isPlainObject(b5)){b1=[aw.createElement(b2[1])];
bG.fn.attr.call(b1,b5,true);
}else{b1=[b7.createElement(b2[1])];
}}else{b2=bG.buildFragment([b3[1]],[b7]);
b1=(b2.cacheable?bG.clone(b2.fragment):b2.fragment).childNodes;
}return bG.merge(this,b1);
}else{b6=aw.getElementById(b3[2]);
if(b6&&b6.parentNode){if(b6.id!==b3[2]){return b4.find(b1);
}this.length=1;
this[0]=b6;
}this.context=aw;
this.selector=b1;
return this;
}}else{if(!b5||b5.jquery){return(b5||b4).find(b1);
}else{return this.constructor(b5).find(b1);
}}}else{if(bG.isFunction(b1)){return b4.ready(b1);
}}if(b1.selector!==M){this.selector=b1.selector;
this.context=b1.context;
}return bG.makeArray(b1,this);
},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length;
},toArray:function(){return bL.call(this,0);
},get:function(b1){return b1==null?this.toArray():(b1<0?this[this.length+b1]:this[b1]);
},pushStack:function(b2,b4,b1){var b3=this.constructor();
if(bG.isArray(b2)){bA.apply(b3,b2);
}else{bG.merge(b3,b2);
}b3.prevObject=this;
b3.context=this.context;
if(b4==="find"){b3.selector=this.selector+(this.selector?" ":"")+b1;
}else{if(b4){b3.selector=this.selector+"."+b4+"("+b1+")";
}}return b3;
},each:function(b2,b1){return bG.each(this,b2,b1);
},ready:function(b1){bG.bindReady();
bD.add(b1);
return this;
},eq:function(b1){b1=+b1;
return b1===-1?this.slice(b1):this.slice(b1,b1+1);
},first:function(){return this.eq(0);
},last:function(){return this.eq(-1);
},slice:function(){return this.pushStack(bL.apply(this,arguments),"slice",bL.call(arguments).join(","));
},map:function(b1){return this.pushStack(bG.map(this,function(b3,b2){return b1.call(b3,b2,b3);
}));
},end:function(){return this.prevObject||this.constructor(null);
},push:bA,sort:[].sort,splice:[].splice};
bG.fn.init.prototype=bG.fn;
bG.extend=bG.fn.extend=function(){var ca,b3,b1,b2,b7,b8,b6=arguments[0]||{},b5=1,b4=arguments.length,b9=false;
if(typeof b6==="boolean"){b9=b6;
b6=arguments[1]||{};
b5=2;
}if(typeof b6!=="object"&&!bG.isFunction(b6)){b6={};
}if(b4===b5){b6=this;
--b5;
}for(;
b5<b4;
b5++){if((ca=arguments[b5])!=null){for(b3 in ca){b1=b6[b3];
b2=ca[b3];
if(b6===b2){continue;
}if(b9&&b2&&(bG.isPlainObject(b2)||(b7=bG.isArray(b2)))){if(b7){b7=false;
b8=b1&&bG.isArray(b1)?b1:[];
}else{b8=b1&&bG.isPlainObject(b1)?b1:{};
}b6[b3]=bG.extend(b9,b8,b2);
}else{if(b2!==M){b6[b3]=b2;
}}}}}return b6;
};
bG.extend({noConflict:function(b1){if(be.$===bG){be.$=bI;
}if(b1&&be.jQuery===bG){be.jQuery=bV;
}return bG;
},isReady:false,readyWait:1,holdReady:function(b1){if(b1){bG.readyWait++;
}else{bG.ready(true);
}},ready:function(b1){if((b1===true&&!--bG.readyWait)||(b1!==true&&!bG.isReady)){if(!aw.body){return setTimeout(bG.ready,1);
}bG.isReady=true;
if(b1!==true&&--bG.readyWait>0){return;
}bD.fireWith(aw,[bG]);
if(bG.fn.trigger){bG(aw).trigger("ready").off("ready");
}}},bindReady:function(){if(bD){return;
}bD=bG.Callbacks("once memory");
if(aw.readyState==="complete"){return setTimeout(bG.ready,1);
}if(aw.addEventListener){aw.addEventListener("DOMContentLoaded",e,false);
be.addEventListener("load",bG.ready,false);
}else{if(aw.attachEvent){aw.attachEvent("onreadystatechange",e);
be.attachEvent("onload",bG.ready);
var b1=false;
try{b1=be.frameElement==null;
}catch(b2){}if(aw.documentElement.doScroll&&b1){bx();
}}}},isFunction:function(b1){return bG.type(b1)==="function";
},isArray:Array.isArray||function(b1){return bG.type(b1)==="array";
},isWindow:function(b1){return b1!=null&&b1==b1.window;
},isNumeric:function(b1){return !isNaN(parseFloat(b1))&&isFinite(b1);
},type:function(b1){return b1==null?String(b1):by[bM.call(b1)]||"object";
},isPlainObject:function(b3){if(!b3||bG.type(b3)!=="object"||b3.nodeType||bG.isWindow(b3)){return false;
}try{if(b3.constructor&&!bH.call(b3,"constructor")&&!bH.call(b3.constructor.prototype,"isPrototypeOf")){return false;
}}catch(b2){return false;
}var b1;
for(b1 in b3){}return b1===M||bH.call(b3,b1);
},isEmptyObject:function(b2){for(var b1 in b2){return false;
}return true;
},error:function(b1){throw new Error(b1);
},parseJSON:function(b1){if(typeof b1!=="string"||!b1){return null;
}b1=bG.trim(b1);
if(be.JSON&&be.JSON.parse){return be.JSON.parse(b1);
}if(bO.test(b1.replace(bX,"@").replace(bQ,"]").replace(bK,""))){return(new Function("return "+b1))();
}bG.error("Invalid JSON: "+b1);
},parseXML:function(b3){if(typeof b3!=="string"||!b3){return null;
}var b1,b2;
try{if(be.DOMParser){b2=new DOMParser();
b1=b2.parseFromString(b3,"text/xml");
}else{b1=new ActiveXObject("Microsoft.XMLDOM");
b1.async="false";
b1.loadXML(b3);
}}catch(b4){b1=M;
}if(!b1||!b1.documentElement||b1.getElementsByTagName("parsererror").length){bG.error("Invalid XML: "+b3);
}return b1;
},noop:function(){},globalEval:function(b1){if(b1&&bN.test(b1)){(be.execScript||function(b2){be["eval"].call(be,b2);
})(b1);
}},camelCase:function(b1){return b1.replace(b0,"ms-").replace(bC,bU);
},nodeName:function(b2,b1){return b2.nodeName&&b2.nodeName.toUpperCase()===b1.toUpperCase();
},each:function(b4,b7,b3){var b2,b5=0,b6=b4.length,b1=b6===M||bG.isFunction(b4);
if(b3){if(b1){for(b2 in b4){if(b7.apply(b4[b2],b3)===false){break;
}}}else{for(;
b5<b6;
){if(b7.apply(b4[b5++],b3)===false){break;
}}}}else{if(b1){for(b2 in b4){if(b7.call(b4[b2],b2,b4[b2])===false){break;
}}}else{for(;
b5<b6;
){if(b7.call(b4[b5],b5,b4[b5++])===false){break;
}}}}return b4;
},trim:bP?function(b1){return b1==null?"":bP.call(b1);
}:function(b1){return b1==null?"":b1.toString().replace(bJ,"").replace(bF,"");
},makeArray:function(b4,b2){var b1=b2||[];
if(b4!=null){var b3=bG.type(b4);
if(b4.length==null||b3==="string"||b3==="function"||b3==="regexp"||bG.isWindow(b4)){bA.call(b1,b4);
}else{bG.merge(b1,b4);
}}return b1;
},inArray:function(b3,b4,b2){var b1;
if(b4){if(bw){return bw.call(b4,b3,b2);
}b1=b4.length;
b2=b2?b2<0?Math.max(0,b1+b2):b2:0;
for(;
b2<b1;
b2++){if(b2 in b4&&b4[b2]===b3){return b2;
}}}return -1;
},merge:function(b5,b3){var b4=b5.length,b2=0;
if(typeof b3.length==="number"){for(var b1=b3.length;
b2<b1;
b2++){b5[b4++]=b3[b2];
}}else{while(b3[b2]!==M){b5[b4++]=b3[b2++];
}}b5.length=b4;
return b5;
},grep:function(b2,b7,b1){var b3=[],b6;
b1=!!b1;
for(var b4=0,b5=b2.length;
b4<b5;
b4++){b6=!!b7(b2[b4],b4);
if(b1!==b6){b3.push(b2[b4]);
}}return b3;
},map:function(b1,b8,b9){var b6,b7,b5=[],b3=0,b2=b1.length,b4=b1 instanceof bG||b2!==M&&typeof b2==="number"&&((b2>0&&b1[0]&&b1[b2-1])||b2===0||bG.isArray(b1));
if(b4){for(;
b3<b2;
b3++){b6=b8(b1[b3],b3,b9);
if(b6!=null){b5[b5.length]=b6;
}}}else{for(b7 in b1){b6=b8(b1[b7],b7,b9);
if(b6!=null){b5[b5.length]=b6;
}}}return b5.concat.apply([],b5);
},guid:1,proxy:function(b5,b4){if(typeof b4==="string"){var b3=b5[b4];
b4=b5;
b5=b3;
}if(!bG.isFunction(b5)){return M;
}var b1=bL.call(arguments,2),b2=function(){return b5.apply(b4,b1.concat(bL.call(arguments)));
};
b2.guid=b5.guid=b5.guid||b2.guid||bG.guid++;
return b2;
},access:function(b1,b7,ca,b8,b5,cb,b9){var b3,b6=ca==null,b4=0,b2=b1.length;
if(ca&&typeof ca==="object"){for(b4 in ca){bG.access(b1,b7,b4,ca[b4],1,cb,b8);
}b5=1;
}else{if(b8!==M){b3=b9===M&&bG.isFunction(b8);
if(b6){if(b3){b3=b7;
b7=function(cd,cc,ce){return b3.call(bG(cd),ce);
};
}else{b7.call(b1,b8);
b7=null;
}}if(b7){for(;
b4<b2;
b4++){b7(b1[b4],ca,b3?b8.call(b1[b4],b4,b7(b1[b4],ca)):b8,b9);
}}b5=1;
}}return b5?b1:b6?b7.call(b1):b2?b7(b1[0],ca):cb;
},now:function(){return(new Date()).getTime();
},uaMatch:function(b2){b2=b2.toLowerCase();
var b1=bz.exec(b2)||bS.exec(b2)||bR.exec(b2)||b2.indexOf("compatible")<0&&bT.exec(b2)||[];
return{browser:b1[1]||"",version:b1[2]||"0"};
},sub:function(){function b1(b4,b5){return new b1.fn.init(b4,b5);
}bG.extend(true,b1,this);
b1.superclass=this;
b1.fn=b1.prototype=this();
b1.fn.constructor=b1;
b1.sub=this.sub;
b1.fn.init=function b3(b4,b5){if(b5&&b5 instanceof bG&&!(b5 instanceof b1)){b5=b1(b5);
}return bG.fn.init.call(this,b4,b5,b2);
};
b1.fn.init.prototype=b1.fn;
var b2=b1(aw);
return b1;
},browser:{}});
bG.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b2,b1){by["[object "+b1+"]"]=b1.toLowerCase();
});
bW=bG.uaMatch(bY);
if(bW.browser){bG.browser[bW.browser]=true;
bG.browser.version=bW.version;
}if(bG.browser.webkit){bG.browser.safari=true;
}if(bN.test("\xA0")){bJ=/^[\s\xA0]+/;
bF=/[\s\xA0]+$/;
}bE=bG(aw);
if(aw.addEventListener){e=function(){aw.removeEventListener("DOMContentLoaded",e,false);
bG.ready();
};
}else{if(aw.attachEvent){e=function(){if(aw.readyState==="complete"){aw.detachEvent("onreadystatechange",e);
bG.ready();
}};
}}function bx(){if(bG.isReady){return;
}try{aw.documentElement.doScroll("left");
}catch(b1){setTimeout(bx,1);
return;
}bG.ready();
}return bG;
})();
var a4={};
function Y(e){var bw=a4[e]={},bx,by;
e=e.split(/\s+/);
for(bx=0,by=e.length;
bx<by;
bx++){bw[e[bx]]=true;
}return bw;
}b.Callbacks=function(by){by=by?(a4[by]||Y(by)):{};
var bD=[],bE=[],bz,e,bA,bx,bB,bC,bG=function(bH){var bI,bL,bK,bJ,bM;
for(bI=0,bL=bH.length;
bI<bL;
bI++){bK=bH[bI];
bJ=b.type(bK);
if(bJ==="array"){bG(bK);
}else{if(bJ==="function"){if(!by.unique||!bF.has(bK)){bD.push(bK);
}}}}},bw=function(bI,bH){bH=bH||[];
bz=!by.memory||[bI,bH];
e=true;
bA=true;
bC=bx||0;
bx=0;
bB=bD.length;
for(;
bD&&bC<bB;
bC++){if(bD[bC].apply(bI,bH)===false&&by.stopOnFalse){bz=true;
break;
}}bA=false;
if(bD){if(!by.once){if(bE&&bE.length){bz=bE.shift();
bF.fireWith(bz[0],bz[1]);
}}else{if(bz===true){bF.disable();
}else{bD=[];
}}}},bF={add:function(){if(bD){var bH=bD.length;
bG(arguments);
if(bA){bB=bD.length;
}else{if(bz&&bz!==true){bx=bH;
bw(bz[0],bz[1]);
}}}return this;
},remove:function(){if(bD){var bH=arguments,bJ=0,bK=bH.length;
for(;
bJ<bK;
bJ++){for(var bI=0;
bI<bD.length;
bI++){if(bH[bJ]===bD[bI]){if(bA){if(bI<=bB){bB--;
if(bI<=bC){bC--;
}}}bD.splice(bI--,1);
if(by.unique){break;
}}}}}return this;
},has:function(bI){if(bD){var bH=0,bJ=bD.length;
for(;
bH<bJ;
bH++){if(bI===bD[bH]){return true;
}}}return false;
},empty:function(){bD=[];
return this;
},disable:function(){bD=bE=bz=M;
return this;
},disabled:function(){return !bD;
},lock:function(){bE=M;
if(!bz||bz===true){bF.disable();
}return this;
},locked:function(){return !bE;
},fireWith:function(bI,bH){if(bE){if(bA){if(!by.once){bE.push([bI,bH]);
}}else{if(!(by.once&&bz)){bw(bI,bH);
}}}return this;
},fire:function(){bF.fireWith(this,arguments);
return this;
},fired:function(){return !!e;
}};
return bF;
};
var aL=[].slice;
b.extend({Deferred:function(bz){var by=b.Callbacks("once memory"),bx=b.Callbacks("once memory"),bw=b.Callbacks("memory"),e="pending",bB={resolve:by,reject:bx,notify:bw},bD={done:by.add,fail:bx.add,progress:bw.add,state:function(){return e;
},isResolved:by.fired,isRejected:bx.fired,then:function(bF,bE,bG){bC.done(bF).fail(bE).progress(bG);
return this;
},always:function(){bC.done.apply(bC,arguments).fail.apply(bC,arguments);
return this;
},pipe:function(bG,bF,bE){return b.Deferred(function(bH){b.each({done:[bG,"resolve"],fail:[bF,"reject"],progress:[bE,"notify"]},function(bJ,bM){var bI=bM[0],bL=bM[1],bK;
if(b.isFunction(bI)){bC[bJ](function(){bK=bI.apply(this,arguments);
if(bK&&b.isFunction(bK.promise)){bK.promise().then(bH.resolve,bH.reject,bH.notify);
}else{bH[bL+"With"](this===bC?bH:this,[bK]);
}});
}else{bC[bJ](bH[bL]);
}});
}).promise();
},promise:function(bF){if(bF==null){bF=bD;
}else{for(var bE in bD){bF[bE]=bD[bE];
}}return bF;
}},bC=bD.promise({}),bA;
for(bA in bB){bC[bA]=bB[bA].fire;
bC[bA+"With"]=bB[bA].fireWith;
}bC.done(function(){e="resolved";
},bx.disable,bw.lock).fail(function(){e="rejected";
},by.disable,bw.lock);
if(bz){bz.call(bC,bC);
}return bC;
},when:function(bB){var by=aL.call(arguments,0),bw=0,e=by.length,bC=new Array(e),bx=e,bz=e,bD=e<=1&&bB&&b.isFunction(bB.promise)?bB:b.Deferred(),bF=bD.promise();
function bE(bG){return function(bH){by[bG]=arguments.length>1?aL.call(arguments,0):bH;
if(!(--bx)){bD.resolveWith(bD,by);
}};
}function bA(bG){return function(bH){bC[bG]=arguments.length>1?aL.call(arguments,0):bH;
bD.notifyWith(bF,bC);
};
}if(e>1){for(;
bw<e;
bw++){if(by[bw]&&by[bw].promise&&b.isFunction(by[bw].promise)){by[bw].promise().then(bE(bw),bD.reject,bA(bw));
}else{--bx;
}}if(!bx){bD.resolveWith(bD,by);
}}else{if(bD!==bB){bD.resolveWith(bD,e?[bB]:[]);
}}return bF;
}});
b.support=(function(){var bJ,bI,bF,bG,by,bE,bD,bA,bK,bB,bz,bx,bw=aw.createElement("div"),bH=aw.documentElement;
bw.setAttribute("className","t");
bw.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
bI=bw.getElementsByTagName("*");
bF=bw.getElementsByTagName("a")[0];
if(!bI||!bI.length||!bF){return{};
}bG=aw.createElement("select");
by=bG.appendChild(aw.createElement("option"));
bE=bw.getElementsByTagName("input")[0];
bJ={leadingWhitespace:(bw.firstChild.nodeType===3),tbody:!bw.getElementsByTagName("tbody").length,htmlSerialize:!!bw.getElementsByTagName("link").length,style:/top/.test(bF.getAttribute("style")),hrefNormalized:(bF.getAttribute("href")==="/a"),opacity:/^0.55/.test(bF.style.opacity),cssFloat:!!bF.style.cssFloat,checkOn:(bE.value==="on"),optSelected:by.selected,getSetAttribute:bw.className!=="t",enctype:!!aw.createElement("form").enctype,html5Clone:aw.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,pixelMargin:true};
b.boxModel=bJ.boxModel=(aw.compatMode==="CSS1Compat");
bE.checked=true;
bJ.noCloneChecked=bE.cloneNode(true).checked;
bG.disabled=true;
bJ.optDisabled=!by.disabled;
try{delete bw.test;
}catch(bC){bJ.deleteExpando=false;
}if(!bw.addEventListener&&bw.attachEvent&&bw.fireEvent){bw.attachEvent("onclick",function(){bJ.noCloneEvent=false;
});
bw.cloneNode(true).fireEvent("onclick");
}bE=aw.createElement("input");
bE.value="t";
bE.setAttribute("type","radio");
bJ.radioValue=bE.value==="t";
bE.setAttribute("checked","checked");
bE.setAttribute("name","t");
bw.appendChild(bE);
bD=aw.createDocumentFragment();
bD.appendChild(bw.lastChild);
bJ.checkClone=bD.cloneNode(true).cloneNode(true).lastChild.checked;
bJ.appendChecked=bE.checked;
bD.removeChild(bE);
bD.appendChild(bw);
if(bw.attachEvent){for(bz in {submit:1,change:1,focusin:1}){bB="on"+bz;
bx=(bB in bw);
if(!bx){bw.setAttribute(bB,"return;");
bx=(typeof bw[bB]==="function");
}bJ[bz+"Bubbles"]=bx;
}}bD.removeChild(bw);
bD=bG=by=bw=bE=null;
b(function(){var bN,bW,bX,bV,bP,bQ,bS,bM,bL,bR,bO,e,bU,bT=aw.getElementsByTagName("body")[0];
if(!bT){return;
}bM=1;
bU="padding:0;margin:0;border:";
bO="position:absolute;top:0;left:0;width:1px;height:1px;";
e=bU+"0;visibility:hidden;";
bL="style='"+bO+bU+"5px solid #000;";
bR="<div "+bL+"display:block;'><div style='"+bU+"0;display:block;overflow:hidden;'></div></div><table "+bL+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
bN=aw.createElement("div");
bN.style.cssText=e+"width:0;height:0;position:static;top:0;margin-top:"+bM+"px";
bT.insertBefore(bN,bT.firstChild);
bw=aw.createElement("div");
bN.appendChild(bw);
bw.innerHTML="<table><tr><td style='"+bU+"0;display:none'></td><td>t</td></tr></table>";
bA=bw.getElementsByTagName("td");
bx=(bA[0].offsetHeight===0);
bA[0].style.display="";
bA[1].style.display="none";
bJ.reliableHiddenOffsets=bx&&(bA[0].offsetHeight===0);
if(be.getComputedStyle){bw.innerHTML="";
bS=aw.createElement("div");
bS.style.width="0";
bS.style.marginRight="0";
bw.style.width="2px";
bw.appendChild(bS);
bJ.reliableMarginRight=(parseInt((be.getComputedStyle(bS,null)||{marginRight:0}).marginRight,10)||0)===0;
}if(typeof bw.style.zoom!=="undefined"){bw.innerHTML="";
bw.style.width=bw.style.padding="1px";
bw.style.border=0;
bw.style.overflow="hidden";
bw.style.display="inline";
bw.style.zoom=1;
bJ.inlineBlockNeedsLayout=(bw.offsetWidth===3);
bw.style.display="block";
bw.style.overflow="visible";
bw.innerHTML="<div style='width:5px;'></div>";
bJ.shrinkWrapBlocks=(bw.offsetWidth!==3);
}bw.style.cssText=bO+e;
bw.innerHTML=bR;
bW=bw.firstChild;
bX=bW.firstChild;
bP=bW.nextSibling.firstChild.firstChild;
bQ={doesNotAddBorder:(bX.offsetTop!==5),doesAddBorderForTableAndCells:(bP.offsetTop===5)};
bX.style.position="fixed";
bX.style.top="20px";
bQ.fixedPosition=(bX.offsetTop===20||bX.offsetTop===15);
bX.style.position=bX.style.top="";
bW.style.overflow="hidden";
bW.style.position="relative";
bQ.subtractsBorderForOverflowNotVisible=(bX.offsetTop===-5);
bQ.doesNotIncludeMarginInBodyOffset=(bT.offsetTop!==bM);
if(be.getComputedStyle){bw.style.marginTop="1%";
bJ.pixelMargin=(be.getComputedStyle(bw,null)||{marginTop:0}).marginTop!=="1%";
}if(typeof bN.style.zoom!=="undefined"){bN.style.zoom=1;
}bT.removeChild(bN);
bS=bw=bN=null;
b.extend(bJ,bQ);
});
return bJ;
})();
var aU=/^(?:\{.*\}|\[.*\])$/,aB=/([A-Z])/g;
b.extend({cache:{},uuid:0,expando:"jQuery"+(b.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?b.cache[e[b.expando]]:e[b.expando];
return !!e&&!T(e);
},data:function(by,bw,bA,bz){if(!b.acceptData(by)){return;
}var bH,bB,bE,bF=b.expando,bD=typeof bw==="string",bG=by.nodeType,e=bG?b.cache:by,bx=bG?by[bF]:by[bF]&&bF,bC=bw==="events";
if((!bx||!e[bx]||(!bC&&!bz&&!e[bx].data))&&bD&&bA===M){return;
}if(!bx){if(bG){by[bF]=bx=++b.uuid;
}else{bx=bF;
}}if(!e[bx]){e[bx]={};
if(!bG){e[bx].toJSON=b.noop;
}}if(typeof bw==="object"||typeof bw==="function"){if(bz){e[bx]=b.extend(e[bx],bw);
}else{e[bx].data=b.extend(e[bx].data,bw);
}}bH=bB=e[bx];
if(!bz){if(!bB.data){bB.data={};
}bB=bB.data;
}if(bA!==M){bB[b.camelCase(bw)]=bA;
}if(bC&&!bB[bw]){return bH.events;
}if(bD){bE=bB[bw];
if(bE==null){bE=bB[b.camelCase(bw)];
}}else{bE=bB;
}return bE;
},removeData:function(by,bw,bz){if(!b.acceptData(by)){return;
}var bC,bB,bA,bD=b.expando,bE=by.nodeType,e=bE?b.cache:by,bx=bE?by[bD]:bD;
if(!e[bx]){return;
}if(bw){bC=bz?e[bx]:e[bx].data;
if(bC){if(!b.isArray(bw)){if(bw in bC){bw=[bw];
}else{bw=b.camelCase(bw);
if(bw in bC){bw=[bw];
}else{bw=bw.split(" ");
}}}for(bB=0,bA=bw.length;
bB<bA;
bB++){delete bC[bw[bB]];
}if(!(bz?T:b.isEmptyObject)(bC)){return;
}}}if(!bz){delete e[bx].data;
if(!T(e[bx])){return;
}}if(b.support.deleteExpando||!e.setInterval){delete e[bx];
}else{e[bx]=null;
}if(bE){if(b.support.deleteExpando){delete by[bD];
}else{if(by.removeAttribute){by.removeAttribute(bD);
}else{by[bD]=null;
}}}},_data:function(bw,e,bx){return b.data(bw,e,bx,true);
},acceptData:function(bw){if(bw.nodeName){var e=b.noData[bw.nodeName.toLowerCase()];
if(e){return !(e===true||bw.getAttribute("classid")!==e);
}}return true;
}});
b.fn.extend({data:function(bE,bD){var bz,bw,bC,e,by,bx=this[0],bB=0,bA=null;
if(bE===M){if(this.length){bA=b.data(bx);
if(bx.nodeType===1&&!b._data(bx,"parsedAttrs")){bC=bx.attributes;
for(by=bC.length;
bB<by;
bB++){e=bC[bB].name;
if(e.indexOf("data-")===0){e=b.camelCase(e.substring(5));
a7(bx,e,bA[e]);
}}b._data(bx,"parsedAttrs",true);
}}return bA;
}if(typeof bE==="object"){return this.each(function(){b.data(this,bE);
});
}bz=bE.split(".",2);
bz[1]=bz[1]?"."+bz[1]:"";
bw=bz[1]+"!";
return b.access(this,function(bF){if(bF===M){bA=this.triggerHandler("getData"+bw,[bz[0]]);
if(bA===M&&bx){bA=b.data(bx,bE);
bA=a7(bx,bE,bA);
}return bA===M&&bz[1]?this.data(bz[0]):bA;
}bz[1]=bF;
this.each(function(){var bG=b(this);
bG.triggerHandler("setData"+bw,bz);
b.data(this,bE,bF);
bG.triggerHandler("changeData"+bw,bz);
});
},null,bD,arguments.length>1,null,false);
},removeData:function(e){return this.each(function(){b.removeData(this,e);
});
}});
function a7(by,bx,bz){if(bz===M&&by.nodeType===1){var bw="data-"+bx.replace(aB,"-$1").toLowerCase();
bz=by.getAttribute(bw);
if(typeof bz==="string"){try{bz=bz==="true"?true:bz==="false"?false:bz==="null"?null:b.isNumeric(bz)?+bz:aU.test(bz)?b.parseJSON(bz):bz;
}catch(bA){}b.data(by,bx,bz);
}else{bz=M;
}}return bz;
}function T(bw){for(var e in bw){if(e==="data"&&b.isEmptyObject(bw[e])){continue;
}if(e!=="toJSON"){return false;
}}return true;
}function bk(bz,by,bB){var bx=by+"defer",bw=by+"queue",e=by+"mark",bA=b._data(bz,bx);
if(bA&&(bB==="queue"||!b._data(bz,bw))&&(bB==="mark"||!b._data(bz,e))){setTimeout(function(){if(!b._data(bz,bw)&&!b._data(bz,e)){b.removeData(bz,bx,true);
bA.fire();
}},0);
}}b.extend({_mark:function(bw,e){if(bw){e=(e||"fx")+"mark";
b._data(bw,e,(b._data(bw,e)||0)+1);
}},_unmark:function(bz,by,bw){if(bz!==true){bw=by;
by=bz;
bz=false;
}if(by){bw=bw||"fx";
var e=bw+"mark",bx=bz?0:((b._data(by,e)||1)-1);
if(bx){b._data(by,e,bx);
}else{b.removeData(by,e,true);
bk(by,bw,"mark");
}}},queue:function(bw,e,by){var bx;
if(bw){e=(e||"fx")+"queue";
bx=b._data(bw,e);
if(by){if(!bx||b.isArray(by)){bx=b._data(bw,e,b.makeArray(by));
}else{bx.push(by);
}}return bx||[];
}},dequeue:function(bz,by){by=by||"fx";
var bw=b.queue(bz,by),bx=bw.shift(),e={};
if(bx==="inprogress"){bx=bw.shift();
}if(bx){if(by==="fx"){bw.unshift("inprogress");
}b._data(bz,by+".run",e);
bx.call(bz,function(){b.dequeue(bz,by);
},e);
}if(!bw.length){b.removeData(bz,by+"queue "+by+".run",true);
bk(bz,by,"queue");
}}});
b.fn.extend({queue:function(e,bw){var bx=2;
if(typeof e!=="string"){bw=e;
e="fx";
bx--;
}if(arguments.length<bx){return b.queue(this[0],e);
}return bw===M?this:this.each(function(){var by=b.queue(this,e,bw);
if(e==="fx"&&by[0]!=="inprogress"){b.dequeue(this,e);
}});
},dequeue:function(e){return this.each(function(){b.dequeue(this,e);
});
},delay:function(bw,e){bw=b.fx?b.fx.speeds[bw]||bw:bw;
e=e||"fx";
return this.queue(e,function(by,bx){var bz=setTimeout(by,bw);
bx.stop=function(){clearTimeout(bz);
};
});
},clearQueue:function(e){return this.queue(e||"fx",[]);
},promise:function(bE,bx){if(typeof bE!=="string"){bx=bE;
bE=M;
}bE=bE||"fx";
var e=b.Deferred(),bw=this,bz=bw.length,bC=1,bA=bE+"defer",bB=bE+"queue",bD=bE+"mark",by;
function bF(){if(!(--bC)){e.resolveWith(bw,[bw]);
}}while(bz--){if((by=b.data(bw[bz],bA,M,true)||(b.data(bw[bz],bB,M,true)||b.data(bw[bz],bD,M,true))&&b.data(bw[bz],bA,b.Callbacks("once memory"),true))){bC++;
by.add(bF);
}}bF();
return e.promise(bx);
}});
var aR=/[\n\t\r]/g,ah=/\s+/,aW=/\r/g,g=/^(?:button|input)$/i,D=/^(?:button|input|object|select|textarea)$/i,l=/^a(?:rea)?$/i,ap=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,F=b.support.getSetAttribute,bg,a0,aH;
b.fn.extend({attr:function(e,bw){return b.access(this,b.attr,e,bw,arguments.length>1);
},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e);
});
},prop:function(e,bw){return b.access(this,b.prop,e,bw,arguments.length>1);
},removeProp:function(e){e=b.propFix[e]||e;
return this.each(function(){try{this[e]=M;
delete this[e];
}catch(bw){}});
},addClass:function(bz){var bB,bx,bw,by,bA,bC,e;
if(b.isFunction(bz)){return this.each(function(bD){b(this).addClass(bz.call(this,bD,this.className));
});
}if(bz&&typeof bz==="string"){bB=bz.split(ah);
for(bx=0,bw=this.length;
bx<bw;
bx++){by=this[bx];
if(by.nodeType===1){if(!by.className&&bB.length===1){by.className=bz;
}else{bA=" "+by.className+" ";
for(bC=0,e=bB.length;
bC<e;
bC++){if(!~bA.indexOf(" "+bB[bC]+" ")){bA+=bB[bC]+" ";
}}by.className=b.trim(bA);
}}}}return this;
},removeClass:function(bA){var bB,bx,bw,bz,by,bC,e;
if(b.isFunction(bA)){return this.each(function(bD){b(this).removeClass(bA.call(this,bD,this.className));
});
}if((bA&&typeof bA==="string")||bA===M){bB=(bA||"").split(ah);
for(bx=0,bw=this.length;
bx<bw;
bx++){bz=this[bx];
if(bz.nodeType===1&&bz.className){if(bA){by=(" "+bz.className+" ").replace(aR," ");
for(bC=0,e=bB.length;
bC<e;
bC++){by=by.replace(" "+bB[bC]+" "," ");
}bz.className=b.trim(by);
}else{bz.className="";
}}}}return this;
},toggleClass:function(by,bw){var bx=typeof by,e=typeof bw==="boolean";
if(b.isFunction(by)){return this.each(function(bz){b(this).toggleClass(by.call(this,bz,this.className,bw),bw);
});
}return this.each(function(){if(bx==="string"){var bB,bA=0,bz=b(this),bC=bw,bD=by.split(ah);
while((bB=bD[bA++])){bC=e?bC:!bz.hasClass(bB);
bz[bC?"addClass":"removeClass"](bB);
}}else{if(bx==="undefined"||bx==="boolean"){if(this.className){b._data(this,"__className__",this.className);
}this.className=this.className||by===false?"":b._data(this,"__className__")||"";
}}});
},hasClass:function(e){var by=" "+e+" ",bx=0,bw=this.length;
for(;
bx<bw;
bx++){if(this[bx].nodeType===1&&(" "+this[bx].className+" ").replace(aR," ").indexOf(by)>-1){return true;
}}return false;
},val:function(by){var e,bw,bz,bx=this[0];
if(!arguments.length){if(bx){e=b.valHooks[bx.type]||b.valHooks[bx.nodeName.toLowerCase()];
if(e&&"get" in e&&(bw=e.get(bx,"value"))!==M){return bw;
}bw=bx.value;
return typeof bw==="string"?bw.replace(aW,""):bw==null?"":bw;
}return;
}bz=b.isFunction(by);
return this.each(function(bB){var bA=b(this),bC;
if(this.nodeType!==1){return;
}if(bz){bC=by.call(this,bB,bA.val());
}else{bC=by;
}if(bC==null){bC="";
}else{if(typeof bC==="number"){bC+="";
}else{if(b.isArray(bC)){bC=b.map(bC,function(bD){return bD==null?"":bD+"";
});
}}}e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()];
if(!e||!("set" in e)||e.set(this,bC,"value")===M){this.value=bC;
}});
}});
b.extend({valHooks:{option:{get:function(e){var bw=e.attributes.value;
return !bw||bw.specified?e.value:e.text;
}},select:{get:function(e){var bB,bw,bA,by,bz=e.selectedIndex,bC=[],bD=e.options,bx=e.type==="select-one";
if(bz<0){return null;
}bw=bx?bz:0;
bA=bx?bz+1:bD.length;
for(;
bw<bA;
bw++){by=bD[bw];
if(by.selected&&(b.support.optDisabled?!by.disabled:by.getAttribute("disabled")===null)&&(!by.parentNode.disabled||!b.nodeName(by.parentNode,"optgroup"))){bB=b(by).val();
if(bx){return bB;
}bC.push(bB);
}}if(bx&&!bC.length&&bD.length){return b(bD[bz]).val();
}return bC;
},set:function(bw,bx){var e=b.makeArray(bx);
b(bw).find("option").each(function(){this.selected=b.inArray(b(this).val(),e)>=0;
});
if(!e.length){bw.selectedIndex=-1;
}return e;
}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(bB,by,bC,bA){var bx,e,bz,bw=bB.nodeType;
if(!bB||bw===3||bw===8||bw===2){return;
}if(bA&&by in b.attrFn){return b(bB)[by](bC);
}if(typeof bB.getAttribute==="undefined"){return b.prop(bB,by,bC);
}bz=bw!==1||!b.isXMLDoc(bB);
if(bz){by=by.toLowerCase();
e=b.attrHooks[by]||(ap.test(by)?a0:bg);
}if(bC!==M){if(bC===null){b.removeAttr(bB,by);
return;
}else{if(e&&"set" in e&&bz&&(bx=e.set(bB,bC,by))!==M){return bx;
}else{bB.setAttribute(by,""+bC);
return bC;
}}}else{if(e&&"get" in e&&bz&&(bx=e.get(bB,by))!==null){return bx;
}else{bx=bB.getAttribute(by);
return bx===null?M:bx;
}}},removeAttr:function(bz,bB){var bA,bC,bx,e,bw,by=0;
if(bB&&bz.nodeType===1){bC=bB.toLowerCase().split(ah);
e=bC.length;
for(;
by<e;
by++){bx=bC[by];
if(bx){bA=b.propFix[bx]||bx;
bw=ap.test(bx);
if(!bw){b.attr(bz,bx,"");
}bz.removeAttribute(F?bx:bA);
if(bw&&bA in bz){bz[bA]=false;
}}}}},attrHooks:{type:{set:function(e,bw){if(g.test(e.nodeName)&&e.parentNode){b.error("type property can't be changed");
}else{if(!b.support.radioValue&&bw==="radio"&&b.nodeName(e,"input")){var bx=e.value;
e.setAttribute("type",bw);
if(bx){e.value=bx;
}return bw;
}}}},value:{get:function(bw,e){if(bg&&b.nodeName(bw,"button")){return bg.get(bw,e);
}return e in bw?bw.value:null;
},set:function(bw,bx,e){if(bg&&b.nodeName(bw,"button")){return bg.set(bw,bx,e);
}bw.value=bx;
}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(bA,by,bB){var bx,e,bz,bw=bA.nodeType;
if(!bA||bw===3||bw===8||bw===2){return;
}bz=bw!==1||!b.isXMLDoc(bA);
if(bz){by=b.propFix[by]||by;
e=b.propHooks[by];
}if(bB!==M){if(e&&"set" in e&&(bx=e.set(bA,bB,by))!==M){return bx;
}else{return(bA[by]=bB);
}}else{if(e&&"get" in e&&(bx=e.get(bA,by))!==null){return bx;
}else{return bA[by];
}}},propHooks:{tabIndex:{get:function(bw){var e=bw.getAttributeNode("tabindex");
return e&&e.specified?parseInt(e.value,10):D.test(bw.nodeName)||l.test(bw.nodeName)&&bw.href?0:M;
}}}});
b.attrHooks.tabindex=b.propHooks.tabIndex;
a0={get:function(bw,e){var by,bx=b.prop(bw,e);
return bx===true||typeof bx!=="boolean"&&(by=bw.getAttributeNode(e))&&by.nodeValue!==false?e.toLowerCase():M;
},set:function(bw,by,e){var bx;
if(by===false){b.removeAttr(bw,e);
}else{bx=b.propFix[e]||e;
if(bx in bw){bw[bx]=true;
}bw.setAttribute(e,e.toLowerCase());
}return e;
}};
if(!F){aH={name:true,id:true,coords:true};
bg=b.valHooks.button={get:function(bx,bw){var e;
e=bx.getAttributeNode(bw);
return e&&(aH[bw]?e.nodeValue!=="":e.specified)?e.nodeValue:M;
},set:function(bx,by,bw){var e=bx.getAttributeNode(bw);
if(!e){e=aw.createAttribute(bw);
bx.setAttributeNode(e);
}return(e.nodeValue=by+"");
}};
b.attrHooks.tabindex.set=bg.set;
b.each(["width","height"],function(bw,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{set:function(bx,by){if(by===""){bx.setAttribute(e,"auto");
return by;
}}});
});
b.attrHooks.contenteditable={get:bg.get,set:function(bw,bx,e){if(bx===""){bx="false";
}bg.set(bw,bx,e);
}};
}if(!b.support.hrefNormalized){b.each(["href","src","width","height"],function(bw,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{get:function(by){var bx=by.getAttribute(e,2);
return bx===null?M:bx;
}});
});
}if(!b.support.style){b.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||M;
},set:function(e,bw){return(e.style.cssText=""+bw);
}};
}if(!b.support.optSelected){b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(bw){var e=bw.parentNode;
if(e){e.selectedIndex;
if(e.parentNode){e.parentNode.selectedIndex;
}}return null;
}});
}if(!b.support.enctype){b.propFix.enctype="encoding";
}if(!b.support.checkOn){b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value;
}};
});
}b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,bw){if(b.isArray(bw)){return(e.checked=b.inArray(b(e).val(),bw)>=0);
}}});
});
var bf=/^(?:textarea|input|select)$/i,n=/^([^\.]*)?(?:\.(.+))?$/,K=/(?:^|\s)hover(\.\S+)?\b/,aQ=/^key/,bh=/^(?:mouse|contextmenu)|click/,U=/^(?:focusinfocus|focusoutblur)$/,V=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,Z=function(e){var bw=V.exec(e);
if(bw){bw[1]=(bw[1]||"").toLowerCase();
bw[3]=bw[3]&&new RegExp("(?:^|\\s)"+bw[3]+"(?:\\s|$)");
}return bw;
},j=function(bx,e){var bw=bx.attributes||{};
return((!e[1]||bx.nodeName.toLowerCase()===e[1])&&(!e[2]||(bw.id||{}).value===e[2])&&(!e[3]||e[3].test((bw["class"]||{}).value)));
},bu=function(e){return b.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1");
};
b.event={add:function(by,bD,bK,bB,bz){var bE,bC,bL,bJ,bI,bG,e,bH,bw,bA,bx,bF;
if(by.nodeType===3||by.nodeType===8||!bD||!bK||!(bE=b._data(by))){return;
}if(bK.handler){bw=bK;
bK=bw.handler;
bz=bw.selector;
}if(!bK.guid){bK.guid=b.guid++;
}bL=bE.events;
if(!bL){bE.events=bL={};
}bC=bE.handle;
if(!bC){bE.handle=bC=function(bM){return typeof b!=="undefined"&&(!bM||b.event.triggered!==bM.type)?b.event.dispatch.apply(bC.elem,arguments):M;
};
bC.elem=by;
}bD=b.trim(bu(bD)).split(" ");
for(bJ=0;
bJ<bD.length;
bJ++){bI=n.exec(bD[bJ])||[];
bG=bI[1];
e=(bI[2]||"").split(".").sort();
bF=b.event.special[bG]||{};
bG=(bz?bF.delegateType:bF.bindType)||bG;
bF=b.event.special[bG]||{};
bH=b.extend({type:bG,origType:bI[1],data:bB,handler:bK,guid:bK.guid,selector:bz,quick:bz&&Z(bz),namespace:e.join(".")},bw);
bx=bL[bG];
if(!bx){bx=bL[bG]=[];
bx.delegateCount=0;
if(!bF.setup||bF.setup.call(by,bB,e,bC)===false){if(by.addEventListener){by.addEventListener(bG,bC,false);
}else{if(by.attachEvent){by.attachEvent("on"+bG,bC);
}}}}if(bF.add){bF.add.call(by,bH);
if(!bH.handler.guid){bH.handler.guid=bK.guid;
}}if(bz){bx.splice(bx.delegateCount++,0,bH);
}else{bx.push(bH);
}b.event.global[bG]=true;
}by=null;
},global:{},remove:function(bK,bF,bw,bI,bC){var bJ=b.hasData(bK)&&b._data(bK),bG,by,bA,bM,bD,bB,bH,bx,bz,bL,bE,e;
if(!bJ||!(bx=bJ.events)){return;
}bF=b.trim(bu(bF||"")).split(" ");
for(bG=0;
bG<bF.length;
bG++){by=n.exec(bF[bG])||[];
bA=bM=by[1];
bD=by[2];
if(!bA){for(bA in bx){b.event.remove(bK,bA+bF[bG],bw,bI,true);
}continue;
}bz=b.event.special[bA]||{};
bA=(bI?bz.delegateType:bz.bindType)||bA;
bE=bx[bA]||[];
bB=bE.length;
bD=bD?new RegExp("(^|\\.)"+bD.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;
for(bH=0;
bH<bE.length;
bH++){e=bE[bH];
if((bC||bM===e.origType)&&(!bw||bw.guid===e.guid)&&(!bD||bD.test(e.namespace))&&(!bI||bI===e.selector||bI==="**"&&e.selector)){bE.splice(bH--,1);
if(e.selector){bE.delegateCount--;
}if(bz.remove){bz.remove.call(bK,e);
}}}if(bE.length===0&&bB!==bE.length){if(!bz.teardown||bz.teardown.call(bK,bD)===false){b.removeEvent(bK,bA,bJ.handle);
}delete bx[bA];
}}if(b.isEmptyObject(bx)){bL=bJ.handle;
if(bL){bL.elem=null;
}b.removeData(bK,["events","handle"],true);
}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(bw,bE,bB,bK){if(bB&&(bB.nodeType===3||bB.nodeType===8)){return;
}var bH=bw.type||bw,by=[],e,bx,bD,bI,bA,bz,bG,bF,bC,bJ;
if(U.test(bH+b.event.triggered)){return;
}if(bH.indexOf("!")>=0){bH=bH.slice(0,-1);
bx=true;
}if(bH.indexOf(".")>=0){by=bH.split(".");
bH=by.shift();
by.sort();
}if((!bB||b.event.customEvent[bH])&&!b.event.global[bH]){return;
}bw=typeof bw==="object"?bw[b.expando]?bw:new b.Event(bH,bw):new b.Event(bH);
bw.type=bH;
bw.isTrigger=true;
bw.exclusive=bx;
bw.namespace=by.join(".");
bw.namespace_re=bw.namespace?new RegExp("(^|\\.)"+by.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;
bz=bH.indexOf(":")<0?"on"+bH:"";
if(!bB){e=b.cache;
for(bD in e){if(e[bD].events&&e[bD].events[bH]){b.event.trigger(bw,bE,e[bD].handle.elem,true);
}}return;
}bw.result=M;
if(!bw.target){bw.target=bB;
}bE=bE!=null?b.makeArray(bE):[];
bE.unshift(bw);
bG=b.event.special[bH]||{};
if(bG.trigger&&bG.trigger.apply(bB,bE)===false){return;
}bC=[[bB,bG.bindType||bH]];
if(!bK&&!bG.noBubble&&!b.isWindow(bB)){bJ=bG.delegateType||bH;
bI=U.test(bJ+bH)?bB:bB.parentNode;
bA=null;
for(;
bI;
bI=bI.parentNode){bC.push([bI,bJ]);
bA=bI;
}if(bA&&bA===bB.ownerDocument){bC.push([bA.defaultView||bA.parentWindow||be,bJ]);
}}for(bD=0;
bD<bC.length&&!bw.isPropagationStopped();
bD++){bI=bC[bD][0];
bw.type=bC[bD][1];
bF=(b._data(bI,"events")||{})[bw.type]&&b._data(bI,"handle");
if(bF){bF.apply(bI,bE);
}bF=bz&&bI[bz];
if(bF&&b.acceptData(bI)&&bF.apply(bI,bE)===false){bw.preventDefault();
}}bw.type=bH;
if(!bK&&!bw.isDefaultPrevented()){if((!bG._default||bG._default.apply(bB.ownerDocument,bE)===false)&&!(bH==="click"&&b.nodeName(bB,"a"))&&b.acceptData(bB)){if(bz&&bB[bH]&&((bH!=="focus"&&bH!=="blur")||bw.target.offsetWidth!==0)&&!b.isWindow(bB)){bA=bB[bz];
if(bA){bB[bz]=null;
}b.event.triggered=bH;
bB[bH]();
b.event.triggered=M;
if(bA){bB[bz]=bA;
}}}}return bw.result;
},dispatch:function(bI){bI=b.event.fix(bI||be.event);
var bE=((b._data(this,"events")||{})[bI.type]||[]),bD=bE.delegateCount,by=[].slice.call(arguments,0),bF=!bI.exclusive&&!bI.namespace,bA=b.event.special[bI.type]||{},bw=[],bK,bH,bz,bB,bL,bJ,bC,bx,e,bG,bM;
by[0]=bI;
bI.delegateTarget=this;
if(bA.preDispatch&&bA.preDispatch.call(this,bI)===false){return;
}if(bD&&!(bI.button&&bI.type==="click")){bB=b(this);
bB.context=this.ownerDocument||this;
for(bz=bI.target;
bz!=this;
bz=bz.parentNode||this){if(bz.disabled!==true){bJ={};
bx=[];
bB[0]=bz;
for(bK=0;
bK<bD;
bK++){e=bE[bK];
bG=e.selector;
if(bJ[bG]===M){bJ[bG]=(e.quick?j(bz,e.quick):bB.is(bG));
}if(bJ[bG]){bx.push(e);
}}if(bx.length){bw.push({elem:bz,matches:bx});
}}}}if(bE.length>bD){bw.push({elem:this,matches:bE.slice(bD)});
}for(bK=0;
bK<bw.length&&!bI.isPropagationStopped();
bK++){bC=bw[bK];
bI.currentTarget=bC.elem;
for(bH=0;
bH<bC.matches.length&&!bI.isImmediatePropagationStopped();
bH++){e=bC.matches[bH];
if(bF||(!bI.namespace&&!e.namespace)||bI.namespace_re&&bI.namespace_re.test(e.namespace)){bI.data=e.data;
bI.handleObj=e;
bL=((b.event.special[e.origType]||{}).handle||e.handler).apply(bC.elem,by);
if(bL!==M){bI.result=bL;
if(bL===false){bI.preventDefault();
bI.stopPropagation();
}}}}}if(bA.postDispatch){bA.postDispatch.call(this,bI);
}return bI.result;
},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(bw,e){if(bw.which==null){bw.which=e.charCode!=null?e.charCode:e.keyCode;
}return bw;
}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(by,bx){var bz,bA,e,bw=bx.button,bB=bx.fromElement;
if(by.pageX==null&&bx.clientX!=null){bz=by.target.ownerDocument||aw;
bA=bz.documentElement;
e=bz.body;
by.pageX=bx.clientX+(bA&&bA.scrollLeft||e&&e.scrollLeft||0)-(bA&&bA.clientLeft||e&&e.clientLeft||0);
by.pageY=bx.clientY+(bA&&bA.scrollTop||e&&e.scrollTop||0)-(bA&&bA.clientTop||e&&e.clientTop||0);
}if(!by.relatedTarget&&bB){by.relatedTarget=bB===by.target?bx.toElement:bB;
}if(!by.which&&bw!==M){by.which=(bw&1?1:(bw&2?3:(bw&4?2:0)));
}return by;
}},fix:function(bx){if(bx[b.expando]){return bx;
}var bw,bA,e=bx,by=b.event.fixHooks[bx.type]||{},bz=by.props?this.props.concat(by.props):this.props;
bx=b.Event(e);
for(bw=bz.length;
bw;
){bA=bz[--bw];
bx[bA]=e[bA];
}if(!bx.target){bx.target=e.srcElement||aw;
}if(bx.target.nodeType===3){bx.target=bx.target.parentNode;
}if(bx.metaKey===M){bx.metaKey=bx.ctrlKey;
}return by.filter?by.filter(bx,e):bx;
},special:{ready:{setup:b.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(bx,bw,e){if(b.isWindow(this)){this.onbeforeunload=e;
}},teardown:function(bw,e){if(this.onbeforeunload===e){this.onbeforeunload=null;
}}}},simulate:function(bx,bz,by,bw){var bA=b.extend(new b.Event(),by,{type:bx,isSimulated:true,originalEvent:{}});
if(bw){b.event.trigger(bA,null,bz);
}else{b.event.dispatch.call(bz,bA);
}if(bA.isDefaultPrevented()){by.preventDefault();
}}};
b.event.handle=b.event.dispatch;
b.removeEvent=aw.removeEventListener?function(bw,e,bx){if(bw.removeEventListener){bw.removeEventListener(e,bx,false);
}}:function(bw,e,bx){if(bw.detachEvent){bw.detachEvent("on"+e,bx);
}};
b.Event=function(bw,e){if(!(this instanceof b.Event)){return new b.Event(bw,e);
}if(bw&&bw.type){this.originalEvent=bw;
this.type=bw.type;
this.isDefaultPrevented=(bw.defaultPrevented||bw.returnValue===false||bw.getPreventDefault&&bw.getPreventDefault())?i:bm;
}else{this.type=bw;
}if(e){b.extend(this,e);
}this.timeStamp=bw&&bw.timeStamp||b.now();
this[b.expando]=true;
};
function bm(){return false;
}function i(){return true;
}b.Event.prototype={preventDefault:function(){this.isDefaultPrevented=i;
var bw=this.originalEvent;
if(!bw){return;
}if(bw.preventDefault){bw.preventDefault();
}else{bw.returnValue=false;
}},stopPropagation:function(){this.isPropagationStopped=i;
var bw=this.originalEvent;
if(!bw){return;
}if(bw.stopPropagation){bw.stopPropagation();
}bw.cancelBubble=true;
},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i;
this.stopPropagation();
},isDefaultPrevented:bm,isPropagationStopped:bm,isImmediatePropagationStopped:bm};
b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(bw,e){b.event.special[bw]={delegateType:e,bindType:e,handle:function(bA){var bC=this,bB=bA.relatedTarget,bz=bA.handleObj,bx=bz.selector,by;
if(!bB||(bB!==bC&&!b.contains(bC,bB))){bA.type=bz.origType;
by=bz.handler.apply(this,arguments);
bA.type=e;
}return by;
}};
});
if(!b.support.submitBubbles){b.event.special.submit={setup:function(){if(b.nodeName(this,"form")){return false;
}b.event.add(this,"click._submit keypress._submit",function(by){var bx=by.target,bw=b.nodeName(bx,"input")||b.nodeName(bx,"button")?bx.form:M;
if(bw&&!bw._submit_attached){b.event.add(bw,"submit._submit",function(e){e._submit_bubble=true;
});
bw._submit_attached=true;
}});
},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;
if(this.parentNode&&!e.isTrigger){b.event.simulate("submit",this.parentNode,e,true);
}}},teardown:function(){if(b.nodeName(this,"form")){return false;
}b.event.remove(this,"._submit");
}};
}if(!b.support.changeBubbles){b.event.special.change={setup:function(){if(bf.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){b.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true;
}});
b.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false;
b.event.simulate("change",this,e,true);
}});
}return false;
}b.event.add(this,"beforeactivate._change",function(bx){var bw=bx.target;
if(bf.test(bw.nodeName)&&!bw._change_attached){b.event.add(bw,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){b.event.simulate("change",this.parentNode,e,true);
}});
bw._change_attached=true;
}});
},handle:function(bw){var e=bw.target;
if(this!==e||bw.isSimulated||bw.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return bw.handleObj.handler.apply(this,arguments);
}},teardown:function(){b.event.remove(this,"._change");
return bf.test(this.nodeName);
}};
}if(!b.support.focusinBubbles){b.each({focus:"focusin",blur:"focusout"},function(by,e){var bw=0,bx=function(bz){b.event.simulate(e,bz.target,b.event.fix(bz),true);
};
b.event.special[e]={setup:function(){if(bw++===0){aw.addEventListener(by,bx,true);
}},teardown:function(){if(--bw===0){aw.removeEventListener(by,bx,true);
}}};
});
}b.fn.extend({on:function(bx,e,bA,bz,bw){var bB,by;
if(typeof bx==="object"){if(typeof e!=="string"){bA=bA||e;
e=M;
}for(by in bx){this.on(by,e,bA,bx[by],bw);
}return this;
}if(bA==null&&bz==null){bz=e;
bA=e=M;
}else{if(bz==null){if(typeof e==="string"){bz=bA;
bA=M;
}else{bz=bA;
bA=e;
e=M;
}}}if(bz===false){bz=bm;
}else{if(!bz){return this;
}}if(bw===1){bB=bz;
bz=function(bC){b().off(bC);
return bB.apply(this,arguments);
};
bz.guid=bB.guid||(bB.guid=b.guid++);
}return this.each(function(){b.event.add(this,bx,bz,bA,e);
});
},one:function(bw,e,by,bx){return this.on(bw,e,by,bx,1);
},off:function(bx,e,bz){if(bx&&bx.preventDefault&&bx.handleObj){var bw=bx.handleObj;
b(bx.delegateTarget).off(bw.namespace?bw.origType+"."+bw.namespace:bw.origType,bw.selector,bw.handler);
return this;
}if(typeof bx==="object"){for(var by in bx){this.off(by,e,bx[by]);
}return this;
}if(e===false||typeof e==="function"){bz=e;
e=M;
}if(bz===false){bz=bm;
}return this.each(function(){b.event.remove(this,bx,bz,e);
});
},bind:function(e,bx,bw){return this.on(e,null,bx,bw);
},unbind:function(e,bw){return this.off(e,null,bw);
},live:function(e,bx,bw){b(this.context).on(e,this.selector,bx,bw);
return this;
},die:function(e,bw){b(this.context).off(e,this.selector||"**",bw);
return this;
},delegate:function(e,bw,by,bx){return this.on(bw,e,by,bx);
},undelegate:function(e,bw,bx){return arguments.length==1?this.off(e,"**"):this.off(bw,e,bx);
},trigger:function(e,bw){return this.each(function(){b.event.trigger(e,bw,this);
});
},triggerHandler:function(e,bw){if(this[0]){return b.event.trigger(e,bw,this[0],true);
}},toggle:function(by){var bw=arguments,e=by.guid||b.guid++,bx=0,bz=function(bA){var bB=(b._data(this,"lastToggle"+by.guid)||0)%bx;
b._data(this,"lastToggle"+by.guid,bB+1);
bA.preventDefault();
return bw[bB].apply(this,arguments)||false;
};
bz.guid=e;
while(bx<bw.length){bw[bx++].guid=e;
}return this.click(bz);
},hover:function(e,bw){return this.mouseenter(e).mouseleave(bw||e);
}});
b.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(bw,e){b.fn[e]=function(by,bx){if(bx==null){bx=by;
by=null;
}return arguments.length>0?this.on(e,null,by,bx):this.trigger(e);
};
if(b.attrFn){b.attrFn[e]=true;
}if(aQ.test(e)){b.event.fixHooks[e]=b.event.keyHooks;
}if(bh.test(e)){b.event.fixHooks[e]=b.event.mouseHooks;
}});
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var bI=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,bD="sizcache"+(Math.random()+"").replace(".",""),bJ=0,bM=Object.prototype.toString,bC=false,bB=true,bL=/\\/g,bP=/\r\n/g,bR=/\W/;
[0,0].sort(function(){bB=false;
return 0;
});
var bz=function(bW,e,bZ,b0){bZ=bZ||[];
e=e||aw;
var b2=e;
if(e.nodeType!==1&&e.nodeType!==9){return[];
}if(!bW||typeof bW!=="string"){return bZ;
}var bT,b4,b7,bS,b3,b6,b5,bY,bV=true,bU=bz.isXML(e),bX=[],b1=bW;
do{bI.exec("");
bT=bI.exec(b1);
if(bT){b1=bT[3];
bX.push(bT[1]);
if(bT[2]){bS=bT[3];
break;
}}}while(bT);
if(bX.length>1&&bE.exec(bW)){if(bX.length===2&&bF.relative[bX[0]]){b4=bN(bX[0]+bX[1],e,b0);
}else{b4=bF.relative[bX[0]]?[e]:bz(bX.shift(),e);
while(bX.length){bW=bX.shift();
if(bF.relative[bW]){bW+=bX.shift();
}b4=bN(bW,b4,b0);
}}}else{if(!b0&&bX.length>1&&e.nodeType===9&&!bU&&bF.match.ID.test(bX[0])&&!bF.match.ID.test(bX[bX.length-1])){b3=bz.find(bX.shift(),e,bU);
e=b3.expr?bz.filter(b3.expr,b3.set)[0]:b3.set[0];
}if(e){b3=b0?{expr:bX.pop(),set:bG(b0)}:bz.find(bX.pop(),bX.length===1&&(bX[0]==="~"||bX[0]==="+")&&e.parentNode?e.parentNode:e,bU);
b4=b3.expr?bz.filter(b3.expr,b3.set):b3.set;
if(bX.length>0){b7=bG(b4);
}else{bV=false;
}while(bX.length){b6=bX.pop();
b5=b6;
if(!bF.relative[b6]){b6="";
}else{b5=bX.pop();
}if(b5==null){b5=e;
}bF.relative[b6](b7,b5,bU);
}}else{b7=bX=[];
}}if(!b7){b7=b4;
}if(!b7){bz.error(b6||bW);
}if(bM.call(b7)==="[object Array]"){if(!bV){bZ.push.apply(bZ,b7);
}else{if(e&&e.nodeType===1){for(bY=0;
b7[bY]!=null;
bY++){if(b7[bY]&&(b7[bY]===true||b7[bY].nodeType===1&&bz.contains(e,b7[bY]))){bZ.push(b4[bY]);
}}}else{for(bY=0;
b7[bY]!=null;
bY++){if(b7[bY]&&b7[bY].nodeType===1){bZ.push(b4[bY]);
}}}}}else{bG(b7,bZ);
}if(bS){bz(bS,b2,bZ,b0);
bz.uniqueSort(bZ);
}return bZ;
};
bz.uniqueSort=function(bS){if(bK){bC=bB;
bS.sort(bK);
if(bC){for(var e=1;
e<bS.length;
e++){if(bS[e]===bS[e-1]){bS.splice(e--,1);
}}}}return bS;
};
bz.matches=function(e,bS){return bz(e,null,null,bS);
};
bz.matchesSelector=function(e,bS){return bz(bS,null,null,[e]).length>0;
};
bz.find=function(bY,e,bZ){var bX,bT,bV,bU,bW,bS;
if(!bY){return[];
}for(bT=0,bV=bF.order.length;
bT<bV;
bT++){bW=bF.order[bT];
if((bU=bF.leftMatch[bW].exec(bY))){bS=bU[1];
bU.splice(1,1);
if(bS.substr(bS.length-1)!=="\\"){bU[1]=(bU[1]||"").replace(bL,"");
bX=bF.find[bW](bU,e,bZ);
if(bX!=null){bY=bY.replace(bF.match[bW],"");
break;
}}}}if(!bX){bX=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName("*"):[];
}return{set:bX,expr:bY};
};
bz.filter=function(b2,b1,b5,bV){var bX,e,b0,b7,b4,bS,bU,bW,b3,bT=b2,b6=[],bZ=b1,bY=b1&&b1[0]&&bz.isXML(b1[0]);
while(b2&&b1.length){for(b0 in bF.filter){if((bX=bF.leftMatch[b0].exec(b2))!=null&&bX[2]){bS=bF.filter[b0];
bU=bX[1];
e=false;
bX.splice(1,1);
if(bU.substr(bU.length-1)==="\\"){continue;
}if(bZ===b6){b6=[];
}if(bF.preFilter[b0]){bX=bF.preFilter[b0](bX,bZ,b5,b6,bV,bY);
if(!bX){e=b7=true;
}else{if(bX===true){continue;
}}}if(bX){for(bW=0;
(b4=bZ[bW])!=null;
bW++){if(b4){b7=bS(b4,bX,bW,bZ);
b3=bV^b7;
if(b5&&b7!=null){if(b3){e=true;
}else{bZ[bW]=false;
}}else{if(b3){b6.push(b4);
e=true;
}}}}}if(b7!==M){if(!b5){bZ=b6;
}b2=b2.replace(bF.match[b0],"");
if(!e){return[];
}break;
}}}if(b2===bT){if(e==null){bz.error(b2);
}else{break;
}}bT=b2;
}return bZ;
};
bz.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e);
};
var bx=bz.getText=function(bV){var bT,bU,e=bV.nodeType,bS="";
if(e){if(e===1||e===9||e===11){if(typeof bV.textContent==="string"){return bV.textContent;
}else{if(typeof bV.innerText==="string"){return bV.innerText.replace(bP,"");
}else{for(bV=bV.firstChild;
bV;
bV=bV.nextSibling){bS+=bx(bV);
}}}}else{if(e===3||e===4){return bV.nodeValue;
}}}else{for(bT=0;
(bU=bV[bT]);
bT++){if(bU.nodeType!==8){bS+=bx(bU);
}}}return bS;
};
var bF=bz.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href");
},type:function(e){return e.getAttribute("type");
}},relative:{"+":function(bX,bS){var bU=typeof bS==="string",bW=bU&&!bR.test(bS),bY=bU&&!bW;
if(bW){bS=bS.toLowerCase();
}for(var bT=0,e=bX.length,bV;
bT<e;
bT++){if((bV=bX[bT])){while((bV=bV.previousSibling)&&bV.nodeType!==1){}bX[bT]=bY||bV&&bV.nodeName.toLowerCase()===bS?bV||false:bV===bS;
}}if(bY){bz.filter(bS,bX,true);
}},">":function(bX,bS){var bW,bV=typeof bS==="string",bT=0,e=bX.length;
if(bV&&!bR.test(bS)){bS=bS.toLowerCase();
for(;
bT<e;
bT++){bW=bX[bT];
if(bW){var bU=bW.parentNode;
bX[bT]=bU.nodeName.toLowerCase()===bS?bU:false;
}}}else{for(;
bT<e;
bT++){bW=bX[bT];
if(bW){bX[bT]=bV?bW.parentNode:bW.parentNode===bS;
}}if(bV){bz.filter(bS,bX,true);
}}},"":function(bU,bS,bW){var bV,bT=bJ++,e=bO;
if(typeof bS==="string"&&!bR.test(bS)){bS=bS.toLowerCase();
bV=bS;
e=bw;
}e("parentNode",bS,bT,bU,bV,bW);
},"~":function(bU,bS,bW){var bV,bT=bJ++,e=bO;
if(typeof bS==="string"&&!bR.test(bS)){bS=bS.toLowerCase();
bV=bS;
e=bw;
}e("previousSibling",bS,bT,bU,bV,bW);
}},find:{ID:function(bS,bT,bU){if(typeof bT.getElementById!=="undefined"&&!bU){var e=bT.getElementById(bS[1]);
return e&&e.parentNode?[e]:[];
}},NAME:function(bT,bW){if(typeof bW.getElementsByName!=="undefined"){var bS=[],bV=bW.getElementsByName(bT[1]);
for(var bU=0,e=bV.length;
bU<e;
bU++){if(bV[bU].getAttribute("name")===bT[1]){bS.push(bV[bU]);
}}return bS.length===0?null:bS;
}},TAG:function(e,bS){if(typeof bS.getElementsByTagName!=="undefined"){return bS.getElementsByTagName(e[1]);
}}},preFilter:{CLASS:function(bU,bS,bT,e,bX,bY){bU=" "+bU[1].replace(bL,"")+" ";
if(bY){return bU;
}for(var bV=0,bW;
(bW=bS[bV])!=null;
bV++){if(bW){if(bX^(bW.className&&(" "+bW.className+" ").replace(/[\t\n\r]/g," ").indexOf(bU)>=0)){if(!bT){e.push(bW);
}}else{if(bT){bS[bV]=false;
}}}}return false;
},ID:function(e){return e[1].replace(bL,"");
},TAG:function(bS,e){return bS[1].replace(bL,"").toLowerCase();
},CHILD:function(e){if(e[1]==="nth"){if(!e[2]){bz.error(e[0]);
}e[2]=e[2].replace(/^\+|\s*/g,"");
var bS=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);
e[2]=(bS[1]+(bS[2]||1))-0;
e[3]=bS[3]-0;
}else{if(e[2]){bz.error(e[0]);
}}e[0]=bJ++;
return e;
},ATTR:function(bV,bS,bT,e,bW,bX){var bU=bV[1]=bV[1].replace(bL,"");
if(!bX&&bF.attrMap[bU]){bV[1]=bF.attrMap[bU];
}bV[4]=(bV[4]||bV[5]||"").replace(bL,"");
if(bV[2]==="~="){bV[4]=" "+bV[4]+" ";
}return bV;
},PSEUDO:function(bV,bS,bT,e,bW){if(bV[1]==="not"){if((bI.exec(bV[3])||"").length>1||/^\w/.test(bV[3])){bV[3]=bz(bV[3],null,null,bS);
}else{var bU=bz.filter(bV[3],bS,bT,true^bW);
if(!bT){e.push.apply(e,bU);
}return false;
}}else{if(bF.match.POS.test(bV[0])||bF.match.CHILD.test(bV[0])){return true;
}}return bV;
},POS:function(e){e.unshift(true);
return e;
}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden";
},disabled:function(e){return e.disabled===true;
},checked:function(e){return e.checked===true;
},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex;
}return e.selected===true;
},parent:function(e){return !!e.firstChild;
},empty:function(e){return !e.firstChild;
},has:function(bT,bS,e){return !!bz(e[3],bT).length;
},header:function(e){return(/h\d/i).test(e.nodeName);
},text:function(bT){var e=bT.getAttribute("type"),bS=bT.type;
return bT.nodeName.toLowerCase()==="input"&&"text"===bS&&(e===bS||e===null);
},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type;
},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type;
},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type;
},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type;
},submit:function(bS){var e=bS.nodeName.toLowerCase();
return(e==="input"||e==="button")&&"submit"===bS.type;
},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type;
},reset:function(bS){var e=bS.nodeName.toLowerCase();
return(e==="input"||e==="button")&&"reset"===bS.type;
},button:function(bS){var e=bS.nodeName.toLowerCase();
return e==="input"&&"button"===bS.type||e==="button";
},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName);
},focus:function(e){return e===e.ownerDocument.activeElement;
}},setFilters:{first:function(bS,e){return e===0;
},last:function(bT,bS,e,bU){return bS===bU.length-1;
},even:function(bS,e){return e%2===0;
},odd:function(bS,e){return e%2===1;
},lt:function(bT,bS,e){return bS<e[3]-0;
},gt:function(bT,bS,e){return bS>e[3]-0;
},nth:function(bT,bS,e){return e[3]-0===bS;
},eq:function(bT,bS,e){return e[3]-0===bS;
}},filter:{PSEUDO:function(bT,bY,bX,bZ){var e=bY[1],bS=bF.filters[e];
if(bS){return bS(bT,bX,bY,bZ);
}else{if(e==="contains"){return(bT.textContent||bT.innerText||bx([bT])||"").indexOf(bY[3])>=0;
}else{if(e==="not"){var bU=bY[3];
for(var bW=0,bV=bU.length;
bW<bV;
bW++){if(bU[bW]===bT){return false;
}}return true;
}else{bz.error(e);
}}}},CHILD:function(bT,bV){var bU,b1,bX,b0,e,bW,bZ,bY=bV[1],bS=bT;
switch(bY){case"only":case"first":while((bS=bS.previousSibling)){if(bS.nodeType===1){return false;
}}if(bY==="first"){return true;
}bS=bT;
case"last":while((bS=bS.nextSibling)){if(bS.nodeType===1){return false;
}}return true;
case"nth":bU=bV[2];
b1=bV[3];
if(bU===1&&b1===0){return true;
}bX=bV[0];
b0=bT.parentNode;
if(b0&&(b0[bD]!==bX||!bT.nodeIndex)){bW=0;
for(bS=b0.firstChild;
bS;
bS=bS.nextSibling){if(bS.nodeType===1){bS.nodeIndex=++bW;
}}b0[bD]=bX;
}bZ=bT.nodeIndex-b1;
if(bU===0){return bZ===0;
}else{return(bZ%bU===0&&bZ/bU>=0);
}}},ID:function(bS,e){return bS.nodeType===1&&bS.getAttribute("id")===e;
},TAG:function(bS,e){return(e==="*"&&bS.nodeType===1)||!!bS.nodeName&&bS.nodeName.toLowerCase()===e;
},CLASS:function(bS,e){return(" "+(bS.className||bS.getAttribute("class"))+" ").indexOf(e)>-1;
},ATTR:function(bW,bU){var bT=bU[1],e=bz.attr?bz.attr(bW,bT):bF.attrHandle[bT]?bF.attrHandle[bT](bW):bW[bT]!=null?bW[bT]:bW.getAttribute(bT),bX=e+"",bV=bU[2],bS=bU[4];
return e==null?bV==="!=":!bV&&bz.attr?e!=null:bV==="="?bX===bS:bV==="*="?bX.indexOf(bS)>=0:bV==="~="?(" "+bX+" ").indexOf(bS)>=0:!bS?bX&&e!==false:bV==="!="?bX!==bS:bV==="^="?bX.indexOf(bS)===0:bV==="$="?bX.substr(bX.length-bS.length)===bS:bV==="|="?bX===bS||bX.substr(0,bS.length+1)===bS+"-":false;
},POS:function(bV,bS,bT,bW){var e=bS[2],bU=bF.setFilters[e];
if(bU){return bU(bV,bT,bS,bW);
}}}};
var bE=bF.match.POS,by=function(bS,e){return"\\"+(e-0+1);
};
for(var bA in bF.match){bF.match[bA]=new RegExp(bF.match[bA].source+(/(?![^\[]*\])(?![^\(]*\))/.source));
bF.leftMatch[bA]=new RegExp(/(^(?:.|\r|\n)*?)/.source+bF.match[bA].source.replace(/\\(\d+)/g,by));
}bF.match.globalPOS=bE;
var bG=function(bS,e){bS=Array.prototype.slice.call(bS,0);
if(e){e.push.apply(e,bS);
return e;
}return bS;
};
try{Array.prototype.slice.call(aw.documentElement.childNodes,0)[0].nodeType;
}catch(bQ){bG=function(bV,bU){var bT=0,bS=bU||[];
if(bM.call(bV)==="[object Array]"){Array.prototype.push.apply(bS,bV);
}else{if(typeof bV.length==="number"){for(var e=bV.length;
bT<e;
bT++){bS.push(bV[bT]);
}}else{for(;
bV[bT];
bT++){bS.push(bV[bT]);
}}}return bS;
};
}var bK,bH;
if(aw.documentElement.compareDocumentPosition){bK=function(bS,e){if(bS===e){bC=true;
return 0;
}if(!bS.compareDocumentPosition||!e.compareDocumentPosition){return bS.compareDocumentPosition?-1:1;
}return bS.compareDocumentPosition(e)&4?-1:1;
};
}else{bK=function(bZ,bY){if(bZ===bY){bC=true;
return 0;
}else{if(bZ.sourceIndex&&bY.sourceIndex){return bZ.sourceIndex-bY.sourceIndex;
}}var bW,bS,bT=[],e=[],bV=bZ.parentNode,bX=bY.parentNode,b0=bV;
if(bV===bX){return bH(bZ,bY);
}else{if(!bV){return -1;
}else{if(!bX){return 1;
}}}while(b0){bT.unshift(b0);
b0=b0.parentNode;
}b0=bX;
while(b0){e.unshift(b0);
b0=b0.parentNode;
}bW=bT.length;
bS=e.length;
for(var bU=0;
bU<bW&&bU<bS;
bU++){if(bT[bU]!==e[bU]){return bH(bT[bU],e[bU]);
}}return bU===bW?bH(bZ,e[bU],-1):bH(bT[bU],bY,1);
};
bH=function(bS,e,bT){if(bS===e){return bT;
}var bU=bS.nextSibling;
while(bU){if(bU===e){return -1;
}bU=bU.nextSibling;
}return 1;
};
}(function(){var bS=aw.createElement("div"),bT="script"+(new Date()).getTime(),e=aw.documentElement;
bS.innerHTML="<a name='"+bT+"'/>";
e.insertBefore(bS,e.firstChild);
if(aw.getElementById(bT)){bF.find.ID=function(bV,bW,bX){if(typeof bW.getElementById!=="undefined"&&!bX){var bU=bW.getElementById(bV[1]);
return bU?bU.id===bV[1]||typeof bU.getAttributeNode!=="undefined"&&bU.getAttributeNode("id").nodeValue===bV[1]?[bU]:M:[];
}};
bF.filter.ID=function(bW,bU){var bV=typeof bW.getAttributeNode!=="undefined"&&bW.getAttributeNode("id");
return bW.nodeType===1&&bV&&bV.nodeValue===bU;
};
}e.removeChild(bS);
e=bS=null;
})();
(function(){var e=aw.createElement("div");
e.appendChild(aw.createComment(""));
if(e.getElementsByTagName("*").length>0){bF.find.TAG=function(bS,bW){var bV=bW.getElementsByTagName(bS[1]);
if(bS[1]==="*"){var bU=[];
for(var bT=0;
bV[bT];
bT++){if(bV[bT].nodeType===1){bU.push(bV[bT]);
}}bV=bU;
}return bV;
};
}e.innerHTML="<a href='#'></a>";
if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){bF.attrHandle.href=function(bS){return bS.getAttribute("href",2);
};
}e=null;
})();
if(aw.querySelectorAll){(function(){var e=bz,bU=aw.createElement("div"),bT="__sizzle__";
bU.innerHTML="<p class='TEST'></p>";
if(bU.querySelectorAll&&bU.querySelectorAll(".TEST").length===0){return;
}bz=function(b5,bW,b0,b4){bW=bW||aw;
if(!b4&&!bz.isXML(bW)){var b3=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b5);
if(b3&&(bW.nodeType===1||bW.nodeType===9)){if(b3[1]){return bG(bW.getElementsByTagName(b5),b0);
}else{if(b3[2]&&bF.find.CLASS&&bW.getElementsByClassName){return bG(bW.getElementsByClassName(b3[2]),b0);
}}}if(bW.nodeType===9){if(b5==="body"&&bW.body){return bG([bW.body],b0);
}else{if(b3&&b3[3]){var bZ=bW.getElementById(b3[3]);
if(bZ&&bZ.parentNode){if(bZ.id===b3[3]){return bG([bZ],b0);
}}else{return bG([],b0);
}}}try{return bG(bW.querySelectorAll(b5),b0);
}catch(b1){}}else{if(bW.nodeType===1&&bW.nodeName.toLowerCase()!=="object"){var bX=bW,bY=bW.getAttribute("id"),bV=bY||bT,b7=bW.parentNode,b6=/^\s*[+~]/.test(b5);
if(!bY){bW.setAttribute("id",bV);
}else{bV=bV.replace(/'/g,"\\$&");
}if(b6&&b7){bW=bW.parentNode;
}try{if(!b6||b7){return bG(bW.querySelectorAll("[id='"+bV+"'] "+b5),b0);
}}catch(b2){}finally{if(!bY){bX.removeAttribute("id");
}}}}}return e(b5,bW,b0,b4);
};
for(var bS in e){bz[bS]=e[bS];
}bU=null;
})();
}(function(){var e=aw.documentElement,bT=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;
if(bT){var bV=!bT.call(aw.createElement("div"),"div"),bS=false;
try{bT.call(aw.documentElement,"[test!='']:sizzle");
}catch(bU){bS=true;
}bz.matchesSelector=function(bX,bZ){bZ=bZ.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");
if(!bz.isXML(bX)){try{if(bS||!bF.match.PSEUDO.test(bZ)&&!/!=/.test(bZ)){var bW=bT.call(bX,bZ);
if(bW||!bV||bX.document&&bX.document.nodeType!==11){return bW;
}}}catch(bY){}}return bz(bZ,null,null,[bX]).length>0;
};
}})();
(function(){var e=aw.createElement("div");
e.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return;
}e.lastChild.className="e";
if(e.getElementsByClassName("e").length===1){return;
}bF.order.splice(1,0,"CLASS");
bF.find.CLASS=function(bS,bT,bU){if(typeof bT.getElementsByClassName!=="undefined"&&!bU){return bT.getElementsByClassName(bS[1]);
}};
e=null;
})();
function bw(bS,bX,bW,b0,bY,bZ){for(var bU=0,bT=b0.length;
bU<bT;
bU++){var e=b0[bU];
if(e){var bV=false;
e=e[bS];
while(e){if(e[bD]===bW){bV=b0[e.sizset];
break;
}if(e.nodeType===1&&!bZ){e[bD]=bW;
e.sizset=bU;
}if(e.nodeName.toLowerCase()===bX){bV=e;
break;
}e=e[bS];
}b0[bU]=bV;
}}}function bO(bS,bX,bW,b0,bY,bZ){for(var bU=0,bT=b0.length;
bU<bT;
bU++){var e=b0[bU];
if(e){var bV=false;
e=e[bS];
while(e){if(e[bD]===bW){bV=b0[e.sizset];
break;
}if(e.nodeType===1){if(!bZ){e[bD]=bW;
e.sizset=bU;
}if(typeof bX!=="string"){if(e===bX){bV=true;
break;
}}else{if(bz.filter(bX,[e]).length>0){bV=e;
break;
}}}e=e[bS];
}b0[bU]=bV;
}}}if(aw.documentElement.contains){bz.contains=function(bS,e){return bS!==e&&(bS.contains?bS.contains(e):true);
};
}else{if(aw.documentElement.compareDocumentPosition){bz.contains=function(bS,e){return !!(bS.compareDocumentPosition(e)&16);
};
}else{bz.contains=function(){return false;
};
}}bz.isXML=function(e){var bS=(e?e.ownerDocument||e:0).documentElement;
return bS?bS.nodeName!=="HTML":false;
};
var bN=function(bT,e,bX){var bW,bY=[],bV="",bZ=e.nodeType?[e]:e;
while((bW=bF.match.PSEUDO.exec(bT))){bV+=bW[0];
bT=bT.replace(bF.match.PSEUDO,"");
}bT=bF.relative[bT]?bT+"*":bT;
for(var bU=0,bS=bZ.length;
bU<bS;
bU++){bz(bT,bZ[bU],bY,bX);
}return bz.filter(bV,bY);
};
bz.attr=b.attr;
bz.selectors.attrMap={};
b.find=bz;
b.expr=bz.selectors;
b.expr[":"]=b.expr.filters;
b.unique=bz.uniqueSort;
b.text=bz.getText;
b.isXMLDoc=bz.isXML;
b.contains=bz.contains;
})();
var ac=/Until$/,ar=/^(?:parents|prevUntil|prevAll)/,bc=/,/,bq=/^.[^:#\[\.,]*$/,Q=Array.prototype.slice,I=b.expr.match.globalPOS,az={children:true,contents:true,next:true,prev:true};
b.fn.extend({find:function(e){var bx=this,bz,bw;
if(typeof e!=="string"){return b(e).filter(function(){for(bz=0,bw=bx.length;
bz<bw;
bz++){if(b.contains(bx[bz],this)){return true;
}}});
}var by=this.pushStack("","find",e),bB,bC,bA;
for(bz=0,bw=this.length;
bz<bw;
bz++){bB=by.length;
b.find(e,this[bz],by);
if(bz>0){for(bC=bB;
bC<by.length;
bC++){for(bA=0;
bA<bB;
bA++){if(by[bA]===by[bC]){by.splice(bC--,1);
break;
}}}}}return by;
},has:function(bw){var e=b(bw);
return this.filter(function(){for(var by=0,bx=e.length;
by<bx;
by++){if(b.contains(this,e[by])){return true;
}}});
},not:function(e){return this.pushStack(aI(this,e,false),"not",e);
},filter:function(e){return this.pushStack(aI(this,e,true),"filter",e);
},is:function(e){return !!e&&(typeof e==="string"?I.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0);
},closest:function(bz,by){var bw=[],bx,e,bA=this[0];
if(b.isArray(bz)){var bC=1;
while(bA&&bA.ownerDocument&&bA!==by){for(bx=0;
bx<bz.length;
bx++){if(b(bA).is(bz[bx])){bw.push({selector:bz[bx],elem:bA,level:bC});
}}bA=bA.parentNode;
bC++;
}return bw;
}var bB=I.test(bz)||typeof bz!=="string"?b(bz,by||this.context):0;
for(bx=0,e=this.length;
bx<e;
bx++){bA=this[bx];
while(bA){if(bB?bB.index(bA)>-1:b.find.matchesSelector(bA,bz)){bw.push(bA);
break;
}else{bA=bA.parentNode;
if(!bA||!bA.ownerDocument||bA===by||bA.nodeType===11){break;
}}}}bw=bw.length>1?b.unique(bw):bw;
return this.pushStack(bw,"closest",bz);
},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1;
}if(typeof e==="string"){return b.inArray(this[0],b(e));
}return b.inArray(e.jquery?e[0]:e,this);
},add:function(e,bw){var by=typeof e==="string"?b(e,bw):b.makeArray(e&&e.nodeType?[e]:e),bx=b.merge(this.get(),by);
return this.pushStack(C(by[0])||C(bx[0])?bx:b.unique(bx));
},andSelf:function(){return this.add(this.prevObject);
}});
function C(e){return !e||!e.parentNode||e.parentNode.nodeType===11;
}b.each({parent:function(bw){var e=bw.parentNode;
return e&&e.nodeType!==11?e:null;
},parents:function(e){return b.dir(e,"parentNode");
},parentsUntil:function(bw,e,bx){return b.dir(bw,"parentNode",bx);
},next:function(e){return b.nth(e,2,"nextSibling");
},prev:function(e){return b.nth(e,2,"previousSibling");
},nextAll:function(e){return b.dir(e,"nextSibling");
},prevAll:function(e){return b.dir(e,"previousSibling");
},nextUntil:function(bw,e,bx){return b.dir(bw,"nextSibling",bx);
},prevUntil:function(bw,e,bx){return b.dir(bw,"previousSibling",bx);
},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e);
},children:function(e){return b.sibling(e.firstChild);
},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.makeArray(e.childNodes);
}},function(e,bw){b.fn[e]=function(bz,bx){var by=b.map(this,bw,bz);
if(!ac.test(e)){bx=bz;
}if(bx&&typeof bx==="string"){by=b.filter(bx,by);
}by=this.length>1&&!az[e]?b.unique(by):by;
if((this.length>1||bc.test(bx))&&ar.test(e)){by=by.reverse();
}return this.pushStack(by,e,Q.call(arguments).join(","));
};
});
b.extend({filter:function(bx,e,bw){if(bw){bx=":not("+bx+")";
}return e.length===1?b.find.matchesSelector(e[0],bx)?[e[0]]:[]:b.find.matches(bx,e);
},dir:function(bx,bw,bz){var e=[],by=bx[bw];
while(by&&by.nodeType!==9&&(bz===M||by.nodeType!==1||!b(by).is(bz))){if(by.nodeType===1){e.push(by);
}by=by[bw];
}return e;
},nth:function(bz,e,bx,by){e=e||1;
var bw=0;
for(;
bz;
bz=bz[bx]){if(bz.nodeType===1&&++bw===e){break;
}}return bz;
},sibling:function(bx,bw){var e=[];
for(;
bx;
bx=bx.nextSibling){if(bx.nodeType===1&&bx!==bw){e.push(bx);
}}return e;
}});
function aI(by,bx,e){bx=bx||0;
if(b.isFunction(bx)){return b.grep(by,function(bA,bz){var bB=!!bx.call(bA,bz,bA);
return bB===e;
});
}else{if(bx.nodeType){return b.grep(by,function(bA,bz){return(bA===bx)===e;
});
}else{if(typeof bx==="string"){var bw=b.grep(by,function(bz){return bz.nodeType===1;
});
if(bq.test(bx)){return b.filter(bx,bw,!e);
}else{bx=b.filter(bx,bw);
}}}}return b.grep(by,function(bA,bz){return(b.inArray(bA,bx)>=0)===e;
});
}function a(e){var bx=aT.split("|"),bw=e.createDocumentFragment();
if(bw.createElement){while(bx.length){bw.createElement(bx.pop());
}}return bw;
}var aT="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ai=/ jQuery\d+="(?:\d+|null)"/g,at=/^\s+/,S=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,d=/<([\w:]+)/,w=/<tbody/i,X=/<|&#?\w+;/,af=/<(?:script|style)/i,P=/<(?:script|object|embed|option|style)/i,aj=new RegExp("<(?:"+aT+")[\\s/>]","i"),o=/checked\s*(?:[^=]|=\s*.checked.)/i,bo=/\/(java|ecma)script/i,aP=/^\s*<!(?:\[CDATA\[|\-\-)/,ay={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ad=a(aw);
ay.optgroup=ay.option;
ay.tbody=ay.tfoot=ay.colgroup=ay.caption=ay.thead;
ay.th=ay.td;
if(!b.support.htmlSerialize){ay._default=[1,"div<div>","</div>"];
}b.fn.extend({text:function(e){return b.access(this,function(bw){return bw===M?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||aw).createTextNode(bw));
},null,e,arguments.length);
},wrapAll:function(e){if(b.isFunction(e)){return this.each(function(bx){b(this).wrapAll(e.call(this,bx));
});
}if(this[0]){var bw=b(e,this[0].ownerDocument).eq(0).clone(true);
if(this[0].parentNode){bw.insertBefore(this[0]);
}bw.map(function(){var bx=this;
while(bx.firstChild&&bx.firstChild.nodeType===1){bx=bx.firstChild;
}return bx;
}).append(this);
}return this;
},wrapInner:function(e){if(b.isFunction(e)){return this.each(function(bw){b(this).wrapInner(e.call(this,bw));
});
}return this.each(function(){var bw=b(this),bx=bw.contents();
if(bx.length){bx.wrapAll(e);
}else{bw.append(e);
}});
},wrap:function(e){var bw=b.isFunction(e);
return this.each(function(bx){b(this).wrapAll(bw?e.call(this,bx):e);
});
},unwrap:function(){return this.parent().each(function(){if(!b.nodeName(this,"body")){b(this).replaceWith(this.childNodes);
}}).end();
},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.appendChild(e);
}});
},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.insertBefore(e,this.firstChild);
}});
},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bw){this.parentNode.insertBefore(bw,this);
});
}else{if(arguments.length){var e=b.clean(arguments);
e.push.apply(e,this.toArray());
return this.pushStack(e,"before",arguments);
}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bw){this.parentNode.insertBefore(bw,this.nextSibling);
});
}else{if(arguments.length){var e=this.pushStack(this,"after",arguments);
e.push.apply(e,b.clean(arguments));
return e;
}}},remove:function(e,by){for(var bw=0,bx;
(bx=this[bw])!=null;
bw++){if(!e||b.filter(e,[bx]).length){if(!by&&bx.nodeType===1){b.cleanData(bx.getElementsByTagName("*"));
b.cleanData([bx]);
}if(bx.parentNode){bx.parentNode.removeChild(bx);
}}}return this;
},empty:function(){for(var e=0,bw;
(bw=this[e])!=null;
e++){if(bw.nodeType===1){b.cleanData(bw.getElementsByTagName("*"));
}while(bw.firstChild){bw.removeChild(bw.firstChild);
}}return this;
},clone:function(bw,e){bw=bw==null?false:bw;
e=e==null?bw:e;
return this.map(function(){return b.clone(this,bw,e);
});
},html:function(e){return b.access(this,function(bz){var by=this[0]||{},bx=0,bw=this.length;
if(bz===M){return by.nodeType===1?by.innerHTML.replace(ai,""):null;
}if(typeof bz==="string"&&!af.test(bz)&&(b.support.leadingWhitespace||!at.test(bz))&&!ay[(d.exec(bz)||["",""])[1].toLowerCase()]){bz=bz.replace(S,"<$1></$2>");
try{for(;
bx<bw;
bx++){by=this[bx]||{};
if(by.nodeType===1){b.cleanData(by.getElementsByTagName("*"));
by.innerHTML=bz;
}}by=0;
}catch(bA){}}if(by){this.empty().append(bz);
}},null,e,arguments.length);
},replaceWith:function(e){if(this[0]&&this[0].parentNode){if(b.isFunction(e)){return this.each(function(by){var bx=b(this),bw=bx.html();
bx.replaceWith(e.call(this,by,bw));
});
}if(typeof e!=="string"){e=b(e).detach();
}return this.each(function(){var bx=this.nextSibling,bw=this.parentNode;
b(this).remove();
if(bx){b(bx).before(e);
}else{b(bw).append(e);
}});
}else{return this.length?this.pushStack(b(b.isFunction(e)?e():e),"replaceWith",e):this;
}},detach:function(e){return this.remove(e,true);
},domManip:function(bC,bG,bF){var by,bz,bB,bE,bD=bC[0],bw=[];
if(!b.support.checkClone&&arguments.length===3&&typeof bD==="string"&&o.test(bD)){return this.each(function(){b(this).domManip(bC,bG,bF,true);
});
}if(b.isFunction(bD)){return this.each(function(bI){var bH=b(this);
bC[0]=bD.call(this,bI,bG?bH.html():M);
bH.domManip(bC,bG,bF);
});
}if(this[0]){bE=bD&&bD.parentNode;
if(b.support.parentNode&&bE&&bE.nodeType===11&&bE.childNodes.length===this.length){by={fragment:bE};
}else{by=b.buildFragment(bC,this,bw);
}bB=by.fragment;
if(bB.childNodes.length===1){bz=bB=bB.firstChild;
}else{bz=bB.firstChild;
}if(bz){bG=bG&&b.nodeName(bz,"tr");
for(var bx=0,e=this.length,bA=e-1;
bx<e;
bx++){bF.call(bG?bd(this[bx],bz):this[bx],by.cacheable||(e>1&&bx<bA)?b.clone(bB,true,true):bB);
}}if(bw.length){b.each(bw,function(bH,bI){if(bI.src){b.ajax({type:"GET",global:false,url:bI.src,async:false,dataType:"script"});
}else{b.globalEval((bI.text||bI.textContent||bI.innerHTML||"").replace(aP,"/*$0*/"));
}if(bI.parentNode){bI.parentNode.removeChild(bI);
}});
}}return this;
}});
function bd(e,bw){return b.nodeName(e,"table")?(e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody"))):e;
}function t(bC,bw){if(bw.nodeType!==1||!b.hasData(bC)){return;
}var bz,by,e,bB=b._data(bC),bA=b._data(bw,bB),bx=bB.events;
if(bx){delete bA.handle;
bA.events={};
for(bz in bx){for(by=0,e=bx[bz].length;
by<e;
by++){b.event.add(bw,bz,bx[bz][by]);
}}}if(bA.data){bA.data=b.extend({},bA.data);
}}function ak(bw,e){var bx;
if(e.nodeType!==1){return;
}if(e.clearAttributes){e.clearAttributes();
}if(e.mergeAttributes){e.mergeAttributes(bw);
}bx=e.nodeName.toLowerCase();
if(bx==="object"){e.outerHTML=bw.outerHTML;
}else{if(bx==="input"&&(bw.type==="checkbox"||bw.type==="radio")){if(bw.checked){e.defaultChecked=e.checked=bw.checked;
}if(e.value!==bw.value){e.value=bw.value;
}}else{if(bx==="option"){e.selected=bw.defaultSelected;
}else{if(bx==="input"||bx==="textarea"){e.defaultValue=bw.defaultValue;
}else{if(bx==="script"&&e.text!==bw.text){e.text=bw.text;
}}}}}e.removeAttribute(b.expando);
e.removeAttribute("_submit_attached");
e.removeAttribute("_change_attached");
}b.buildFragment=function(bA,by,bw){var bz,e,bx,bB,bC=bA[0];
if(by&&by[0]){bB=by[0].ownerDocument||by[0];
}if(!bB.createDocumentFragment){bB=aw;
}if(bA.length===1&&typeof bC==="string"&&bC.length<512&&bB===aw&&bC.charAt(0)==="<"&&!P.test(bC)&&(b.support.checkClone||!o.test(bC))&&(b.support.html5Clone||!aj.test(bC))){e=true;
bx=b.fragments[bC];
if(bx&&bx!==1){bz=bx;
}}if(!bz){bz=bB.createDocumentFragment();
b.clean(bA,bB,bz,bw);
}if(e){b.fragments[bC]=bx?bz:1;
}return{fragment:bz,cacheable:e};
};
b.fragments={};
b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,bw){b.fn[e]=function(bx){var bA=[],bD=b(bx),bC=this.length===1&&this[0].parentNode;
if(bC&&bC.nodeType===11&&bC.childNodes.length===1&&bD.length===1){bD[bw](this[0]);
return this;
}else{for(var bB=0,by=bD.length;
bB<by;
bB++){var bz=(bB>0?this.clone(true):this).get();
b(bD[bB])[bw](bz);
bA=bA.concat(bz);
}return this.pushStack(bA,e,bD.selector);
}};
});
function bi(e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName("*");
}else{if(typeof e.querySelectorAll!=="undefined"){return e.querySelectorAll("*");
}else{return[];
}}}function aA(e){if(e.type==="checkbox"||e.type==="radio"){e.defaultChecked=e.checked;
}}function E(e){var bw=(e.nodeName||"").toLowerCase();
if(bw==="input"){aA(e);
}else{if(bw!=="script"&&typeof e.getElementsByTagName!=="undefined"){b.grep(e.getElementsByTagName("input"),aA);
}}}function an(e){var bw=aw.createElement("div");
ad.appendChild(bw);
bw.innerHTML=e.outerHTML;
return bw.firstChild;
}b.extend({clone:function(bz,bB,bx){var e,bw,by,bA=b.support.html5Clone||b.isXMLDoc(bz)||!aj.test("<"+bz.nodeName+">")?bz.cloneNode(true):an(bz);
if((!b.support.noCloneEvent||!b.support.noCloneChecked)&&(bz.nodeType===1||bz.nodeType===11)&&!b.isXMLDoc(bz)){ak(bz,bA);
e=bi(bz);
bw=bi(bA);
for(by=0;
e[by];
++by){if(bw[by]){ak(e[by],bw[by]);
}}}if(bB){t(bz,bA);
if(bx){e=bi(bz);
bw=bi(bA);
for(by=0;
e[by];
++by){t(e[by],bw[by]);
}}}e=bw=null;
return bA;
},clean:function(bJ,bx,bw,by){var bB,bI,bE,bK=[];
bx=bx||aw;
if(typeof bx.createElement==="undefined"){bx=bx.ownerDocument||bx[0]&&bx[0].ownerDocument||aw;
}for(var bF=0,bH;
(bH=bJ[bF])!=null;
bF++){if(typeof bH==="number"){bH+="";
}if(!bH){continue;
}if(typeof bH==="string"){if(!X.test(bH)){bH=bx.createTextNode(bH);
}else{bH=bH.replace(S,"<$1></$2>");
var bO=(d.exec(bH)||["",""])[1].toLowerCase(),bA=ay[bO]||ay._default,bL=bA[0],bC=bx.createElement("div"),bM=ad.childNodes,bN;
if(bx===aw){ad.appendChild(bC);
}else{a(bx).appendChild(bC);
}bC.innerHTML=bA[1]+bH+bA[2];
while(bL--){bC=bC.lastChild;
}if(!b.support.tbody){var bz=w.test(bH),e=bO==="table"&&!bz?bC.firstChild&&bC.firstChild.childNodes:bA[1]==="<table>"&&!bz?bC.childNodes:[];
for(bE=e.length-1;
bE>=0;
--bE){if(b.nodeName(e[bE],"tbody")&&!e[bE].childNodes.length){e[bE].parentNode.removeChild(e[bE]);
}}}if(!b.support.leadingWhitespace&&at.test(bH)){bC.insertBefore(bx.createTextNode(at.exec(bH)[0]),bC.firstChild);
}bH=bC.childNodes;
if(bC){bC.parentNode.removeChild(bC);
if(bM.length>0){bN=bM[bM.length-1];
if(bN&&bN.parentNode){bN.parentNode.removeChild(bN);
}}}}}var bG;
if(!b.support.appendChecked){if(bH[0]&&typeof(bG=bH.length)==="number"){for(bE=0;
bE<bG;
bE++){E(bH[bE]);
}}else{E(bH);
}}if(bH.nodeType){bK.push(bH);
}else{bK=b.merge(bK,bH);
}}if(bw){bB=function(bP){return !bP.type||bo.test(bP.type);
};
for(bF=0;
bK[bF];
bF++){bI=bK[bF];
if(by&&b.nodeName(bI,"script")&&(!bI.type||bo.test(bI.type))){by.push(bI.parentNode?bI.parentNode.removeChild(bI):bI);
}else{if(bI.nodeType===1){var bD=b.grep(bI.getElementsByTagName("script"),bB);
bK.splice.apply(bK,[bF+1,0].concat(bD));
}bw.appendChild(bI);
}}}return bK;
},cleanData:function(bw){var bz,bx,e=b.cache,bC=b.event.special,bB=b.support.deleteExpando;
for(var bA=0,by;
(by=bw[bA])!=null;
bA++){if(by.nodeName&&b.noData[by.nodeName.toLowerCase()]){continue;
}bx=by[b.expando];
if(bx){bz=e[bx];
if(bz&&bz.events){for(var bD in bz.events){if(bC[bD]){b.event.remove(by,bD);
}else{b.removeEvent(by,bD,bz.handle);
}}if(bz.handle){bz.handle.elem=null;
}}if(bB){delete by[b.expando];
}else{if(by.removeAttribute){by.removeAttribute(b.expando);
}}delete e[bx];
}}}});
var am=/alpha\([^)]*\)/i,av=/opacity=([^)]*)/,z=/([A-Z]|^ms)/g,bp=/^[\-+]?(?:\d*\.)?\d+$/i,a2=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,J=/^([\-+])=([\-+.\de]+)/,aF=/^margin/,ba={position:"absolute",visibility:"hidden",display:"block"},H=["Top","Right","Bottom","Left"],aa,aK,aZ;
b.fn.css=function(e,bw){return b.access(this,function(by,bx,bz){return bz!==M?b.style(by,bx,bz):b.css(by,bx);
},e,bw,arguments.length>1);
};
b.extend({cssHooks:{opacity:{get:function(bx,bw){if(bw){var e=aa(bx,"opacity");
return e===""?"1":e;
}else{return bx.style.opacity;
}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(by,bx,bE,bz){if(!by||by.nodeType===3||by.nodeType===8||!by.style){return;
}var bC,bD,bA=b.camelCase(bx),bw=by.style,bF=b.cssHooks[bA];
bx=b.cssProps[bA]||bA;
if(bE!==M){bD=typeof bE;
if(bD==="string"&&(bC=J.exec(bE))){bE=(+(bC[1]+1)*+bC[2])+parseFloat(b.css(by,bx));
bD="number";
}if(bE==null||bD==="number"&&isNaN(bE)){return;
}if(bD==="number"&&!b.cssNumber[bA]){bE+="px";
}if(!bF||!("set" in bF)||(bE=bF.set(by,bE))!==M){try{bw[bx]=bE;
}catch(bB){}}}else{if(bF&&"get" in bF&&(bC=bF.get(by,false,bz))!==M){return bC;
}return bw[bx];
}},css:function(bz,by,bw){var bx,e;
by=b.camelCase(by);
e=b.cssHooks[by];
by=b.cssProps[by]||by;
if(by==="cssFloat"){by="float";
}if(e&&"get" in e&&(bx=e.get(bz,true,bw))!==M){return bx;
}else{if(aa){return aa(bz,by);
}}},swap:function(bz,by,bA){var e={},bx,bw;
for(bw in by){e[bw]=bz.style[bw];
bz.style[bw]=by[bw];
}bx=bA.call(bz);
for(bw in by){bz.style[bw]=e[bw];
}return bx;
}});
b.curCSS=b.css;
if(aw.defaultView&&aw.defaultView.getComputedStyle){aK=function(bB,bx){var bw,bA,e,bz,by=bB.style;
bx=bx.replace(z,"-$1").toLowerCase();
if((bA=bB.ownerDocument.defaultView)&&(e=bA.getComputedStyle(bB,null))){bw=e.getPropertyValue(bx);
if(bw===""&&!b.contains(bB.ownerDocument.documentElement,bB)){bw=b.style(bB,bx);
}}if(!b.support.pixelMargin&&e&&aF.test(bx)&&a2.test(bw)){bz=by.width;
by.width=bw;
bw=e.width;
by.width=bz;
}return bw;
};
}if(aw.documentElement.currentStyle){aZ=function(bA,bx){var bB,e,bz,bw=bA.currentStyle&&bA.currentStyle[bx],by=bA.style;
if(bw==null&&by&&(bz=by[bx])){bw=bz;
}if(a2.test(bw)){bB=by.left;
e=bA.runtimeStyle&&bA.runtimeStyle.left;
if(e){bA.runtimeStyle.left=bA.currentStyle.left;
}by.left=bx==="fontSize"?"1em":bw;
bw=by.pixelLeft+"px";
by.left=bB;
if(e){bA.runtimeStyle.left=e;
}}return bw===""?"auto":bw;
};
}aa=aK||aZ;
function ag(bz,bx,bw){var bA=bx==="width"?bz.offsetWidth:bz.offsetHeight,by=bx==="width"?1:0,e=4;
if(bA>0){if(bw!=="border"){for(;
by<e;
by+=2){if(!bw){bA-=parseFloat(b.css(bz,"padding"+H[by]))||0;
}if(bw==="margin"){bA+=parseFloat(b.css(bz,bw+H[by]))||0;
}else{bA-=parseFloat(b.css(bz,"border"+H[by]+"Width"))||0;
}}}return bA+"px";
}bA=aa(bz,bx);
if(bA<0||bA==null){bA=bz.style[bx];
}if(a2.test(bA)){return bA;
}bA=parseFloat(bA)||0;
if(bw){for(;
by<e;
by+=2){bA+=parseFloat(b.css(bz,"padding"+H[by]))||0;
if(bw!=="padding"){bA+=parseFloat(b.css(bz,"border"+H[by]+"Width"))||0;
}if(bw==="margin"){bA+=parseFloat(b.css(bz,bw+H[by]))||0;
}}}return bA+"px";
}b.each(["height","width"],function(bw,e){b.cssHooks[e]={get:function(bz,by,bx){if(by){if(bz.offsetWidth!==0){return ag(bz,e,bx);
}else{return b.swap(bz,ba,function(){return ag(bz,e,bx);
});
}}},set:function(bx,by){return bp.test(by)?by+"px":by;
}};
});
if(!b.support.opacity){b.cssHooks.opacity={get:function(bw,e){return av.test((e&&bw.currentStyle?bw.currentStyle.filter:bw.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":e?"1":"";
},set:function(bz,bA){var by=bz.style,bw=bz.currentStyle,e=b.isNumeric(bA)?"alpha(opacity="+bA*100+")":"",bx=bw&&bw.filter||by.filter||"";
by.zoom=1;
if(bA>=1&&b.trim(bx.replace(am,""))===""){by.removeAttribute("filter");
if(bw&&!bw.filter){return;
}}by.filter=am.test(bx)?bx.replace(am,e):bx+" "+e;
}};
}b(function(){if(!b.support.reliableMarginRight){b.cssHooks.marginRight={get:function(bw,e){return b.swap(bw,{display:"inline-block"},function(){if(e){return aa(bw,"margin-right");
}else{return bw.style.marginRight;
}});
}};
}});
if(b.expr&&b.expr.filters){b.expr.filters.hidden=function(bx){var bw=bx.offsetWidth,e=bx.offsetHeight;
return(bw===0&&e===0)||(!b.support.reliableHiddenOffsets&&((bx.style&&bx.style.display)||b.css(bx,"display"))==="none");
};
b.expr.filters.visible=function(e){return !b.expr.filters.hidden(e);
};
}b.each({margin:"",padding:"",border:"Width"},function(e,bw){b.cssHooks[e+bw]={expand:function(bz){var by,bA=typeof bz==="string"?bz.split(" "):[bz],bx={};
for(by=0;
by<4;
by++){bx[e+H[by]+bw]=bA[by]||bA[by-2]||bA[0];
}return bx;
}};
});
var k=/%20/g,aq=/\[\]$/,bt=/\r?\n/g,br=/#.*$/,aE=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,a1=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aO=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,aS=/^(?:GET|HEAD)$/,c=/^\/\//,N=/\?/,a8=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,p=/^(?:select|textarea)/i,h=/\s+/,bs=/([?&])_=[^&]*/,L=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,A=b.fn.load,ab={},q={},aG,r,aX=["*/"]+["*"];
try{aG=bn.href;
}catch(ax){aG=aw.createElement("a");
aG.href="";
aG=aG.href;
}r=L.exec(aG.toLowerCase())||[];
function f(e){return function(bz,bB){if(typeof bz!=="string"){bB=bz;
bz="*";
}if(b.isFunction(bB)){var by=bz.toLowerCase().split(h),bx=0,bA=by.length,bw,bC,bD;
for(;
bx<bA;
bx++){bw=by[bx];
bD=/^\+/.test(bw);
if(bD){bw=bw.substr(1)||"*";
}bC=e[bw]=e[bw]||[];
bC[bD?"unshift":"push"](bB);
}}};
}function aY(bw,bF,bA,bE,bC,by){bC=bC||bF.dataTypes[0];
by=by||{};
by[bC]=true;
var bB=bw[bC],bx=0,e=bB?bB.length:0,bz=(bw===ab),bD;
for(;
bx<e&&(bz||!bD);
bx++){bD=bB[bx](bF,bA,bE);
if(typeof bD==="string"){if(!bz||by[bD]){bD=M;
}else{bF.dataTypes.unshift(bD);
bD=aY(bw,bF,bA,bE,bD,by);
}}}if((bz||!bD)&&!by["*"]){bD=aY(bw,bF,bA,bE,"*",by);
}return bD;
}function ao(bx,by){var bw,e,bz=b.ajaxSettings.flatOptions||{};
for(bw in by){if(by[bw]!==M){(bz[bw]?bx:(e||(e={})))[bw]=by[bw];
}}if(e){b.extend(true,bx,e);
}}b.fn.extend({load:function(bx,bA,bB){if(typeof bx!=="string"&&A){return A.apply(this,arguments);
}else{if(!this.length){return this;
}}var bz=bx.indexOf(" ");
if(bz>=0){var e=bx.slice(bz,bx.length);
bx=bx.slice(0,bz);
}var by="GET";
if(bA){if(b.isFunction(bA)){bB=bA;
bA=M;
}else{if(typeof bA==="object"){bA=b.param(bA,b.ajaxSettings.traditional);
by="POST";
}}}var bw=this;
b.ajax({url:bx,type:by,dataType:"html",data:bA,complete:function(bD,bC,bE){bE=bD.responseText;
if(bD.isResolved()){bD.done(function(bF){bE=bF;
});
bw.html(e?b("<div>").append(bE.replace(a8,"")).find(e):bE);
}if(bB){bw.each(bB,[bE,bC,bD]);
}}});
return this;
},serialize:function(){return b.param(this.serializeArray());
},serializeArray:function(){return this.map(function(){return this.elements?b.makeArray(this.elements):this;
}).filter(function(){return this.name&&!this.disabled&&(this.checked||p.test(this.nodeName)||a1.test(this.type));
}).map(function(e,bw){var bx=b(this).val();
return bx==null?null:b.isArray(bx)?b.map(bx,function(bz,by){return{name:bw.name,value:bz.replace(bt,"\r\n")};
}):{name:bw.name,value:bx.replace(bt,"\r\n")};
}).get();
}});
b.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,bw){b.fn[bw]=function(bx){return this.on(bw,bx);
};
});
b.each(["get","post"],function(e,bw){b[bw]=function(bx,bz,bA,by){if(b.isFunction(bz)){by=by||bA;
bA=bz;
bz=M;
}return b.ajax({type:bw,url:bx,data:bz,success:bA,dataType:by});
};
});
b.extend({getScript:function(e,bw){return b.get(e,M,bw,"script");
},getJSON:function(e,bw,bx){return b.get(e,bw,bx,"json");
},ajaxSetup:function(bw,e){if(e){ao(bw,b.ajaxSettings);
}else{e=bw;
bw=b.ajaxSettings;
}ao(bw,e);
return bw;
},ajaxSettings:{url:aG,isLocal:aO.test(r[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":aX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":be.String,"text html":true,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:f(ab),ajaxTransport:f(q),ajax:function(bA,by){if(typeof bA==="object"){by=bA;
bA=M;
}by=by||{};
var bE=b.ajaxSetup({},by),bT=bE.context||bE,bH=bT!==bE&&(bT.nodeType||bT instanceof b)?b(bT):b.event,bS=b.Deferred(),bO=b.Callbacks("once memory"),bC=bE.statusCode||{},bD,bI={},bP={},bR,bz,bM,bF,bJ,bB=0,bx,bL,bK={readyState:0,setRequestHeader:function(bU,bV){if(!bB){var e=bU.toLowerCase();
bU=bP[e]=bP[e]||bU;
bI[bU]=bV;
}return this;
},getAllResponseHeaders:function(){return bB===2?bR:null;
},getResponseHeader:function(bU){var e;
if(bB===2){if(!bz){bz={};
while((e=aE.exec(bR))){bz[e[1].toLowerCase()]=e[2];
}}e=bz[bU.toLowerCase()];
}return e===M?null:e;
},overrideMimeType:function(e){if(!bB){bE.mimeType=e;
}return this;
},abort:function(e){e=e||"abort";
if(bM){bM.abort(e);
}bG(0,e);
return this;
}};
function bG(b0,bV,b1,bX){if(bB===2){return;
}bB=2;
if(bF){clearTimeout(bF);
}bM=M;
bR=bX||"";
bK.readyState=b0>0?4:0;
var bU,b5,b4,bY=bV,bZ=b1?bl(bE,bK,b1):M,bW,b3;
if(b0>=200&&b0<300||b0===304){if(bE.ifModified){if((bW=bK.getResponseHeader("Last-Modified"))){b.lastModified[bD]=bW;
}if((b3=bK.getResponseHeader("Etag"))){b.etag[bD]=b3;
}}if(b0===304){bY="notmodified";
bU=true;
}else{try{b5=G(bE,bZ);
bY="success";
bU=true;
}catch(b2){bY="parsererror";
b4=b2;
}}}else{b4=bY;
if(!bY||b0){bY="error";
if(b0<0){b0=0;
}}}bK.status=b0;
bK.statusText=""+(bV||bY);
if(bU){bS.resolveWith(bT,[b5,bY,bK]);
}else{bS.rejectWith(bT,[bK,bY,b4]);
}bK.statusCode(bC);
bC=M;
if(bx){bH.trigger("ajax"+(bU?"Success":"Error"),[bK,bE,bU?b5:b4]);
}bO.fireWith(bT,[bK,bY]);
if(bx){bH.trigger("ajaxComplete",[bK,bE]);
if(!(--b.active)){b.event.trigger("ajaxStop");
}}}bS.promise(bK);
bK.success=bK.done;
bK.error=bK.fail;
bK.complete=bO.add;
bK.statusCode=function(bU){if(bU){var e;
if(bB<2){for(e in bU){bC[e]=[bC[e],bU[e]];
}}else{e=bU[bK.status];
bK.then(e,e);
}}return this;
};
bE.url=((bA||bE.url)+"").replace(br,"").replace(c,r[1]+"//");
bE.dataTypes=b.trim(bE.dataType||"*").toLowerCase().split(h);
if(bE.crossDomain==null){bJ=L.exec(bE.url.toLowerCase());
bE.crossDomain=!!(bJ&&(bJ[1]!=r[1]||bJ[2]!=r[2]||(bJ[3]||(bJ[1]==="http:"?80:443))!=(r[3]||(r[1]==="http:"?80:443))));
}if(bE.data&&bE.processData&&typeof bE.data!=="string"){bE.data=b.param(bE.data,bE.traditional);
}aY(ab,bE,by,bK);
if(bB===2){return false;
}bx=bE.global;
bE.type=bE.type.toUpperCase();
bE.hasContent=!aS.test(bE.type);
if(bx&&b.active++===0){b.event.trigger("ajaxStart");
}if(!bE.hasContent){if(bE.data){bE.url+=(N.test(bE.url)?"&":"?")+bE.data;
delete bE.data;
}bD=bE.url;
if(bE.cache===false){var bw=b.now(),bQ=bE.url.replace(bs,"$1_="+bw);
bE.url=bQ+((bQ===bE.url)?(N.test(bE.url)?"&":"?")+"_="+bw:"");
}}if(bE.data&&bE.hasContent&&bE.contentType!==false||by.contentType){bK.setRequestHeader("Content-Type",bE.contentType);
}if(bE.ifModified){bD=bD||bE.url;
if(b.lastModified[bD]){bK.setRequestHeader("If-Modified-Since",b.lastModified[bD]);
}if(b.etag[bD]){bK.setRequestHeader("If-None-Match",b.etag[bD]);
}}bK.setRequestHeader("Accept",bE.dataTypes[0]&&bE.accepts[bE.dataTypes[0]]?bE.accepts[bE.dataTypes[0]]+(bE.dataTypes[0]!=="*"?", "+aX+"; q=0.01":""):bE.accepts["*"]);
for(bL in bE.headers){bK.setRequestHeader(bL,bE.headers[bL]);
}if(bE.beforeSend&&(bE.beforeSend.call(bT,bK,bE)===false||bB===2)){bK.abort();
return false;
}for(bL in {success:1,error:1,complete:1}){bK[bL](bE[bL]);
}bM=aY(q,bE,by,bK);
if(!bM){bG(-1,"No Transport");
}else{bK.readyState=1;
if(bx){bH.trigger("ajaxSend",[bK,bE]);
}if(bE.async&&bE.timeout>0){bF=setTimeout(function(){bK.abort("timeout");
},bE.timeout);
}try{bB=1;
bM.send(bI,bG);
}catch(bN){if(bB<2){bG(-1,bN);
}else{throw bN;
}}}return bK;
},param:function(e,bx){var bw=[],bz=function(bA,bB){bB=b.isFunction(bB)?bB():bB;
bw[bw.length]=encodeURIComponent(bA)+"="+encodeURIComponent(bB);
};
if(bx===M){bx=b.ajaxSettings.traditional;
}if(b.isArray(e)||(e.jquery&&!b.isPlainObject(e))){b.each(e,function(){bz(this.name,this.value);
});
}else{for(var by in e){v(by,e[by],bx,bz);
}}return bw.join("&").replace(k,"+");
}});
function v(bx,bz,bw,by){if(b.isArray(bz)){b.each(bz,function(bB,bA){if(bw||aq.test(bx)){by(bx,bA);
}else{v(bx+"["+(typeof bA==="object"?bB:"")+"]",bA,bw,by);
}});
}else{if(!bw&&b.type(bz)==="object"){for(var e in bz){v(bx+"["+e+"]",bz[e],bw,by);
}}else{by(bx,bz);
}}}b.extend({active:0,lastModified:{},etag:{}});
function bl(bE,bD,bA){var bw=bE.contents,bC=bE.dataTypes,bx=bE.responseFields,bz,bB,by,e;
for(bB in bx){if(bB in bA){bD[bx[bB]]=bA[bB];
}}while(bC[0]==="*"){bC.shift();
if(bz===M){bz=bE.mimeType||bD.getResponseHeader("content-type");
}}if(bz){for(bB in bw){if(bw[bB]&&bw[bB].test(bz)){bC.unshift(bB);
break;
}}}if(bC[0] in bA){by=bC[0];
}else{for(bB in bA){if(!bC[0]||bE.converters[bB+" "+bC[0]]){by=bB;
break;
}if(!e){e=bB;
}}by=by||e;
}if(by){if(by!==bC[0]){bC.unshift(by);
}return bA[by];
}}function G(bI,bA){if(bI.dataFilter){bA=bI.dataFilter(bA,bI.dataType);
}var bE=bI.dataTypes,bH={},bB,bF,bx=bE.length,bC,bD=bE[0],by,bz,bG,bw,e;
for(bB=1;
bB<bx;
bB++){if(bB===1){for(bF in bI.converters){if(typeof bF==="string"){bH[bF.toLowerCase()]=bI.converters[bF];
}}}by=bD;
bD=bE[bB];
if(bD==="*"){bD=by;
}else{if(by!=="*"&&by!==bD){bz=by+" "+bD;
bG=bH[bz]||bH["* "+bD];
if(!bG){e=M;
for(bw in bH){bC=bw.split(" ");
if(bC[0]===by||bC[0]==="*"){e=bH[bC[1]+" "+bD];
if(e){bw=bH[bw];
if(bw===true){bG=e;
}else{if(e===true){bG=bw;
}}break;
}}}}if(!(bG||e)){b.error("No conversion from "+bz.replace(" "," to "));
}if(bG!==true){bA=bG?bG(bA):e(bw(bA));
}}}}return bA;
}var aD=b.now(),u=/(\=)\?(&|$)|\?\?/i;
b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return b.expando+"_"+(aD++);
}});
b.ajaxPrefilter("json jsonp",function(bE,bB,bD){var by=(typeof bE.data==="string")&&/^application\/x\-www\-form\-urlencoded/.test(bE.contentType);
if(bE.dataTypes[0]==="jsonp"||bE.jsonp!==false&&(u.test(bE.url)||by&&u.test(bE.data))){var bC,bx=bE.jsonpCallback=b.isFunction(bE.jsonpCallback)?bE.jsonpCallback():bE.jsonpCallback,bA=be[bx],e=bE.url,bz=bE.data,bw="$1"+bx+"$2";
if(bE.jsonp!==false){e=e.replace(u,bw);
if(bE.url===e){if(by){bz=bz.replace(u,bw);
}if(bE.data===bz){e+=(/\?/.test(e)?"&":"?")+bE.jsonp+"="+bx;
}}}bE.url=e;
bE.data=bz;
be[bx]=function(bF){bC=[bF];
};
bD.always(function(){be[bx]=bA;
if(bC&&b.isFunction(bA)){be[bx](bC[0]);
}});
bE.converters["script json"]=function(){if(!bC){b.error(bx+" was not called");
}return bC[0];
};
bE.dataTypes[0]="json";
return"script";
}});
b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){b.globalEval(e);
return e;
}}});
b.ajaxPrefilter("script",function(e){if(e.cache===M){e.cache=false;
}if(e.crossDomain){e.type="GET";
e.global=false;
}});
b.ajaxTransport("script",function(bx){if(bx.crossDomain){var e,bw=aw.head||aw.getElementsByTagName("head")[0]||aw.documentElement;
return{send:function(by,bz){e=aw.createElement("script");
e.async="async";
if(bx.scriptCharset){e.charset=bx.scriptCharset;
}e.src=bx.url;
e.onload=e.onreadystatechange=function(bB,bA){if(bA||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;
if(bw&&e.parentNode){bw.removeChild(e);
}e=M;
if(!bA){bz(200,"success");
}}};
bw.insertBefore(e,bw.firstChild);
},abort:function(){if(e){e.onload(0,1);
}}};
}});
var B=be.ActiveXObject?function(){for(var e in O){O[e](0,1);
}}:false,y=0,O;
function aN(){try{return new be.XMLHttpRequest();
}catch(bw){}}function al(){try{return new be.ActiveXObject("Microsoft.XMLHTTP");
}catch(bw){}}b.ajaxSettings.xhr=be.ActiveXObject?function(){return !this.isLocal&&aN()||al();
}:aN;
(function(e){b.extend(b.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)});
})(b.ajaxSettings.xhr());
if(b.support.ajax){b.ajaxTransport(function(e){if(!e.crossDomain||b.support.cors){var bw;
return{send:function(bC,bx){var bB=e.xhr(),bA,bz;
if(e.username){bB.open(e.type,e.url,e.async,e.username,e.password);
}else{bB.open(e.type,e.url,e.async);
}if(e.xhrFields){for(bz in e.xhrFields){bB[bz]=e.xhrFields[bz];
}}if(e.mimeType&&bB.overrideMimeType){bB.overrideMimeType(e.mimeType);
}if(!e.crossDomain&&!bC["X-Requested-With"]){bC["X-Requested-With"]="XMLHttpRequest";
}try{for(bz in bC){bB.setRequestHeader(bz,bC[bz]);
}}catch(by){}bB.send((e.hasContent&&e.data)||null);
bw=function(bL,bF){var bG,bE,bD,bJ,bI;
try{if(bw&&(bF||bB.readyState===4)){bw=M;
if(bA){bB.onreadystatechange=b.noop;
if(B){delete O[bA];
}}if(bF){if(bB.readyState!==4){bB.abort();
}}else{bG=bB.status;
bD=bB.getAllResponseHeaders();
bJ={};
bI=bB.responseXML;
if(bI&&bI.documentElement){bJ.xml=bI;
}try{bJ.text=bB.responseText;
}catch(bL){}try{bE=bB.statusText;
}catch(bK){bE="";
}if(!bG&&e.isLocal&&!e.crossDomain){bG=bJ.text?200:404;
}else{if(bG===1223){bG=204;
}}}}}catch(bH){if(!bF){bx(-1,bH);
}}if(bJ){bx(bG,bE,bJ,bD);
}};
if(!e.async||bB.readyState===4){bw();
}else{bA=++y;
if(B){if(!O){O={};
b(be).unload(B);
}O[bA]=bw;
}bB.onreadystatechange=bw;
}},abort:function(){if(bw){bw(0,1);
}}};
}});
}var R={},bb,m,aC=/^(?:toggle|show|hide)$/,aV=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,a5,aJ=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],a6;
b.fn.extend({show:function(by,bB,bA){var bx,bz;
if(by||by===0){return this.animate(a3("show",3),by,bB,bA);
}else{for(var bw=0,e=this.length;
bw<e;
bw++){bx=this[bw];
if(bx.style){bz=bx.style.display;
if(!b._data(bx,"olddisplay")&&bz==="none"){bz=bx.style.display="";
}if((bz===""&&b.css(bx,"display")==="none")||!b.contains(bx.ownerDocument.documentElement,bx)){b._data(bx,"olddisplay",x(bx.nodeName));
}}}for(bw=0;
bw<e;
bw++){bx=this[bw];
if(bx.style){bz=bx.style.display;
if(bz===""||bz==="none"){bx.style.display=b._data(bx,"olddisplay")||"";
}}}return this;
}},hide:function(by,bB,bA){if(by||by===0){return this.animate(a3("hide",3),by,bB,bA);
}else{var bx,bz,bw=0,e=this.length;
for(;
bw<e;
bw++){bx=this[bw];
if(bx.style){bz=b.css(bx,"display");
if(bz!=="none"&&!b._data(bx,"olddisplay")){b._data(bx,"olddisplay",bz);
}}}for(bw=0;
bw<e;
bw++){if(this[bw].style){this[bw].style.display="none";
}}return this;
}},_toggle:b.fn.toggle,toggle:function(bx,bw,by){var e=typeof bx==="boolean";
if(b.isFunction(bx)&&b.isFunction(bw)){this._toggle.apply(this,arguments);
}else{if(bx==null||e){this.each(function(){var bz=e?bx:b(this).is(":hidden");
b(this)[bz?"show":"hide"]();
});
}else{this.animate(a3("toggle",3),bx,bw,by);
}}return this;
},fadeTo:function(e,by,bx,bw){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:by},e,bx,bw);
},animate:function(bA,bx,bz,by){var e=b.speed(bx,bz,by);
if(b.isEmptyObject(bA)){return this.each(e.complete,[false]);
}bA=b.extend({},bA);
function bw(){if(e.queue===false){b._mark(this);
}var bF=b.extend({},e),bM=this.nodeType===1,bK=bM&&b(this).is(":hidden"),bC,bH,bE,bL,bO,bG,bJ,bD,bI,bN,bB;
bF.animatedProperties={};
for(bE in bA){bC=b.camelCase(bE);
if(bE!==bC){bA[bC]=bA[bE];
delete bA[bE];
}if((bO=b.cssHooks[bC])&&"expand" in bO){bG=bO.expand(bA[bC]);
delete bA[bC];
for(bE in bG){if(!(bE in bA)){bA[bE]=bG[bE];
}}}}for(bC in bA){bH=bA[bC];
if(b.isArray(bH)){bF.animatedProperties[bC]=bH[1];
bH=bA[bC]=bH[0];
}else{bF.animatedProperties[bC]=bF.specialEasing&&bF.specialEasing[bC]||bF.easing||"swing";
}if(bH==="hide"&&bK||bH==="show"&&!bK){return bF.complete.call(this);
}if(bM&&(bC==="height"||bC==="width")){bF.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];
if(b.css(this,"display")==="inline"&&b.css(this,"float")==="none"){if(!b.support.inlineBlockNeedsLayout||x(this.nodeName)==="inline"){this.style.display="inline-block";
}else{this.style.zoom=1;
}}}}if(bF.overflow!=null){this.style.overflow="hidden";
}for(bE in bA){bL=new b.fx(this,bF,bE);
bH=bA[bE];
if(aC.test(bH)){bB=b._data(this,"toggle"+bE)||(bH==="toggle"?bK?"show":"hide":0);
if(bB){b._data(this,"toggle"+bE,bB==="show"?"hide":"show");
bL[bB]();
}else{bL[bH]();
}}else{bJ=aV.exec(bH);
bD=bL.cur();
if(bJ){bI=parseFloat(bJ[2]);
bN=bJ[3]||(b.cssNumber[bE]?"":"px");
if(bN!=="px"){b.style(this,bE,(bI||1)+bN);
bD=((bI||1)/bL.cur())*bD;
b.style(this,bE,bD+bN);
}if(bJ[1]){bI=((bJ[1]==="-="?-1:1)*bI)+bD;
}bL.custom(bD,bI,bN);
}else{bL.custom(bD,bH,"");
}}}return true;
}return e.queue===false?this.each(bw):this.queue(e.queue,bw);
},stop:function(bx,bw,e){if(typeof bx!=="string"){e=bw;
bw=bx;
bx=M;
}if(bw&&bx!==false){this.queue(bx||"fx",[]);
}return this.each(function(){var by,bz=false,bB=b.timers,bA=b._data(this);
if(!e){b._unmark(true,this);
}function bC(bF,bG,bE){var bD=bG[bE];
b.removeData(bF,bE,true);
bD.stop(e);
}if(bx==null){for(by in bA){if(bA[by]&&bA[by].stop&&by.indexOf(".run")===by.length-4){bC(this,bA,by);
}}}else{if(bA[by=bx+".run"]&&bA[by].stop){bC(this,bA,by);
}}for(by=bB.length;
by--;
){if(bB[by].elem===this&&(bx==null||bB[by].queue===bx)){if(e){bB[by](true);
}else{bB[by].saveState();
}bz=true;
bB.splice(by,1);
}}if(!(e&&bz)){b.dequeue(this,bx);
}});
}});
function bj(){setTimeout(au,0);
return(a6=b.now());
}function au(){a6=M;
}function a3(bw,e){var bx={};
b.each(aJ.concat.apply([],aJ.slice(0,e)),function(){bx[this]=bw;
});
return bx;
}b.each({slideDown:a3("show",1),slideUp:a3("hide",1),slideToggle:a3("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,bw){b.fn[e]=function(bx,bz,by){return this.animate(bw,bx,bz,by);
};
});
b.extend({speed:function(bx,by,bw){var e=bx&&typeof bx==="object"?b.extend({},bx):{complete:bw||!bw&&by||b.isFunction(bx)&&bx,duration:bx,easing:bw&&by||by&&!b.isFunction(by)&&by};
e.duration=b.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in b.fx.speeds?b.fx.speeds[e.duration]:b.fx.speeds._default;
if(e.queue==null||e.queue===true){e.queue="fx";
}e.old=e.complete;
e.complete=function(bz){if(b.isFunction(e.old)){e.old.call(this);
}if(e.queue){b.dequeue(this,e.queue);
}else{if(bz!==false){b._unmark(this);
}}};
return e;
},easing:{linear:function(e){return e;
},swing:function(e){return(-Math.cos(e*Math.PI)/2)+0.5;
}},timers:[],fx:function(bw,e,bx){this.options=e;
this.elem=bw;
this.prop=bx;
e.orig=e.orig||{};
}});
b.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this);
}(b.fx.step[this.prop]||b.fx.step._default)(this);
},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop];
}var e,bw=b.css(this.elem,this.prop);
return isNaN(e=parseFloat(bw))?!bw||bw==="auto"?0:bw:e;
},custom:function(bA,bz,by){var e=this,bx=b.fx;
this.startTime=a6||bj();
this.end=bz;
this.now=this.start=bA;
this.pos=this.state=0;
this.unit=by||this.unit||(b.cssNumber[this.prop]?"":"px");
function bw(bB){return e.step(bB);
}bw.queue=this.options.queue;
bw.elem=this.elem;
bw.saveState=function(){if(b._data(e.elem,"fxshow"+e.prop)===M){if(e.options.hide){b._data(e.elem,"fxshow"+e.prop,e.start);
}else{if(e.options.show){b._data(e.elem,"fxshow"+e.prop,e.end);
}}}};
if(bw()&&b.timers.push(bw)&&!a5){a5=setInterval(bx.tick,bx.interval);
}},show:function(){var e=b._data(this.elem,"fxshow"+this.prop);
this.options.orig[this.prop]=e||b.style(this.elem,this.prop);
this.options.show=true;
if(e!==M){this.custom(this.cur(),e);
}else{this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());
}b(this.elem).show();
},hide:function(){this.options.orig[this.prop]=b._data(this.elem,"fxshow"+this.prop)||b.style(this.elem,this.prop);
this.options.hide=true;
this.custom(this.cur(),0);
},step:function(bz){var bB,bC,bw,by=a6||bj(),e=true,bA=this.elem,bx=this.options;
if(bz||by>=bx.duration+this.startTime){this.now=this.end;
this.pos=this.state=1;
this.update();
bx.animatedProperties[this.prop]=true;
for(bB in bx.animatedProperties){if(bx.animatedProperties[bB]!==true){e=false;
}}if(e){if(bx.overflow!=null&&!b.support.shrinkWrapBlocks){b.each(["","X","Y"],function(bD,bE){bA.style["overflow"+bE]=bx.overflow[bD];
});
}if(bx.hide){b(bA).hide();
}if(bx.hide||bx.show){for(bB in bx.animatedProperties){b.style(bA,bB,bx.orig[bB]);
b.removeData(bA,"fxshow"+bB,true);
b.removeData(bA,"toggle"+bB,true);
}}bw=bx.complete;
if(bw){bx.complete=false;
bw.call(bA);
}}return false;
}else{if(bx.duration==Infinity){this.now=by;
}else{bC=by-this.startTime;
this.state=bC/bx.duration;
this.pos=b.easing[bx.animatedProperties[this.prop]](this.state,bC,0,1,bx.duration);
this.now=this.start+((this.end-this.start)*this.pos);
}this.update();
}return true;
}};
b.extend(b.fx,{tick:function(){var bx,bw=b.timers,e=0;
for(;
e<bw.length;
e++){bx=bw[e];
if(!bx()&&bw[e]===bx){bw.splice(e--,1);
}}if(!bw.length){b.fx.stop();
}},interval:13,stop:function(){clearInterval(a5);
a5=null;
},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){b.style(e.elem,"opacity",e.now);
},_default:function(e){if(e.elem.style&&e.elem.style[e.prop]!=null){e.elem.style[e.prop]=e.now+e.unit;
}else{e.elem[e.prop]=e.now;
}}}});
b.each(aJ.concat.apply([],aJ),function(e,bw){if(bw.indexOf("margin")){b.fx.step[bw]=function(bx){b.style(bx.elem,bw,Math.max(0,bx.now)+bx.unit);
};
}});
if(b.expr&&b.expr.filters){b.expr.filters.animated=function(e){return b.grep(b.timers,function(bw){return e===bw.elem;
}).length;
};
}function x(by){if(!R[by]){var e=aw.body,bw=b("<"+by+">").appendTo(e),bx=bw.css("display");
bw.remove();
if(bx==="none"||bx===""){if(!bb){bb=aw.createElement("iframe");
bb.frameBorder=bb.width=bb.height=0;
}e.appendChild(bb);
if(!m||!bb.createElement){m=(bb.contentWindow||bb.contentDocument).document;
m.write((b.support.boxModel?"<!doctype html>":"")+"<html><body>");
m.close();
}bw=m.createElement(by);
m.body.appendChild(bw);
bx=b.css(bw,"display");
e.removeChild(bb);
}R[by]=bx;
}return R[by];
}var a9,W=/^t(?:able|d|h)$/i,ae=/^(?:body|html)$/i;
if("getBoundingClientRect" in aw.documentElement){a9=function(bz,bI,bx,bC){try{bC=bz.getBoundingClientRect();
}catch(bG){}if(!bC||!b.contains(bx,bz)){return bC?{top:bC.top,left:bC.left}:{top:0,left:0};
}var bD=bI.body,bE=aM(bI),bB=bx.clientTop||bD.clientTop||0,bF=bx.clientLeft||bD.clientLeft||0,bw=bE.pageYOffset||b.support.boxModel&&bx.scrollTop||bD.scrollTop,bA=bE.pageXOffset||b.support.boxModel&&bx.scrollLeft||bD.scrollLeft,bH=bC.top+bw-bB,by=bC.left+bA-bF;
return{top:bH,left:by};
};
}else{a9=function(bA,bF,by){var bD,bx=bA.offsetParent,bw=bA,bB=bF.body,bC=bF.defaultView,e=bC?bC.getComputedStyle(bA,null):bA.currentStyle,bE=bA.offsetTop,bz=bA.offsetLeft;
while((bA=bA.parentNode)&&bA!==bB&&bA!==by){if(b.support.fixedPosition&&e.position==="fixed"){break;
}bD=bC?bC.getComputedStyle(bA,null):bA.currentStyle;
bE-=bA.scrollTop;
bz-=bA.scrollLeft;
if(bA===bx){bE+=bA.offsetTop;
bz+=bA.offsetLeft;
if(b.support.doesNotAddBorder&&!(b.support.doesAddBorderForTableAndCells&&W.test(bA.nodeName))){bE+=parseFloat(bD.borderTopWidth)||0;
bz+=parseFloat(bD.borderLeftWidth)||0;
}bw=bx;
bx=bA.offsetParent;
}if(b.support.subtractsBorderForOverflowNotVisible&&bD.overflow!=="visible"){bE+=parseFloat(bD.borderTopWidth)||0;
bz+=parseFloat(bD.borderLeftWidth)||0;
}e=bD;
}if(e.position==="relative"||e.position==="static"){bE+=bB.offsetTop;
bz+=bB.offsetLeft;
}if(b.support.fixedPosition&&e.position==="fixed"){bE+=Math.max(by.scrollTop,bB.scrollTop);
bz+=Math.max(by.scrollLeft,bB.scrollLeft);
}return{top:bE,left:bz};
};
}b.fn.offset=function(e){if(arguments.length){return e===M?this:this.each(function(by){b.offset.setOffset(this,e,by);
});
}var bw=this[0],bx=bw&&bw.ownerDocument;
if(!bx){return null;
}if(bw===bx.body){return b.offset.bodyOffset(bw);
}return a9(bw,bx,bx.documentElement);
};
b.offset={bodyOffset:function(e){var bx=e.offsetTop,bw=e.offsetLeft;
if(b.support.doesNotIncludeMarginInBodyOffset){bx+=parseFloat(b.css(e,"marginTop"))||0;
bw+=parseFloat(b.css(e,"marginLeft"))||0;
}return{top:bx,left:bw};
},setOffset:function(by,bH,bB){var bC=b.css(by,"position");
if(bC==="static"){by.style.position="relative";
}var bA=b(by),bw=bA.offset(),e=b.css(by,"top"),bF=b.css(by,"left"),bG=(bC==="absolute"||bC==="fixed")&&b.inArray("auto",[e,bF])>-1,bE={},bD={},bx,bz;
if(bG){bD=bA.position();
bx=bD.top;
bz=bD.left;
}else{bx=parseFloat(e)||0;
bz=parseFloat(bF)||0;
}if(b.isFunction(bH)){bH=bH.call(by,bB,bw);
}if(bH.top!=null){bE.top=(bH.top-bw.top)+bx;
}if(bH.left!=null){bE.left=(bH.left-bw.left)+bz;
}if("using" in bH){bH.using.call(by,bE);
}else{bA.css(bE);
}}};
b.fn.extend({position:function(){if(!this[0]){return null;
}var bx=this[0],bw=this.offsetParent(),by=this.offset(),e=ae.test(bw[0].nodeName)?{top:0,left:0}:bw.offset();
by.top-=parseFloat(b.css(bx,"marginTop"))||0;
by.left-=parseFloat(b.css(bx,"marginLeft"))||0;
e.top+=parseFloat(b.css(bw[0],"borderTopWidth"))||0;
e.left+=parseFloat(b.css(bw[0],"borderLeftWidth"))||0;
return{top:by.top-e.top,left:by.left-e.left};
},offsetParent:function(){return this.map(function(){var e=this.offsetParent||aw.body;
while(e&&(!ae.test(e.nodeName)&&b.css(e,"position")==="static")){e=e.offsetParent;
}return e;
});
}});
b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(bx,bw){var e=/Y/.test(bw);
b.fn[bx]=function(by){return b.access(this,function(bz,bC,bB){var bA=aM(bz);
if(bB===M){return bA?(bw in bA)?bA[bw]:b.support.boxModel&&bA.document.documentElement[bC]||bA.document.body[bC]:bz[bC];
}if(bA){bA.scrollTo(!e?bB:b(bA).scrollLeft(),e?bB:b(bA).scrollTop());
}else{bz[bC]=bB;
}},bx,by,arguments.length,null);
};
});
function aM(e){return b.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false;
}b.each({Height:"height",Width:"width"},function(bx,by){var bw="client"+bx,e="scroll"+bx,bz="offset"+bx;
b.fn["inner"+bx]=function(){var bA=this[0];
return bA?bA.style?parseFloat(b.css(bA,by,"padding")):this[by]():null;
};
b.fn["outer"+bx]=function(bB){var bA=this[0];
return bA?bA.style?parseFloat(b.css(bA,by,bB?"margin":"border")):this[by]():null;
};
b.fn[by]=function(bA){return b.access(this,function(bD,bC,bE){var bG,bF,bH,bB;
if(b.isWindow(bD)){bG=bD.document;
bF=bG.documentElement[bw];
return b.support.boxModel&&bF||bG.body&&bG.body[bw]||bF;
}if(bD.nodeType===9){bG=bD.documentElement;
if(bG[bw]>=bG[e]){return bG[bw];
}return Math.max(bD.body[e],bG[e],bD.body[bz],bG[bz]);
}if(bE===M){bH=b.css(bD,bC);
bB=parseFloat(bH);
return b.isNumeric(bB)?bB:bH;
}b(bD).css(bC,bE);
},by,bA,arguments.length,null);
};
});
be.jQuery=be.$=b;
if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return b;
});
}})(window);
/*!
 * jQuery UI 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(a,d){a.ui=a.ui||{};
if(a.ui.version){return;
}a.extend(a.ui,{version:"1.8.16",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});
a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(e,f){return typeof e==="number"?this.each(function(){var g=this;
setTimeout(function(){a(g).focus();
if(f){f.call(g);
}},e);
}):this._focus.apply(this,arguments);
},scrollParent:function(){var e;
if((a.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){e=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(a.curCSS(this,"position",1))&&(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1));
}).eq(0);
}else{e=this.parents().filter(function(){return(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1));
}).eq(0);
}return(/fixed/).test(this.css("position"))||!e.length?a(document):e;
},zIndex:function(h){if(h!==d){return this.css("zIndex",h);
}if(this.length){var f=a(this[0]),e,g;
while(f.length&&f[0]!==document){e=f.css("position");
if(e==="absolute"||e==="relative"||e==="fixed"){g=parseInt(f.css("zIndex"),10);
if(!isNaN(g)&&g!==0){return g;
}}f=f.parent();
}}return 0;
},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault();
});
},enableSelection:function(){return this.unbind(".ui-disableSelection");
}});
a.each(["Width","Height"],function(g,e){var f=e==="Width"?["Left","Right"]:["Top","Bottom"],h=e.toLowerCase(),k={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};
function j(m,l,i,n){a.each(f,function(){l-=parseFloat(a.curCSS(m,"padding"+this,true))||0;
if(i){l-=parseFloat(a.curCSS(m,"border"+this+"Width",true))||0;
}if(n){l-=parseFloat(a.curCSS(m,"margin"+this,true))||0;
}});
return l;
}a.fn["inner"+e]=function(i){if(i===d){return k["inner"+e].call(this);
}return this.each(function(){a(this).css(h,j(this,i)+"px");
});
};
a.fn["outer"+e]=function(i,l){if(typeof i!=="number"){return k["outer"+e].call(this,i);
}return this.each(function(){a(this).css(h,j(this,i,true,l)+"px");
});
};
});
function c(g,e){var j=g.nodeName.toLowerCase();
if("area"===j){var i=g.parentNode,h=i.name,f;
if(!g.href||!h||i.nodeName.toLowerCase()!=="map"){return false;
}f=a("img[usemap=#"+h+"]")[0];
return !!f&&b(f);
}return(/input|select|textarea|button|object/.test(j)?!g.disabled:"a"==j?g.href||e:e)&&b(g);
}function b(e){return !a(e).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this);
}).length;
}a.extend(a.expr[":"],{data:function(g,f,e){return !!a.data(g,e[3]);
},focusable:function(e){return c(e,!isNaN(a.attr(e,"tabindex")));
},tabbable:function(g){var e=a.attr(g,"tabindex"),f=isNaN(e);
return(f||e>=0)&&c(g,!f);
}});
a(function(){var e=document.body,f=e.appendChild(f=document.createElement("div"));
a.extend(f.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});
a.support.minHeight=f.offsetHeight===100;
a.support.selectstart="onselectstart" in f;
e.removeChild(f).style.display="none";
});
a.extend(a.ui,{plugin:{add:function(f,g,j){var h=a.ui[f].prototype;
for(var e in j){h.plugins[e]=h.plugins[e]||[];
h.plugins[e].push([g,j[e]]);
}},call:function(e,g,f){var j=e.plugins[g];
if(!j||!e.element[0].parentNode){return;
}for(var h=0;
h<j.length;
h++){if(e.options[j[h][0]]){j[h][1].apply(e.element,f);
}}}},contains:function(f,e){return document.compareDocumentPosition?f.compareDocumentPosition(e)&16:f!==e&&f.contains(e);
},hasScroll:function(h,f){if(a(h).css("overflow")==="hidden"){return false;
}var e=(f&&f==="left")?"scrollLeft":"scrollTop",g=false;
if(h[e]>0){return true;
}h[e]=1;
g=(h[e]>0);
h[e]=0;
return g;
},isOverAxis:function(f,e,g){return(f>e)&&(f<(e+g));
},isOver:function(j,f,i,h,e,g){return a.ui.isOverAxis(j,i,e)&&a.ui.isOverAxis(f,h,g);
}});
})(jQuery);
/*!
 * jQuery UI Widget 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(b,d){if(b.cleanData){var c=b.cleanData;
b.cleanData=function(f){for(var g=0,h;
(h=f[g])!=null;
g++){try{b(h).triggerHandler("remove");
}catch(j){}}c(f);
};
}else{var a=b.fn.remove;
b.fn.remove=function(e,f){return this.each(function(){if(!f){if(!e||b.filter(e,[this]).length){b("*",this).add([this]).each(function(){try{b(this).triggerHandler("remove");
}catch(g){}});
}}return a.call(b(this),e,f);
});
};
}b.widget=function(f,h,e){var g=f.split(".")[0],j;
f=f.split(".")[1];
j=g+"-"+f;
if(!e){e=h;
h=b.Widget;
}b.expr[":"][j]=function(k){return !!b.data(k,f);
};
b[g]=b[g]||{};
b[g][f]=function(k,l){if(arguments.length){this._createWidget(k,l);
}};
var i=new h();
i.options=b.extend(true,{},i.options);
b[g][f].prototype=b.extend(true,i,{namespace:g,widgetName:f,widgetEventPrefix:b[g][f].prototype.widgetEventPrefix||f,widgetBaseClass:j},e);
b.widget.bridge(f,b[g][f]);
};
b.widget.bridge=function(f,e){b.fn[f]=function(i){var g=typeof i==="string",h=Array.prototype.slice.call(arguments,1),j=this;
i=!g&&h.length?b.extend.apply(null,[true,i].concat(h)):i;
if(g&&i.charAt(0)==="_"){return j;
}if(g){this.each(function(){var k=b.data(this,f),l=k&&b.isFunction(k[i])?k[i].apply(k,h):k;
if(l!==k&&l!==d){j=l;
return false;
}});
}else{this.each(function(){var k=b.data(this,f);
if(k){k.option(i||{})._init();
}else{b.data(this,f,new e(i,this));
}});
}return j;
};
};
b.Widget=function(e,f){if(arguments.length){this._createWidget(e,f);
}};
b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(f,g){b.data(g,this.widgetName,this);
this.element=b(g);
this.options=b.extend(true,{},this.options,this._getCreateOptions(),f);
var e=this;
this.element.bind("remove."+this.widgetName,function(){e.destroy();
});
this._create();
this._trigger("create");
this._init();
},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName];
},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);
this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled");
},widget:function(){return this.element;
},option:function(f,g){var e=f;
if(arguments.length===0){return b.extend({},this.options);
}if(typeof f==="string"){if(g===d){return this.options[f];
}e={};
e[f]=g;
}this._setOptions(e);
return this;
},_setOptions:function(f){var e=this;
b.each(f,function(g,h){e._setOption(g,h);
});
return this;
},_setOption:function(e,f){this.options[e]=f;
if(e==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f);
}return this;
},enable:function(){return this._setOption("disabled",false);
},disable:function(){return this._setOption("disabled",true);
},_trigger:function(f,g,h){var k=this.options[f];
g=b.Event(g);
g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();
h=h||{};
if(g.originalEvent){for(var e=b.event.props.length,j;
e;
){j=b.event.props[--e];
g[j]=g.originalEvent[j];
}}this.element.trigger(g,h);
return !(b.isFunction(k)&&k.call(this.element[0],g,h)===false||g.isDefaultPrevented());
}};
})(jQuery);
(function($){var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;
$.toJSON=typeof JSON==="object"&&JSON.stringify?JSON.stringify:function(o){if(o===null){return"null";
}var pairs,k,name,val,type=$.type(o);
if(type==="undefined"){return undefined;
}if(type==="number"||type==="boolean"){return String(o);
}if(type==="string"){return $.quoteString(o);
}if(typeof o.toJSON==="function"){return $.toJSON(o.toJSON());
}if(type==="date"){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();
if(month<10){month="0"+month;
}if(day<10){day="0"+day;
}if(hours<10){hours="0"+hours;
}if(minutes<10){minutes="0"+minutes;
}if(seconds<10){seconds="0"+seconds;
}if(milli<100){milli="0"+milli;
}if(milli<10){milli="0"+milli;
}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"';
}pairs=[];
if($.isArray(o)){for(k=0;
k<o.length;
k++){pairs.push($.toJSON(o[k])||"null");
}return"["+pairs.join(",")+"]";
}if(typeof o==="object"){for(k in o){if(hasOwn.call(o,k)){type=typeof k;
if(type==="number"){name='"'+k+'"';
}else{if(type==="string"){name=$.quoteString(k);
}else{continue;
}}type=typeof o[k];
if(type!=="function"&&type!=="undefined"){val=$.toJSON(o[k]);
pairs.push(name+":"+val);
}}}return"{"+pairs.join(",")+"}";
}};
$.evalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(str){return eval("("+str+")");
};
$.secureEvalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");
if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+str+")");
}throw new SyntaxError("Error parsing JSON, source is not valid.");
};
$.quoteString=function(str){if(str.match(escape)){return'"'+str.replace(escape,function(a){var c=meta[a];
if(typeof c==="string"){return c;
}c=a.charCodeAt();
return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16);
})+'"';
}return'"'+str+'"';
};
}(jQuery));
jQuery.extend({bez:function(a){var b="bez_"+jQuery.makeArray(arguments).join("_").replace(/\./g,"p");
if(typeof jQuery.easing[b]!=="function"){var c=function(j,h){var e=[null,null],k=[null,null],i=[null,null],g=function(l,m){i[m]=3*j[m],k[m]=3*(h[m]-j[m])-i[m],e[m]=1-i[m]-k[m];
return l*(i[m]+l*(k[m]+l*e[m]));
},f=function(l){return i[0]+l*(2*k[0]+3*e[0]*l);
},d=function(n){var l=n,m=0,o;
while(++m<14){o=g(l,0)-n;
if(Math.abs(o)<0.001){break;
}l-=o/f(l);
}return l;
};
return function(l){return g(d(l),1);
};
};
jQuery.easing[b]=function(f,g,e,i,h){return i*c([a[0],a[1]],[a[2],a[3]])(g/h)+e;
};
}return b;
}});
(function(a){a.fn.extend({translate:function(){var b=new a.Lang();
return this.each(function(){if(a(this).data("translate-attribute")){a(this).attr(a(this).data("translate-attribute"),b.translate(a(this).data("translation-key"),a(this).data("translation-params")));
}else{a(this).html(b.translate(a(this).data("translation-key"),a(this).data("translation-params")));
}});
}});
a.Lang=function(){if(typeof translations=="undefined"||typeof translations!="object"){return;
}locale=a("html").attr("lang");
if(!translations[locale]){locale="en";
}this.translate=function(c,d){var b=c;
if(translations[locale][c]){b=translations[locale][c];
}else{if(translations.en[c]){b=translations.en[c];
}}if(d&&typeof d=="object"){a.each(d,function(f,e){b=b.replace("{"+f+"}",e);
});
}return b;
};
};
})(jQuery);
(function(a){a.fn.extend({selectRange:function(c,b){return this.each(function(){a.SelectRange(this,c,b);
});
}});
a.SelectRange=function(b,e,d){if(typeof b.setSelectionRange!=="undefined"){b.setSelectionRange(e,d);
}else{if(typeof b.createTextRange!=="undefined"){var c=b.createTextRange();
c.collapse(true);
c.moveStart("character",e);
c.moveEnd("character",(d-e));
c.select();
}}};
})(jQuery);
(function(b){var c=document.createElement("input"),a=0;
b.fn.extend({placeholder:function(d){var d=d||{};
return this.each(function(){if(b.supportsPlaceholderAttribute()===false){b.Placeholder(this,d);
}});
}});
b.supportsPlaceholderAttribute=function(){if(typeof c.placeholder==="undefined"){return false;
}else{return true;
}};
b.Placeholder=function(g,f){var i=document.createElement("span");
i.id=f.id||"placeholder-"+(a++);
i.className=f.className||"placeholder";
i.style.cursor=f.cursor||"text";
i.setAttribute("data-translation-key",g.getAttribute("data-translation-key"));
i.style.display="none";
i.innerHTML=g.getAttribute("placeholder");
var d=f.containingElement||g.parentNode;
d.appendChild(i);
function e(){i.style.display="none";
}function j(){if(g.value===""){i.style.display="block";
}}function h(){i.style.display="none";
g.focus();
}b(g).on("focus",e);
b(g).on("blur",j);
b(i).on("click",h);
b(g).data("placeholderElement",i.id);
if(document.activeElement!==g){if(g.value===""){i.style.display="block";
}}};
})(jQuery);
if(typeof SKYPE=="undefined"){var SKYPE={};
}SKYPE.namespace=function(){var b=arguments,g=null,e,c,f;
for(e=0;
e<b.length;
++e){f=b[e].split(".");
g=SKYPE;
for(c=(f[0]=="SKYPE")?1:0;
c<f.length;
++c){g[f[c]]=g[f[c]]||{};
g=g[f[c]];
}}return g;
};
SKYPE.namespace("buttonresizer");
SKYPE.buttonresizer=(function(b){var a=function(d,c){b(function(){try{if(d){var g=(c&&c.minWidth)?c.minWidth:0,e=d.find(".jsResizer"),i=0,h=0;
e.width("auto");
i=e.map(function(){return b(this).width();
}).get();
h=parseInt(Math.max.apply(null,i),10);
if(h<g){h=g;
}if((h%2)!==0){h++;
}e.width(h);
}}catch(f){console.log("An error occured while resizing buttons"+f);
}});
};
return{resizeButtons:a};
})(jQuery);
$.widget("ui.animator",{options:{src:undefined,width:50,height:50,horizontal:false,frames:24,fps:24,autostart:true,loop:false},animation:{container:null,interval:null,x:0,y:0,iw:0,ih:0,step:0},_create:function(){if(this.options.src!==undefined){var a=new Image();
a.src=this.options.src;
}this.animation.container=$("<div />",{"class":"animationContainer",width:this.options.width,height:this.options.height}).css({display:"none","background-color":"transparent","background-repeat":"no-repeat"});
this.animation.ih=this.options.horizontal?this.options.height:(this.options.height*this.options.frames);
this.animation.iw=this.options.horizontal?(this.options.width*this.options.frames):this.options.width;
this.element.append(this.animation.container);
if(this.options.src!==undefined&&this.options.autostart){this.start();
}},_animationEnd:function(){this._trigger("end");
},start:function(){if(this.animation.interval!==null){this.stop();
}if(!this.options.src){return;
}this._resetAnimation();
this.animation.container.show().css("background-image","url('"+this.options.src+"')");
var a=Math.round(1000/this.options.fps);
var b=this;
this.animation.interval=setInterval(function(){b._paint();
},a);
},_paint:function(){this.animation.step++;
if(this.animation.step>this.options.frames){if(!this.options.loop){this.stop();
return;
}else{this._resetAnimation();
this.animation.step++;
}}this.animation.x=this.options.horizontal?0-((this.animation.step-1)*this.options.width):0;
this.animation.y=this.options.horizontal?0:0-((this.animation.step-1)*this.options.height);
this.animation.container.css("background-position",this.animation.x+"px "+this.animation.y+"px");
},_resetAnimation:function(){this.animation.step=0;
this.animation.x=0;
this.animation.y=0;
},stop:function(){clearInterval(this.animation.interval);
this._animationEnd();
}});
$.widget("ui.button",{options:{disabled:false},_create:function(){this.className=this.element.attr("class");
this._enable();
},_setOption:function(a,b){if(a=="disabled"&&b!=this.options.disabled){b?this._disable():this._enable();
}$.Widget.prototype._setOption.apply(this,arguments);
},_enable:function(){var a=this;
this.element.click(function(){a._trigger("click");
var b=a.element.attr("href");
if(!b||b.substr(0,1)=="#"){return false;
}}).mouseout(function(){a.element.removeClass(a.className+"-down");
}).mousedown(function(){a.element.addClass(a.className+"-down");
}).mouseup(function(){a.element.removeClass(a.className+"-down");
}).keydown(function(b){if(b.which==32){a._trigger("click");
}});
this.element.removeClass().addClass(this.className).removeAttr("aria-disabled").attr("tabindex",function(b,c){return Math.abs(c);
});
$("body").append('<p id="tempHack"></p>');
},_disable:function(){this.element.unbind("click mouseout mousedown mouseup keydown").click(function(){return false;
});
this.element.removeClass().addClass(this.className+" "+this.className+"-disabled").attr("aria-disabled","true").attr("tabindex",function(a,b){return Math.abs(b)*-1;
});
$("#tempHack").remove();
}});
$.widget("ui.checkbox",{options:{checked:false,disabled:false},_create:function(){var a=this,b="";
this.element.wrap('<div class="checkboxModified"></div>');
if(!this.options.disabled&&this.options.checked){b='checked="checked"';
}this.checkbox=$('<input type="checkbox" class="highContrastCheckbox" '+b+" />");
this.element.parent().prepend(this.checkbox);
this.checkbox.bind("click",function(){a.element.trigger("click");
});
this.element.bind("click keydown",function(c){if(a.options.disabled){return false;
}if(c.type=="click"||c.keyCode==32){a.option("checked",!a.options.checked);
}if(c.type=="click"){return false;
}});
},_setOption:function(a,c){var b=this.options.checked;
if(a=="disabled"&&c!=this.options.disabled){c?this._disable():this._enable();
}$.Widget.prototype._setOption.apply(this,arguments);
if(a=="checked"&&c!=b){c?this._check():this._uncheck();
this._trigger("change");
}},_check:function(){this.element.addClass("checkbox-checked").attr("aria-checked","true");
this.checkbox.attr("checked",true);
},_uncheck:function(){this.element.removeClass("checkbox-checked").attr("aria-checked","false");
this.checkbox.attr("checked",false);
},_enable:function(){this.element.removeClass("checkbox-disabled").removeAttr("aria-disabled");
this.checkbox.attr("disabled",false);
},_disable:function(){this.element.addClass("checkbox-disabled").attr("aria-disabled","true");
this.checkbox.attr("disabled",true);
}});
$.widget("ui.inputfield",{options:{disabled:false,type:undefined,clearbutton:false,_types:["text","password"]},_create:function(){this.wrap=$("<div></div>").addClass("inputFieldWrap");
this.element.wrap(this.wrap);
if(API.getPlatformId()!==3){this.capsLock=$("<span></span>").addClass("caps");
this.capsLock.insertAfter(this.element);
}if(this.options.type==undefined){this.options.type=this.element.attr("type");
}else{if(this.options.type!=this.element.attr("type")){this.changeType(this.options.type);
}}this.element.addClass(this.options.type+"Type");
this.element.prop("autocomplete","off");
if(this.options.clearbutton){this.button=$("<div></div>").addClass("clearFieldButton").attr("role","button");
this.element.after(this.button);
this.element.parent().addClass("inputWithClearButton");
this._button();
}else{this.element.parent().addClass("inputWithoutClearButton");
}this._enable();
this._change();
this._hover();
this._focus();
this._blur();
this._paste();
},_setOption:function(a,b){switch(a){case"disabled":if(b!=this.options.disabled){b?this._disable():this._enable();
}break;
case"type":if(b!=this.options.type){this.changeType(b);
}}$.Widget.prototype._setOption.apply(this,arguments);
},changeType:function(a){a.toLowerCase();
if(this._isEnabledType(a)){try{this.element.prop("type",a);
this.options.type=a;
this.element.removeClass("textType passwordType").addClass(a+"Type");
}catch(b){this.options.type=this.element.attr("type");
}}},_isEnabledType:function(b){for(var a in this.options._types){if(b===this.options._types[a]){return true;
}}return false;
},_enable:function(){this.element.removeClass("disabledField").prop("disabled",false);
this.element.parent().removeClass("disabled");
},_disable:function(){this.element.addClass("disabledField").blur().prop("disabled",true);
this.element.parent().addClass("disabled");
},value:function(a){if(a!=undefined){this.element.val(a);
this.element.trigger("change");
}return this.element.val();
},_button:function(){var a=this;
this.button.click(function(){if(a.options.disabled){return;
}a.element.val("");
a.element.trigger("change");
a.focus();
});
},_change:function(){var a;
this.element.keydown(function(){a=this.value;
}).keyup(function(){if(this.value!=a){$(this).trigger("change");
}});
},_focus:function(){var a=this;
this.element.focus(function(){$(this).select();
a.element.parent().addClass("focus");
}).mouseup(function(b){b.preventDefault();
});
this.element.parent().click(function(){a.focus();
});
},_hover:function(){this.element.parent().hover(function(){$(this).addClass("hover");
},function(){$(this).removeClass("hover");
});
},_paste:function(){this.element.on("paste",function(a){setTimeout(function(){$(a.currentTarget).trigger("change");
},100);
});
},focus:function(){this.element.focus();
},blur:function(){this.element.blur();
},_blur:function(){var a=this;
this.element.blur(function(){a.element.parent().removeClass("focus");
});
}});
$.widget("ui.combobox",{options:{disabled:false},_create:function(){this.element.wrap($("<div></div>").addClass("combobox"));
var a=this;
this.button=$("<div><span>&#x25BC;</span></div>").addClass("dropdownButton").attr("role","button").attr("aria-haspopup","true").attr("aria-expanded","false");
this.ul=$("<ul></ul>").dropdown({pick:function(c,b){a.element.val(b).select().trigger("change");
}});
this.element.prop("autocomplete","off");
this.element.after(this.button,this.ul);
this._enable();
this._autocomplete();
this._button();
this._arrows();
this._keydown();
this._keyup();
this._change();
this._focus();
this._blur();
this.setItems([]);
},setItems:function(a){this.items=a;
this.dropdown("setItems",a);
},dropdown:function(){return this.ul.dropdown.apply(this.ul,arguments);
},_setOption:function(a,b){switch(a){case"disabled":if(b!=this.options.disabled){b?this._disable():this._enable();
}break;
}$.Widget.prototype._setOption.apply(this,arguments);
},_enable:function(){this.element.removeClass("disabledField").prop("disabled",false);
this.button.removeClass("dropdownButtonDisabled").addClass("dropdownButtonEnabled");
},_disable:function(){this.element.addClass("disabledField").prop("disabled",true);
this.button.removeClass("dropdownButtonEnabled").addClass("dropdownButtonDisabled");
},_autocomplete:function(){var a=this;
var c;
var b=function(e){e=e.toLowerCase();
var d;
$.each(a.items,function(f,g){g=g.toLowerCase();
if(g.indexOf(e)==0){d=g;
return false;
}});
return d;
};
this.element.keypress(function(f){var d=f.keyCode?f.keyCode:f.which;
clearTimeout(c);
if(d==8||d==46){return;
}c=setTimeout(function(){var g=a.element.val();
var e=b(g);
if(e&&g!=""){a.element.val(e).selectRange(g.length,e.length);
}},300);
}).blur(function(d){clearTimeout(c);
});
},_button:function(){var a=this;
this.button.click(function(){if(a.options.disabled){return;
}if(a.dropdown("isOpen")){a.dropdown("close");
a.button.attr("aria-expanded","false");
}else{a.element.focus();
a.dropdown("open",a.element.val());
a.button.attr("aria-expanded","true");
}});
},_arrows:function(){var a=this;
this.element.keydown(function(b){if(b.keyCode!=38&&b.keyCode!=40){return;
}if(b.altKey){if(b.keyCode==40||b.keyCode==38){a.dropdown("isOpen")?a.dropdown("close"):a.dropdown("open",a.element.val());
a.button.attr("aria-expanded","true");
}}else{b.preventDefault();
a.dropdown(b.keyCode==38?"up":"down");
}});
},_keydown:function(){var a=this;
this.element.keydown(function(b){switch(b.keyCode){case 8:if(a.element.prop("readonly")){return false;
}break;
}});
},_keyup:function(){var a=this;
this.element.keyup(function(b){switch(b.keyCode){case 13:if(a.dropdown("isOpen")){a.dropdown("pick");
}else{a._trigger("enter");
}break;
case 27:a.dropdown("close");
a.button.attr("aria-expanded","false");
break;
}});
},_change:function(){var a;
this.element.keydown(function(){a=this.value;
}).keyup(function(){if(this.value!=a){$(this).trigger("change");
}});
},_focus:function(){this.element.focus(function(){$(this).select();
}).mouseup(function(a){a.preventDefault();
});
},_blur:function(){var a=this;
this.element.blur(function(){setTimeout(function(){if(!a.element.is(":focus")){a.dropdown("close");
}},200);
});
}});
$.widget("ui.dropdown",{_create:function(){this.element.addClass("dropdown");
this.setItems([]);
},setItems:function(b){this.element.html("");
var a=this;
$.each(b,function(c,d){if(c>7){return false;
}$("<li></li>").attr("role","option").text(d).appendTo(a.element);
});
this.items=this.element.find("li").hover(function(){a._select($(this).index());
}).click(function(){a._pick($(this));
a.close();
});
this.items.first().addClass("first");
},open:function(b){if(this.isOpen()||this.items.size()<1){return;
}var a=this;
this.items.removeClass("selected");
this.items.each(function(c,d){if($(d).text()==b){a._select(c);
return false;
}});
this.element.show();
},close:function(){if(!this.isOpen()){return;
}this.element.hide();
if($("#username").val()){$("#password").select();
}},isOpen:function(){return this.element.is(":visible");
},_select:function(a){this.items.filter(".selected").removeClass("selected").removeAttr("aria-selected");
$(this.items.get(a)).addClass("selected").attr("aria-selected","true");
return $(this.items.get(a));
},_shift:function(a,c){if(this.items.size()<1){return;
}var b=this.items.filter(".selected").index()+a;
if(b<0){if(c){b=this.items.size()-1;
}else{b=0;
}}else{if(b>this.items.size()-1){if(c){b=0;
}else{b=this.items.size()-1;
}}}return this._select(b);
},_pick:function(a){if(!a){return;
}this._trigger("pick",null,a.text());
},up:function(){this._pick(this._shift(-1));
},down:function(){this._pick(this._shift(1));
},pick:function(){var a=this.items.filter(".selected");
if(a.size()>0){this._pick(a);
this.close();
}},_mouse:function(){var a=this;
this.items.hover(function(){a._select($(this).index());
});
this.items.click(function(){a._pick($(this));
a.close();
});
}});
$.widget("ui.suggestions",{options:{maxheight:150,maxitems:5,selectable:true,defaultAvatar:"images/skypeicon.png"},listedElements:[],showing:false,_create:function(){this.element.empty();
this.ul=$("<ul></ul>",{"class":"suggestionsList"});
this.element.append(this.ul);
this.setItems([]);
},isEmpty:function(){return !this.showing;
},setItems:function(c,d){this.ul.empty();
var b=this;
b.items=c;
b.listedElements=[];
var e=c.length,a=(d)?d:1;
this.showing=(e>0);
$.each(c,function(g,h){if((g+1)>b.options.maxitems){return false;
}h.index=g;
var k=$("<li></li>",{"class":"suggestionsListItem",id:"suggestionListItem-"+g}).data("suggestion",h).hover(function(m){b._select($(this),m);
}).click(function(){b._pick($(this));
}).keyup(function(m){if(m.keyCode===13){b._pick($(this));
}});
if(b.options.selectable){k.attr({role:"button"});
}k.attr({tabindex:(a+g)});
if((g+1)==e||(g+1)==b.options.maxitems){k.addClass("last");
}var j=h.avatar||b.options.defaultAvatar;
var i=$("<div />",{"class":"suggestionPicture"}).preloader({src:j,timeout:0});
$("<div />",{"class":"pictureContainer noflip"}).append(i).appendTo(k);
var f=$("<span />",{"class":"suggestionName"}).text(h.name);
var l=$("<span />",{"class":"suggestionUsername"}).text(h.username);
$("<div />",{"class":"suggestionText"}).append(f,l).appendTo(k);
b.listedElements.push(k);
b.ul.append(k);
});
this.element.removeData("selected");
},_pick:function(b){var a=this;
if(!b||!a.options.selectable){return;
}var c=b.data("suggestion");
a.element.data("selected",c);
a._trigger("pick",null,c);
},_select:function(b,a){if(!b||!this.options.selectable){return;
}$(".suggestionsListItem").removeClass("hover");
if(a&&a.type=="mouseenter"){b.addClass("hover");
}},_destroy:function(){this.element.empty();
$.Widget.prototype.destroy.call(this);
}});
$.widget("ui.preloader",{options:{src:undefined,width:48,height:48,fallbackSrc:"images/skypeicon.png",showDuration:"fast",timeout:2,forceLoad:false},_showing:false,_activeSrc:undefined,imageObject:undefined,fallbackObject:undefined,t:null,_create:function(){this.fallbackObject=new Image();
this.fallbackObject.src=this.options.fallbackSrc;
if(this.options.src){this.loadImage(this.options.src);
}},loadImage:function(b){if(!b){return;
}if(!this.options.forceLoad&&this._showing&&this._activeSrc==b){return;
}this.element.empty();
this._showing=false;
this._activeSrc=undefined;
var a=this;
this.options.src=b;
this.imageObject=new Image(this.options.width,this.options.height);
this.imageObject.onload=function(){a._onload();
};
this.imageObject.onerror=function(){a._onerror();
};
if(this.options.timeout!=null){this.t=setTimeout(function(){a._onerror();
},this.options.timeout*1000);
}this.imageObject.src=b;
},_setOption:function(a,b){$.Widget.prototype._setOption.apply(this,arguments);
},_onerror:function(){clearTimeout(this.t);
if(this._showing&&(this.options.fallbackSrc==this._activeSrc)){return;
}var a=$("<img/>").addClass("preloaderImage fallbackImage").width(this.options.width).height(this.options.height).attr("src",this.options.fallbackSrc).css("display","none");
this.element.empty();
this.element.append(a);
this._activeSrc=this.options.fallbackSrc;
if(this._showing){a.show();
}else{this._showing=true;
a.fadeIn(this.options.showDuration);
}},_onload:function(){clearTimeout(this.t);
var a=$("<img/>").addClass("preloaderImage").width(this.options.width).height(this.options.height).attr("src",this.options.src).css("display","none");
this.element.empty();
this.element.append(a);
this._activeSrc=this.options.src;
if(this._showing){a.show();
}else{this._showing=true;
a.fadeIn(this.options.showDuration);
}}});
SKYPE.namespace("login");
var getExternal=function(){if(window.external&&typeof window.external.getAPI!="undefined"){return window.external;
}throw new Error("[API] Failed to load external javascript API");
};
SKYPE.login.Api=function(){this.external=getExternal();
var a=this.external.getAPI(0);
this.getLanguage=function(){return a.getClient().language;
};
this.getPlatformId=function(){return a.platformID;
};
this.getVersion=function(){return a.getClient().version;
};
this.getClientVersion=function(){var c=a.getClient().trackingID;
var d=c?"/"+c:"";
return this.getPlatformId()+"/"+this.getVersion()+d;
};
this.getCobrand=function(){var c=a.getClient().version.split(".");
if(c.length>2){return c[2];
}return"0";
};
this.setLanguageChangeListener=function(c){a.setLanguageChangeListener(c);
};
var b=function(c){return c.indexOf(":")>=0;
};
this.getDefaultUsername=function(){if(!a.defaultLoginName){return null;
}if(b(a.defaultLoginName)){return null;
}return a.defaultLoginName;
};
this.getStorePassword=function(){return a.storePassword;
};
this.setStorePassword=function(c){a.storePassword=c;
};
this.hasSavedCredentials=function(c){return a.hasSavedCredentials(c);
};
this.canAutoLogin=function(){return a.defaultLoginName&&a.canAutoLogin(a.defaultLoginName);
};
this.setLoginStatusListener=function(c){return a.setLoginStatusListener(c||function(){});
};
this.getLoginStatus=function(){return a.loginStatus;
};
this.getUsernames=function(){if(a.loginNames&&a.loginNames!='""'){return $.grep(a.loginNames.split(";"),b,true);
}return[];
};
this.login=function(d,c){this.setLastKnownLogin("SKYPE");
a.login(d,c);
};
this.loginWithOAuth=function(e,c,d){if(e===999){this.setLastKnownLogin("MSA");
}else{if(e===95){this.setLastKnownLogin("FB");
}}if(e==999){c="";
}a.loginWithOAuth(e,c,d);
};
this.autoLogin=function(){a.login(a.defaultLoginName,"");
};
this.log=function(d,c){if(typeof(c)=="object"){var e=[];
for(property in c){e.push(property+": "+$.toJSON(c[property]));
}d+=" - "+e.join(", ");
}a.log("LOGIN - "+d);
};
this.redirectUrl=function(c,d){this.external.redirectURL(c,d);
};
this.getDisabledAuthPartners=function(){return a.disabledAuthPartners.split(",");
};
this.setSessionListener=function(c){a.setSessionListener(c||function(){});
};
this.saveSessionCookie=function(d,c){a.saveSessionCookie(d,c);
};
this.getSessionToken=function(){return a.sessionToken;
};
this.getLogoutReason=function(){return parseInt(a.getAccount().logoutReason,10);
};
this.store=function(c,d){this.log("Storing into local Skype storage: ",{key:c,value:typeof d});
a.postLocal(c,$.toJSON(d));
};
this.getLastKnownLogin=function(c){var e="";
var h=(c?"skypeLKLPersisted":"skypeLKL");
var g=document.cookie;
var f;
g=g.split("; ");
for(var d=0;
d<g.length;
d++){f=g[d].split("=");
if(f.length===2){if(f[0]===h){switch(f[1]){case"MSA":e="MSA";
break;
case"FB":e="FB";
break;
case"SKYPE":e="SKYPE";
break;
}}}}return e;
};
this.setLastKnownLogin=function(e){var d="";
switch(e){case"MSA":case"FB":case"SKYPE":d=e;
break;
}var c=new Date();
c.setTime(c.getTime()+31536000000);
document.cookie="skypeLKL="+d+"; expires="+c.toUTCString()+";";
document.cookie="skypeLKLPersisted="+d+"; expires="+c.toUTCString()+";";
};
this.getHCmode=function(){return(a.HCmode!=="undefined")?a.HCmode:null;
};
};
(function(){SKYPE.namespace("login.ecs");
SKYPE.login.ecs.Cache=function(){this.cookieName="ecscache";
this.cookieExpiryInDays=1;
};
SKYPE.login.ecs.Cache.prototype={fetch:function(){var b=$.proxy(function(){var c=SKYPE.login.Tools.getCookie(this.cookieName);
if(!c){return null;
}try{return $.parseJSON(c);
}catch(d){}return null;
},this);
var a=b();
API.log("Fetching ECS response from the cache - "+(a?"HIT":"MISS"));
return a;
},store:function(a){API.log("Storing ECS response to the cache");
SKYPE.login.Tools.setCookie(this.cookieName,$.toJSON(a),this.cookieExpiryInDays);
}};
}());
(function(){SKYPE.namespace("login.ecs");
SKYPE.login.ecs.Config=function(){this.currentEcsResponse={XCO:{SkypeClientLogin:{msaRegistrationEnabled:false,omnitureEnabled:true,loginUrl:false}}};
};
SKYPE.login.ecs.Config.prototype={loadDefaultValues:function(){this.processResponse(this.currentEcsResponse);
API.log("Loaded ECS default values");
},isOmnitureEnabled:function(){return this.omnitureEnabled;
},isMsaRegistrationEnabled:function(){return this.msaRegistrationEnabled;
},getLoginUrl:function(){return this.loginUrl;
},forceMsaRegistrationState:function(a){this.msaRegistrationEnabled=a;
},getEcsResponse:function(){return this.currentEcsResponse;
},processResponse:function(a){var b;
if(a&&a.XCO&&a.XCO.SkypeClientLogin){b=a.XCO.SkypeClientLogin;
}else{return false;
}this.currentEcsResponse=a;
if(b.omnitureEnabled!==undefined&&b.omnitureEnabled!==null){this.omnitureEnabled=b.omnitureEnabled;
}if(b.msaRegistrationEnabled!==undefined&&b.msaRegistrationEnabled!==null){this.msaRegistrationEnabled=b.msaRegistrationEnabled;
}if(b.loginUrl!==undefined&&b.loginUrl!==null){this.loginUrl=b.loginUrl;
}}};
}());
(function(){SKYPE.namespace("login.ecs");
SKYPE.login.ecs.Client=function(){this.cache=new SKYPE.login.ecs.Cache();
};
SKYPE.login.ecs.Client.prototype={init:function(){var b=this.getConfigFromQueryString();
var a=this.cache.fetch();
if(b){API.log("Loading ECS config from Query String: "+$.toJSON(b));
EcsConfig.processResponse(b);
this.cache.store(b);
$(document).trigger("ecsload");
}else{if(a){API.log("Loading ECS config from cache:"+$.toJSON(a));
EcsConfig.processResponse(a);
$(document).trigger("ecsload");
}else{API.log("Cache empty, making an ECS config request");
this.newRequest();
}}},newRequest:function(){var b,a,c;
b=Config.buildVersion.replace("-testenv","");
if(b.match(/[\d.]+/i)===null){b="0.0";
}a=Config.ecsUrl.slice(-1)!=="/"?(Config.ecsUrl+"/"):Config.ecsUrl;
c=a+b;
API.log("ECS Config URI: "+c);
$.ajax({url:c,timeout:7000,data:{platformId:API.getPlatformId(),clientVersion:API.getVersion()},dataType:"jsonp",jsonpCallback:"processEcsConfig",success:$.proxy(this.handleSuccess,this),error:$.proxy(this.handleError,this)});
},handleError:function(c,a,b){API.log("Failed to load ECS config. Using fallback values.",{status:a,error:b});
$(document).trigger("ecsfailed");
},handleSuccess:function(a){this.cache.store(a);
EcsConfig.processResponse(a);
$(document).trigger("ecsload");
},getConfigFromQueryString:function(){var a=SKYPE.login.Tools.parseQuery(window.location.search);
var b=(typeof a!=="undefined"&&a.ecs_config)?a.ecs_config:null;
if(b){API.log("Found ECS config in QueryString: "+b);
try{return $.parseJSON(b);
}catch(c){API.log("Failed to parse the ECS config from the QueryString");
return false;
}}else{API.log("No ECS config found in QueryString");
return false;
}}};
}());
(function(){window.Animation=function(b){if(typeof b!=="object"){throw"settings not an object";
}this.settings=b;
this.duration=b.duration;
this.onFinish=b.onFinish||function(){};
this.play();
};
var a=function(c,b){if(c===undefined||b===undefined){throw ("frame needs an element and animation settings to run");
}this.duration=b.duration;
this.startDelay=b.startDelay||0;
this.onFinish=b.onFinish;
this.layerDetails=c;
this.selector=this.layerDetails.selector;
this.$element=$(this.selector+":eq(0)");
this.frames=this.layerDetails.frames||[];
this.setUpFrame();
this.runAnimations();
};
a.prototype={setUpFrame:function(){if(this.layerDetails.animationType==="translate"){this.setUpTranslateAnimation();
}else{if(this.layerDetails.animationType==="opacity"){this.setUpOpacityAnimation();
}}this.addDelay();
},runAnimations:function(){var e=this.frames.length,b=0,d=false;
for(var c=0;
c<e;
c++){d=c===e-1;
if(this.layerDetails.animationType==="translate"){this.animateTranslation(this.frames[c],this.frames[c].timing-b,d);
}else{if(this.layerDetails.animationType==="opacity"){this.animateOpacity(this.frames[c],this.frames[c].timing-b,d);
}}b=this.frames[c].timing;
}},setUpTranslateAnimation:function(){var b={},c;
this.yField=(this.$element.css("bottom")!=="auto")?"bottom":"top";
this.xField=(this.$element.css("right")!=="auto")?"right":"left";
c=this.flipTranslateValues(this.layerDetails.startFrame.attributes);
b[this.yField]=this.convertToRelative(c.y);
b[this.xField]=this.convertToRelative(c.x);
this.$element.css(b);
},setUpOpacityAnimation:function(){this.$element.css({opacity:this.layerDetails.startFrame.attributes.opacity});
},addDelay:function(){if(this.startDelay>0){this.$element.delay(this.startDelay);
}},animateTranslation:function(f,e,d){var b={},c=this.flipTranslateValues(f.attributes),g=(d)?$.proxy(this.lastFrameCallBack,this):undefined;
b[this.yField]=this.convertToRelative(c.y);
b[this.xField]=this.convertToRelative(c.x);
this.$element.animate(b,this.getTimeFromPercentage(e),$.bez(f.easingParameters),g);
},animateOpacity:function(d,c,b){var e=(b)?$.proxy(this.lastFrameCallBack,this):undefined;
this.$element.animate({opacity:d.attributes.opacity},this.getTimeFromPercentage(c),$.bez(d.easingParameters),e);
},lastFrameCallBack:function(){this.$element.attr("style","");
this.onFinish();
},flipTranslateValues:function(b){if(this.yField==="bottom"){b.y=(b.y<0)?b.y*-1:0-b.y;
}if(this.xField==="right"){b.x=(b.x<0)?b.x*-1:0-b.x;
}return b;
},convertToRelative:function(b){return(b<0)?"-="+(b*-1):"+="+b;
},getTimeFromPercentage:function(b){return Math.round((this.duration/100)*b);
}};
window.Animation.prototype={animationsFinished:0,play:function(){var c=this.settings.elements||[],d={};
this.elementsLength=c.length;
d.duration=this.duration;
d.startDelay=this.settings.startDelay;
d.onFinish=$.proxy(this.lastElementCallback,this);
for(var b=0;
b<this.elementsLength;
b++){new this.Layer(c[b],d);
}},lastElementCallback:function(){if(++this.animationsFinished===this.elementsLength){this.onFinish();
}},Layer:a};
}());
SKYPE.namespace("login");
SKYPE.login.Tools={_useStorage:undefined,storeData:function(a,b){b=String(b);
if(this._hasLocalStorage()){try{localStorage.setItem(a,b);
}catch(c){}}else{this.setCookie(a,b);
}},loadData:function(a){var b=null;
if(this._hasLocalStorage()){try{b=localStorage.getItem(a);
}catch(c){}if(!b){b=null;
}}else{b=this.getCookie(a);
}return b;
},removeData:function(a){if(this._hasLocalStorage()){try{localStorage.removeItem(a);
}catch(b){}}else{this.deleteCookie(a);
}},_hasLocalStorage:function(){if(this._useStorage!==undefined){return this._useStorage;
}try{localStorage.setItem("_storageTest","123");
localStorage.getItem("_storageTest");
localStorage.removeItem("_storageTest");
this._useStorage=true;
return true;
}catch(a){}this._useStorage=false;
return false;
},getCookie:function(c){var d=document.cookie.split("; ");
for(var a in d){var b=d[a].split("=");
if(c===decodeURIComponent(b[0])){return decodeURIComponent(b[1]||"");
}}return null;
},deleteCookie:function(a){this.setCookie(a,"",-1);
},setCookie:function(d,e,a){a=a||200;
if(e==null){this.deleteCookie(d);
return;
}var b="";
if(typeof a==="number"){var c=new Date();
c.setDate(c.getDate()+a);
b="; expires="+c.toUTCString();
}e=String(e);
document.cookie=encodeURIComponent(d)+"="+encodeURIComponent(e)+b;
},escape:function(a){return $("<div/>").text(a).html();
},randomString:function(c){c=c||10;
var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
var d="";
for(var a=0;
a<c;
a++){d+=b.charAt(Math.floor(Math.random()*b.length));
}return d;
},parseQuery:function(d){var f={};
if(typeof(d)!="string"){d="";
}d=d.replace(/^[?#]/,"");
var c=d.split("&");
for(var b=0;
b<c.length;
++b){var e=c[b].split("=");
var a=decodeURIComponent(e.shift());
if(!a){continue;
}f[a]=decodeURIComponent(e.shift()||"");
}return f;
},skypeLocaleToMicrosoftLocale:function(a){switch(a){case"zh-hans":return"zh-CN";
case"zh-hant":return"zh-TW";
}return a;
},reasonTypeMapper:function(a){var b;
switch(a){case"microsoft_registration":b="USER_CONNECT_MS_REGISTRATION_CLIENT";
break;
case"microsoft_login":b="USER_CONNECT_MS_LOGIN_CLIENT";
break;
case"microsoft_registration_linking":b="USER_CONNECT_MS_LINKING_CLIENT";
break;
case"microsoft_login_linking":b="USER_CONNECT_MS_EXISTING_LINKING_CLIENT";
break;
default:b="USER_CONNECT_CLIENT_LOGIN";
break;
}return b;
}};
var Login;
(function(){SKYPE.namespace("login");
SKYPE.login.Main=function(){Login=this;
this.legacyInit();
this.moduleInit();
this.formComponentInit();
this.buttonInit();
this.addScreenreaderTitleDataAttribute();
API.log("Modules and form components loaded.");
this.clearSavedData();
this.tracking.init();
SKYPE.login.form=null;
new SKYPE.login.Router();
};
SKYPE.login.Main.prototype={addScreenreaderTitleDataAttribute:function(){$(".view").each(function(){$(this).data("screenreaderTitle",$(this).find("h2.titleLarge").text());
});
},legacyInit:function(){if(typeof window.navigator==="object"&&typeof window.navigator.userAgent==="string"){var b=window.navigator.userAgent,d=b.indexOf("MSIE 6"),c=b.indexOf("MSIE 7"),a=b.indexOf("MSIE 8");
if(a>0){$("html").addClass("lt-ie9");
}else{if(c>0){$("html").addClass("lt-ie9 lt-ie8");
}else{if(d>0){$("html").addClass("lt-ie9 lt-ie8 lt-ie7");
}}}}},moduleInit:function(){new SKYPE.login.Platform();
new SKYPE.login.Checkbox();
new SKYPE.login.Preloaders();
new SKYPE.login.Suggestions();
new SKYPE.login.SignIn();
new SKYPE.login.TextDirection();
new SKYPE.login.Translate();
new SKYPE.login.Urls();
this.partner=new SKYPE.login.Partner();
this.loader=new SKYPE.login.Loader();
this.message=new SKYPE.login.Message();
this.tracking=new SKYPE.login.Tracking();
this.view=new SKYPE.login.View();
},formComponentInit:function(){var a;
this.username=new SKYPE.login.Username();
this.username.init();
a=new SKYPE.login.Password();
a.init();
},buttonInit:function(b){var a=b||$(".button");
a.button();
},clearSavedData:function(){Login.partner.clearAll();
},setView:function(a){Login.view.set(a);
},toggleForm:function(d,g,e,b){var f=g||$("#usernameSkype"),a=e||$("#passwordSkype"),c=b||$("#signInSkype");
f.combobox("option","disabled",d);
a.inputfield(d?"disable":"enable");
c.button("option","disabled",d);
},enableForms:function(){this.toggleForm(false);
},disableForms:function(){this.toggleForm(true);
}};
})();
(function(){SKYPE.namespace("login.Router");
SKYPE.login.Router=function(){window.router=this;
this.initialise();
};
SKYPE.login.Router.prototype={initialise:function(){this.params=this.getParams();
this.hashParams=this.getHashParams();
this.getLastKnownLogin=API.getLastKnownLogin();
this.goToExpectedStart();
},getLoginUrl:function(){return window.location.href.replace("/index.html","/login.html");
},getParams:function(){return SKYPE.login.Tools.parseQuery(window.location.search);
},getHashParams:function(){return SKYPE.login.Tools.parseQuery(window.location.hash);
},goToExpectedStart:function(){var a=API.getLogoutReason();
if(this.shouldGoToRegistrationSuccess()){this.goToRegistrationSuccess();
}else{if(this.shouldGoToAuthSuccess()){this.goToAuthSuccess();
}else{if(this.shouldHandleMSAAccessTokenRenewal(a)){this.goToMSA();
}else{if(!this.hasHandledLogoutError(a)){if(this.shouldGoToMSA(a)){this.goToMSA();
}else{if(this.shouldGoToFB(a)){this.goToFB();
}else{if(this.shouldGoToSkype(a)){this.goToSkype();
}else{this.goToDefaultScreen();
}}}}}}}},goToDefaultScreen:function(){API.setLastKnownLogin("");
this.setController("StartPage");
},goToAuthSuccess:function(){Login.partner.setCurrent(this.hashParams.state);
Login.partner.storeAuth(this.hashParams);
API.log("Handling successful redirect from partner "+this.hashParams.state);
this.setController("AuthSuccess");
},goToRegistrationSuccess:function(){Login.partner.setCurrent("999");
Login.partner.storeAuth(this.hashParams);
API.log("Handling successful redirect from registration canvas: "+this.hashParams.state);
this.setController("RegistrationSuccess");
},goToFB:function(){window.setTimeout($.proxy(function(){this.loading(true);
API.redirectUrl("https://www.facebook.com/connect/login_success.html",this.getLoginUrl());
this.redirectUrl($("#navigateToFBLogin").attr("href"));
},this),10);
},goToMSA:function(){API.redirectUrl("",this.getLoginUrl());
this.loading(true);
Login.partner.partnerLogout($.proxy(this.MSALogOut,this),999);
},goToRegistration:function(){API.redirectUrl("",this.getLoginUrl());
this.loading(true);
Login.partner.partnerLogout($.proxy(this.registrationLogOut,this),999);
},goToSkype:function(){this.setController("Login");
},loading:function(a,d){var b=(a===false)?a:true,c=d||"loading";
if(b){$("#loadingView").show();
if(c==="signIn"){$("#loadingView .signInText").show();
$("#loadingView .screenReaderSignInText").show().focus();
}}else{$("#loadingView").hide();
$("#loadingView .signInText").hide();
$("#loadingView .screenReaderSignInText").hide();
}},isFirstLoad:function(){return window.history.length<3&&router.previousControllers.length<2;
},shouldGoToMSA:function(a){return(this.getLastKnownLogin==="MSA"&&(this.isFirstLoad()&&(!a||a===0||a===1)))||(typeof this.params!=="undefined"&&parseInt(this.params.partner,10)===999&&!this.params.error&&(a<=1||a===27));
},shouldGoToFB:function(a){return this.getLastKnownLogin==="FB"&&(this.isFirstLoad()&&(!a||a===0));
},shouldGoToSkype:function(a){return this.getLastKnownLogin==="SKYPE"&&(this.isFirstLoad()&&(!a||a===0||a===1));
},shouldGoToAuthSuccess:function(){return typeof this.hashParams!=="undefined"&&typeof this.hashParams.state!=="undefined"&&typeof this.hashParams.access_token!=="undefined";
},shouldGoToRegistrationSuccess:function(){return typeof this.hashParams!=="undefined"&&typeof this.hashParams.state!=="undefined"&&typeof this.hashParams.access_token!=="undefined"&&this.hashParams.state.indexOf("999::")>-1;
},shouldHandleMSAAccessTokenRenewal:function(a){return(this.getLastKnownLogin==="MSA"&&(a===26||a===27));
},previousControllers:[],addToPreviousControllers:function(a,b){this.previousControllers[this.previousControllers.length]={name:a,params:b};
},goToPreviousController:function(){this.previousControllers.pop();
if(this.previousControllers.length>0){var a=this.previousControllers.pop();
this.setController(a.name,a.params);
}},setController:function(e,g,b){var d=b||$("body"),a=d.data("controllerActive"),c=this.previousControllers,f=c.length;
if(f>0&&c[f-1].name===e){return;
}API.log("Setting controller "+e);
if(a&&a.unbind){a.unbind();
}this.addToPreviousControllers(e,g);
d.data("controllerActive",new SKYPE.login.controller[e](g));
},redirectUrl:function(a){window.location.href=a;
},MSALogOut:function(){API.redirectUrl("https://login."+Config.liveidHost+"/oauth20_desktop.srf",this.getLoginUrl());
this.redirectUrl($("#navigateToMSALogin").attr("href"));
},registrationLogOut:function(){API.redirectUrl("https://login."+Config.liveidHost+"/oauth20_desktop.srf",this.getLoginUrl());
this.redirectUrl($("#defaultCreateAccount").attr("href"));
},hasHandledLogoutError:function(b){var d,a,c=this.reasonControllerMap;
if(this.params.error&&this.params.error==="network_error"){b="ne";
}for(d in c){if(c.hasOwnProperty(d)&&$.inArray(b,c[d])>=0){a=d;
}}if(!a){return false;
}if(a==="Contextual"){a=(this.getLastKnownLogin==="SKYPE")?"Login":"StartPage";
}this.setController(a,{isErrorRedirect:true});
Login.message.error(b,Login.partner.getCurrent());
return true;
},reasonControllerMap:{Contextual:[2,3,4,5,6,7,16,17,18,19,20,21,25,26,28,29,"ne"],StartPage:[9,11,12,22,23,24,27],Login:[8,13,14,15]}};
}());
SKYPE.namespace("login");
SKYPE.login.Platform=function(){var a;
switch(API.getPlatformId()){case 2:a="unix";
break;
case 3:a="mac";
break;
default:a="win";
}$("<link />").attr("rel","stylesheet").attr("type","text/css").appendTo("head").attr("href","css/platform/"+a+".css");
if(a=="mac"){$("#capsLockSkype").remove();
}else{if(a=="win"){if(typeof document.msCapsLockWarningOff==="boolean"){document.msCapsLockWarningOff=true;
}}}};
SKYPE.namespace("login");
SKYPE.login.Preloaders=function(){if(window.devicePixelRatio>1){$("#picturePartner").preloader({fallbackSrc:"images/retina/msDefaultPicture@2x.png",timeout:1});
$("#partnerAccountPicture").preloader({fallbackSrc:"images/retina/msDefaultPicture@2x.png",timeout:0});
$("#skypeAccountPicture").preloader({fallbackSrc:"images/retina/skypeicon@2x.png",timeout:0});
}else{$("#picturePartner").preloader({fallbackSrc:"images/msDefaultPicture.png",timeout:1});
$("#partnerAccountPicture").preloader({fallbackSrc:"images/msDefaultPicture.png",timeout:0});
$("#skypeAccountPicture").preloader({timeout:0});
}};
SKYPE.namespace("login");
SKYPE.login.Checkbox=function(){$("#autoLogin").checkbox().checkbox("option","checked",API.getStorePassword()).bind("checkboxchange",function(){var a=$(this).checkbox("option","checked");
API.setStorePassword(a);
Login.tracking.trackAction(a?"startup_optin":"startup_optout");
});
$("#allowSpam").checkbox().checkbox("option","checked",true);
$("#allowSms").checkbox().checkbox("option","checked",false);
};
SKYPE.namespace("login");
SKYPE.login.Suggestions=function(){$("#suggestionsContainer").suggestions({maxitems:2});
$("#suggestionsAccountContainer").suggestions({maxitems:2});
};
SKYPE.namespace("login");
SKYPE.login.Tracking=function(){s_account=Config.trackingAccount;
this.queue=[];
this.currentPageName=null;
this.isCloud=this.isCloudHosted(window.location.hostname);
this.enabled=(SKYPE.login.Tools.loadData("trackingEnabled")==="true");
this.forceTracking=false;
this.attachListeners();
this.sendStoredTrackingData("trackPage");
this.sendStoredTrackingData("trackAction");
};
SKYPE.login.Tracking.prototype={init:function(){this.enabled=EcsConfig.isOmnitureEnabled();
API.log("Init tracking",{enabled:this.enabled});
SKYPE.login.Tools.storeData("trackingEnabled",this.enabled?"true":"false");
},isCloudHosted:function(a){var b=/.*(\.com|\.net)$/;
return b.test(a);
},track:function(a,b){if(!this.enabled&&!this.forceTracking){return;
}this.queue.push([a,b]);
API.log("Tracking enabled, loading remote library",{src:Config.trackingScriptSrc});
$.getScript(Config.trackingScriptSrc,$.proxy(this.onTrackingLibraryLoadHandler,this));
},attachListeners:function(c,a){var d=c||$("a[data-track-page]"),b=a||$("a[data-track-action]");
d.click($.proxy(this.pageLinkClickHandler,this));
b.click($.proxy(this.actionLinkClickHandler,this));
},sendStoredTrackingData:function(a){try{var b=JSON.parse(SKYPE.login.Tools.loadData(a));
if(b&&typeof b==="object"){this.track(a,b);
}}catch(c){}SKYPE.login.Tools.removeData(a);
},trackPage:function(a){var d={},b="client: "+({95:"facebook",999:"microsoftID"}[Login.partner.getCurrent()]||""),c=(b==="client: ")?b:b+"_login";
d.pageName="skypeloginclient/"+a;
d.prop43=d.pageName+"_load";
if(a==="link/create-technical"||a==="link/unprompted-user"){d.eVar69=b+"/"+a.split("/")[1];
}else{if(a==="link/new_suggested-users"){d.eVar69=b+"/new_suggested-user";
}else{if(a==="link/suggested-users"){d.eVar69=b+"/suggested-user";
}else{if(a==="link/sign-in-new"){d.eVar69=b+"/unprompted-user";
}else{if(a==="link/start"){d.eVar73=c;
}else{if(a==="skype_login"){d.prop43=d.pageName;
}else{if(a==="msa/login_microsoft"||a==="msa/login_facebook"){switch(a){case"msa/login_microsoft":d.eVar73="client: microsoftID_login";
break;
case"msa/login_facebook":d.eVar73="client: facebook_login";
break;
default:d.eVar73=c;
}d.prop43=d.pageName;
d.events="event13";
}else{if(a==="msa/signup"||a==="msa/signup_client"){d.prop43=d.pageName;
d.events="event27";
}else{if(a==="msa/login_skype"){d.events="event13";
d.eVar73="client: skype_login";
d.prop43=d.pageName;
}else{if(a==="msa/learn_more_msa"){d.prop43=d.pageName;
}else{if(a.indexOf("reg/")===0){switch(a){case"reg/microsoft_registration":case"reg/microsoft_registration_linking":d.eVar69="client: microsoftID created return";
break;
case"reg/microsoft_login":case"reg/microsoft_login_linking":d.eVar69="client: microsoftID login return";
break;
}d.prop43=d.pageName;
}}}}}}}}}}}if(this.forceTracking||a==="msa/signup_client"){d.eVar30="MSA: "+(EcsConfig.isMsaRegistrationEnabled()?"enabled":"disabled");
}this.currentPageName=a;
if(a==="login"){return;
}this.track("trackPage",d);
},trackAction:function(d,a,c){if(!this.currentPageName){return;
}var b={};
b.prop43="skypeloginclient/"+this.currentPageName+"_"+d;
if(this.currentPageName.indexOf("reg/")===0){if(d==="new"){b.events="event11";
}if(this.currentPageName==="reg/microsoft_login"){b.events=(b.events)?b.events+",event15":"event15";
}b.prop43="skypeloginclient/"+this.currentPageName+"/"+d;
}else{if(this.currentPageName==="link/new_suggested-users"&&d.substr(0,6)!=="choose"){b.prop43="skypeloginclient/link/"+d;
}else{if(d==="skype"||d==="back"||d==="startup_optin"||d==="startup_optout"){b.prop43="skypeloginclient/msa/"+this.currentPageName+"_"+d;
}}}if(a){b.prop9=b.eVar9=a;
b.events="event7";
}if(d==="agree"){b.events="event54";
}if(c==="createTechnical"){b.events+=",event11";
}this.track("trackAction",b);
},trackError:function(c,a,d){var b={};
if(a){b.prop9="skypeloginweb: "+a;
b.eVar9="D=c9";
b.events="event7";
}this.track("trackAction",b);
},linkClickHandler:function(b,a){if(!this.currentPageName){return;
}var c={};
if(b==="trackPage"){c.pageName=c.prop43="skypeloginclient/"+a;
}else{if(a.substr(0,4)==="msa/"){c.prop43="skypeloginclient/"+a;
}else{c.prop43="skypeloginclient/"+this.currentPageName+"_"+a;
c.eVar69="client/link/"+({95:"facebook",999:"microsoftID"}[Login.partner.getCurrent()]||"");
}}SKYPE.login.Tools.storeData(b,$.toJSON(c));
},actionLinkClickHandler:function(b){var a=$(b.currentTarget);
this.linkClickHandler("trackAction",a.data("track-action"));
},pageLinkClickHandler:function(b){var a=$(b.currentTarget);
if(a.attr("target")==="_blank"){this.trackPage(a.data("track-page"));
}else{this.linkClickHandler("trackPage",a.data("track-page"));
}},getVisitorId:function(){var a=SKYPE.login.Tools.loadData("visitorId");
if(!a){a=SKYPE.login.Tools.randomString(20);
SKYPE.login.Tools.storeData("visitorId",a);
}return a;
},setDefaults:function(){s.prop24=s.eVar6=API.getClientVersion();
s.visitorID=this.getVisitorId();
s.ssl=true;
s.channel="skypeloginclient";
s.prop5=s.eVar5=API.getLanguage();
s.prop41=this.isCloud?"server":"local";
s.pageURL="index.html";
s.referrer="index.html";
},enforceTracking:function(){API.log("Enforcing the tracking");
this.forceTracking=true;
},onTrackingLibraryLoadHandler:function(){var a;
if(typeof s_gi==="undefined"||typeof s==="undefined"){return;
}this.setDefaults();
API.log("Remote library loaded, tracking active",{visitorId:s.visitorID});
this.track=this.trackOverride;
for(a=0;
a<this.queue.length;
++a){this.track(this.queue[a][0],this.queue[a][1]);
}},trackOverride:function(a,b){API.log("Tracking...",{type:a,_t:b});
try{s[a](b);
}catch(c){}}};
SKYPE.namespace("login");
var translations={};
SKYPE.login.Translate=function(){$("#confirmTou").data("translation-params",{TOU_START:"<a href='#' id='touLink' tabindex='"+$("#touLink").attr("tabindex")+"'>",TOU_END:"</a>",PRIVACY_START:"<a href='#' id='privacyLink' tabindex='"+$("#privacyLink").attr("tabindex")+"'>",PRIVACY_END:"</a>"});
$("#useExistingLiveidOption").data("translation-params",{LINK_START:"<a href='index.html' id='useExistingLiveid'>",LINK_END:"</a>"});
$("#mergeAnotherLiveidOption").data("translation-params",{LINK_START:"<a href='#' id='mergeAnotherLiveid'>",LINK_END:"</a>"});
$("#createNewAccountLiveidOption").data("translation-params",{LINK_START:"<a href='index.html' id='createNewAccountLiveid'>",LINK_END:"</a>"});
$("#useExistingFacebookOption").data("translation-params",{LINK_START:"<a href='index.html' id='useExistingFacebook'>",LINK_END:"</a>"});
$("#mergeAnotherFacebookOption").data("translation-params",{LINK_START:"<a href='#' id='mergeAnotherFacebook'>",LINK_END:"</a>"});
$("#createNewAccountFacebookOption").data("translation-params",{LINK_START:"<a href='index.html' id='createNewAccountFacebook'>",LINK_END:"</a>"});
var b=function(d){$("html").attr("lang",d);
$("*[data-translation-key]").translate();
$(document).trigger("changelanguage");
};
var c=function(g,f){var e=$("#languageTag");
var d=document.createElement("script");
if(typeof d.onreadystatechange!=="undefined"){d.onreadystatechange=function(){if(this.readyState==="complete"){f();
}};
}else{d.onload=f;
}d.onload=f;
d.src=e.attr("src").replace(/\/\w+\.js/,"/"+g+".js");
document.body.appendChild(d);
};
var a=function(d){d=d.toLowerCase();
if(!translations[d]){c(d,function(){b(d);
});
}else{b(d);
}};
a(API.getLanguage());
if(!$("html").attr("lang")){a("en");
}API.setLanguageChangeListener(a);
};
SKYPE.namespace("login");
SKYPE.login.Loader=function(){this.show=function(a){a=a||false;
$(".antiloader").hide();
if(a){$(".loader").fadeIn();
}else{$(".loader").show();
}};
this.hide=function(){$(".loader").hide();
$(".antiloader").show();
};
};
(function(){SKYPE.namespace("login");
SKYPE.login.Message=function(b){var c=parseInt(API.getPlatformId(),10),a=b||$(".messageBody");
this.platform=(c===3)?"mac":((c===2)?"linux":"win");
a.attr("data-translation-key","");
};
SKYPE.login.Message.prototype={$activeView:null,activeMessage:null,messages:{2:"msgErrorCantConnect",3:"msgErrorCantConnect",4:"msgErrorCantConnect",5:"msgErrorCantConnect",6:"msgErrorCantConnect",7:"msgErrorCantOpenSkype",8:"msgErrorInvalidUsernamePass",9:"InvalidEmail",11:"HandleTaken",12:"RejectedAsUnderage",13:"msgErrorInvalidUsernamePass",14:"msgErrorInvalidUsernamePass",15:"msgErrorTooManyAttempts",16:"msgErrorSignInAgain",17:"msgErrorForcedSignOut",18:"msgErrorDiskFull",19:"msgErrorDiskIO",20:"msgErrorDB",21:"msgErrorDB",22:"msgErrorAppId",23:"msgErrorAppId",24:"msgErrorUnsupportedVersion",25:"msgErrorAtoBlock",26:"msgErrorRemoteLogout",27:"msgErrorSignInAgain",28:"msgErrorSystemUnavailable",29:"msgErrorDBAccessDenied",f1:"msgErrorFacebookConnect",c3:"msgErrorGeneric",ne:"msgErrorNoConnection",ua999:"msgErrorRejectedAsUnderageMS",ua95:"msgErrorRejectedAsUnderageFB"},getParams:function(b){var a=SKYPE.login.UrlBuilder,c=function(d){return"<a href='"+d+"' target='_blank'>";
};
switch(b){case 19:return{LINK_START:(this.platform==="win")?c(a.buildGoUrl("help.faq.windiskioerror",{intsrc:"client-_-%PLATFORM_NAME%-_-%UI_VERSION%-_-go-help.faq.windiskioerror"})):c(a.buildGoUrl("help.faq.macdiskioerror",{intsrc:"client-_-%PLATFORM_NAME%-_-%UI_VERSION%-_-go-help.faq.macdiskioerror"})),LINK_END:"</a>"};
case 24:return{LINK_START:c(a.buildGoUrl("download",{intsrc:"client-_-%PLATFORM_NAME%-_-%UI_VERSION%-_-go-download"})),LINK_END:"</a>"};
case 25:return{LINK_START:c(a.buildGoUrl("help.faq.account.suspended",{intsrc:"client-_-%PLATFORM_NAME%-_-%UI_VERSION%-_-go-help.faq.account.suspended"})),LINK_END:"</a>"};
default:return null;
}},warning:function(a,b){this.showMessage(a,b,"warning");
},error:function(a,b){this.showMessage(a,b,"error");
},hide:function(e,d,a){var f=a||$(".view"),c=e||$(".message"),b=d||$(".messagePlaceholder");
$(document).unbind("changelanguage",$.proxy(this.messageResizer,this));
f.removeClass("view_error");
f.removeClass("view_warning");
c.hide();
b.show();
},showMessage:function(b,f,a,e,d,i){this.hide();
this.$activeView=$(".view.active");
this.activeMessage=this.$activeView.find(".message");
var h=this.messages[b]||b,j=e||this.activeMessage.find(".messageBody"),c=d||this.activeMessage.find(".messageIcon"),g=i||$(".messagePlaceholder");
Login.tracking.trackError(a,b+": "+this.messages[b],f);
if(parseInt(b,10)===19&&this.platform==="linux"){h+="Linux";
}API.log("Display message, code: "+b+", key: "+h+", level: "+a);
j.empty();
j.data("translation-key",h).data("translation-params",this.getParams(b)).translate();
c.removeClass("error, warning").addClass(a);
this.$activeView.addClass("view_"+a);
this.messageResizer();
$(document).bind("changelanguage",$.proxy(this.messageResizer,this));
g.hide();
this.activeMessage.show();
},messageResizer:function(){if(this.activeMessage&&typeof this.activeMessage.height==="function"){this.activeMessage.removeClass("messageFullWidth");
this.$activeView.removeClass("messageFullHeight");
var b=60,a=40,c=this.activeMessage.height();
if(c>b){this.activeMessage.addClass("messageFullWidth");
}if(c>a){this.$activeView.addClass("messageFullHeight");
}}}};
})();
SKYPE.namespace("login");
SKYPE.login.UrlBuilder={$html:$("html"),buildUrl:function(c){var a=c.protocol+"://"+c.host+"/"+c.path,b=$("#username").val();
if(c.partner==="msa"){c.params.locale=SKYPE.login.Tools.skypeLocaleToMicrosoftLocale($("html").attr("lang"));
if(b.indexOf("@")!==-1){c.params.username=b;
}}a+="?"+$.param(c.params);
return a;
},buildGoUrl:function(d,c){c=c||{};
var a=Config.goLinkBaseUrl+"/"+d,b=this;
$.each(c,function(e,f){c[e]=b.replacePlaceholders(f);
});
c.setlang=this.$html.attr("lang");
a+="?"+$.param(c);
return a;
},replacePlaceholders:function(a){var b=API.getPlatformId();
return a.replace(/%CLIENT_VERSION%/g,API.getClientVersion()).replace(/%UI_VERSION%/g,API.getVersion()).replace(/%PLATFORM_NAME%/g,(b===3)?"mac":(b===2)?"linux":"windows");
}};
SKYPE.namespace("login");
SKYPE.login.Urls=function(){var a,b;
a=[{partner:"msa",element:"#navigateToMSALogin, #liveLoginEmailMessage",protocol:"https",host:"login."+Config.liveidHost,path:"oauth20_authorize.srf",params:{client_id:Config.liveidClientId,scope:Config.liveidScope,response_type:"token",redirect_uri:"https://login."+Config.liveidHost+"/oauth20_desktop.srf",state:"999"}}];
b=function(){var d;
var c=SKYPE.login.UrlBuilder;
$("#navigateToFBLogin, #facebookLoginEmailMessage").attr("href",c.buildGoUrl("facebook.login.desktop",{response_type:"token",intsrc:"client|fb-a|%CLIENT_VERSION%"}));
$("#problemsSigningIn, #problemsSigningInSkype").attr("href",c.buildGoUrl("forgotpassword",{intsrc:"client|forgot-pword"})).attr("target","_blank");
if(EcsConfig.isMsaRegistrationEnabled()){$("#defaultCreateAccount").attr("href",c.buildGoUrl("registration",{response_type:"token",intsrc:"client|reg-a|%CLIENT_VERSION%"})).removeAttr("target").addClass("inClientRegistration");
}else{$("#defaultCreateAccount").attr("href",c.buildGoUrl("registration",{intsrc:"client|reg-a|%CLIENT_VERSION%"})).attr("target","_blank").removeClass("inClientRegistration");
}$("#touLink").attr("href",c.buildGoUrl("tou",{intsrc:"client|tou"})).attr("target","_blank");
$("#privacyLink").attr("href",c.buildGoUrl("legal.privacy",{intsrc:"client|privacy"})).attr("target","_blank");
$("#liveidCSLink").attr("href",c.buildGoUrl("linking_conflict",{intsrc:"client|support-liveid"})).attr("target","_blank");
$("#facebookCSLink").attr("href",c.buildGoUrl("linking_conflict",{intsrc:"client|support-facebook"})).attr("target","_blank");
$("#navigateToLearnMoreMSA").attr("href",c.buildGoUrl("help.faq.whatisamsa",{intsrc:"client-_-%PLATFORM_NAME%-_-%UI_VERSION%-_-login_msa_learn_more"})).attr("target","_blank");
for(d=0;
d<a.length;
++d){$(a[d].element).attr("href",c.buildUrl(a[d]));
}};
$("#liveLoginEmailMessage").on("click",b);
$(document).bind("changelanguage",b);
$(document).bind("ecsload",b);
b();
(function(){var c={};
$(document).keydown(function(d){c[d.which]=true;
if(c[16]&&c[17]){window.EcsConfig.forceMsaRegistrationState(true);
b();
}});
$(document).keyup(function(d){delete c[d.which];
});
})();
};
SKYPE.namespace("login");
SKYPE.login.Partner=function(){var c=null;
var b={};
var a={};
this.getApiUrl=function(d){d=d||this.partnerId;
switch(d){case 999:return Config.skypeApiUrl+"/rps";
case 95:return"https://graph.facebook.com/v2.2";
}return"";
};
this.getProfileImage=function(d,e){e=e||this.partnerId;
d=d||this.profile.id;
switch(e){case 999:return"https://cid-"+d+".users.storage."+Config.liveidHost+"/users/0x"+d+"/myprofile/expressionprofile/profilephoto:UserTileStatic/picture?ck=1&ex=24";
case 95:return this.getApiUrl(e)+"/"+d+"/picture";
}return"images/skypeicon.png";
};
this.setCurrent=function(d){API.log("Setting partner to "+d);
this.partnerId=Number(d);
};
this.getCurrent=function(){return this.partnerId;
};
this.storeAuth=function(d){this.auth=d;
};
this.getAuth=function(){return this.auth;
};
this.storeProfile=function(d){this.profile=d;
};
this.getProfile=function(){return this.profile;
};
this.getUserName=function(){var d=this.profile.name||this.profile.email||"";
d=SKYPE.login.Tools.escape(d);
d=$.trim(d);
return d;
};
this.clearAll=function(){this.partnerId=null;
this.profile={};
this.auth={};
$("body").removeData("selectedAccount");
$("body").removeData("suggestionsAll");
$("#usernameSkype").removeData("usernameSigned");
};
this.partnerLogout=function(j,i){i=i||this.partnerId;
timeout=null;
switch(i){case 999:API.log("Calling logout url for partner "+i);
var f="https://login."+Config.liveidHost+"/oauth20_logout.srf?client_id="+Config.liveidClientId+"&redirect_uri=https%3A%2F%2Flogin."+Config.liveidHost+"%2Foauth20_desktop.srf";
try{var h=new Image();
var d=function(){clearTimeout(timeout);
h.onerror=null;
h.onload=null;
if(typeof j==="function"){j();
}};
h.onload=d;
h.onerror=d;
timeout=setTimeout(d,30000);
h.src=f;
}catch(g){API.log("Unable to logout using an image",g);
if(typeof j==="function"){j();
}}}};
};
SKYPE.login.Partner.prototype={isFacebookLoginEnabled:function(){if(API.getCobrand()=="32"){return false;
}return $.inArray("95.v2",API.getDisabledAuthPartners())<0;
},isLiveidMandatory:function(){return false;
}};
SKYPE.namespace("login");
SKYPE.login.Username=function(){var d,c,b;
var g=false;
var j=function(k){if(k!==undefined){b.toggle(k);
}else{b.toggle(g===true);
}};
var a=function(){if(d.val().indexOf("@")!==-1){g=true;
}else{g=false;
}};
var f=function(){return g;
};
var e=function(k){g=k;
};
var h=function(){d=$("#username");
c=$("#usernameSkype");
b=$("#isEmailMessage");
};
var i=function(){h();
var k=function(){var l=$("#passwordSkype");
l.val("");
l.trigger("change");
};
c.change(k);
d.combobox({enter:function(){$("#form").submit();
}});
c.combobox({enter:function(){$("#formSkype").submit();
}});
d.on("keyup",a).focus(a);
d.on("keypress",function(){j();
}).on("keyup",function(){j();
}).on("focus",function(){j();
});
$("#defaultView, #password").on("focus",function(){j(false);
});
};
return{toggleIsEmail:j,getIsEmail:f,setIsEmail:e,init:i};
};
SKYPE.namespace("login");
SKYPE.login.Password=function(){var c;
var b=97,a=65,e=122,d=90;
return{getCapsLock:function(){return c;
},setCapsLock:function(f){c=f;
},checkCapsLock:function(f){if((f.keyCode>=b&&f.keyCode<=e&&f.shiftKey)||(f.keyCode>=a&&f.keyCode<=d&&!f.shiftKey)){c=true;
}else{if((f.keyCode>=b&&f.keyCode<=e&&!f.shiftKey)||(f.keyCode>=a&&f.keyCode<=d&&f.shiftKey)){c=false;
}}},handleCapsLock:function(f){if(f.keyCode===20&&c===true){c=false;
$(".caps").hide();
}else{if(f.keyCode===20&&c===false){c=true;
}}},toggleCaps:function(f){$(f).parents("form").find(".caps").toggle(c===true);
},init:function(){var f=this;
$("input[type='password'], input[type='text']").keypress(f.checkCapsLock).keyup(f.handleCapsLock);
$("input[type='password']").keypress(function(h){var g=$(this).parents("form");
if(h.keyCode==13){g.trigger("submit");
return false;
}g.find(".caps").toggle(c===true);
}).keyup(function(){f.toggleCaps(this);
}).focus(function(){f.toggleCaps(this);
}).blur(function(){$(this).parents("form").find(".caps").hide();
}).inputfield({type:"password"});
}};
};
SKYPE.namespace("login");
SKYPE.login.SignIn=function(){$("#signIn").on("click",function(){$("#form").trigger("submit");
});
$("#signInSkype").button().on("buttonclick",function(){$("#formSkype").trigger("submit");
});
};
SKYPE.namespace("login");
SKYPE.login.TextDirection=function(){var b=function(){var c=$("html").attr("dir")=="rtl";
var d=$.inArray($("html").attr("lang"),["ar","he"])>-1;
if(d&&!c){$("html").attr("dir","rtl");
$("body").addClass("rtl");
a();
}else{if(!d&&c){$("html").attr("dir","ltr");
$("body").removeClass("rtl");
a();
}}};
var a=function(){$(".view *").not(".noflip, .noflip *").each(function(){var c=$(this);
if(c.css("left")!="auto"){c.css("right",c.css("left"));
c.css("left","auto");
}else{if(c.css("right")!="auto"){c.css("left",c.css("right"));
c.css("right","auto");
}}});
};
$(document).on("changelanguage",b);
};
SKYPE.namespace("login");
SKYPE.login.View=function(){var a=[],b="";
this.set=function(c){$(".view").removeClass("active");
var e=$("#"+c);
var d=Login.partner.getCurrent();
if(e&&d){if(d==999){e.find(".facebookOnly").hide();
e.find(".liveidOnly").show();
}else{if(d==95){e.find(".facebookOnly").show();
e.find(".liveidOnly").hide();
}else{e.find(".facebookOnly").hide();
e.find(".liveidOnly").hide();
}}}if(e){e.addClass("active");
}a.push(c);
b=c;
};
this.getCurrent=function(){return b;
};
this.getPrevious=function(){var c="";
if(a.length>1){c=a[a.length-2];
}return c;
};
};
SKYPE.namespace("login.controller");
SKYPE.login.controller.AuthSuccess=function(){Login.setView("loadingView");
var c=Login.partner.getAuth();
var a=function(){var f=Login.partner.getCurrent();
Login.partner.clearAll();
router.setController("Login");
Login.message.error("c3",f);
};
var e=function(h,f,g){API.log("Request failed",{status:f,error:g});
if(f=="timeout"){this.numOfTries++;
if(this.numOfTries<=this.retryLimit){API.log("Trying to resend timeouted request");
$.ajax(this);
return;
}}a();
};
var b=function(){router.loading(true);
var f=(Login.partner.getCurrent()==999)?"jsoncallback":"callback";
$.ajax(Login.partner.getApiUrl()+"/me",{dataType:"jsonp",timeout:7000,numOfTries:1,jsonp:f,retryLimit:2,data:{access_token:c.access_token},success:function(g){if(!g||typeof(g)!="object"||(!g.id&&!g.cid)){API.log("Failed to get partner profile",{response:g});
a();
return;
}if(Login.partner.getCurrent()==999){g.id=g.id||g.cid;
g.name=g.name||$.trim(g.firstName+" "+g.lastName);
}API.log("Partner profile",{id:g.id});
Login.partner.storeProfile(g);
d();
},error:e});
};
var d=function(){$.ajax(Config.skypeApiUrl+"/partners/"+Login.partner.getCurrent()+"/usermap",{dataType:"jsonp",jsonp:"jsoncallback",timeout:7000,numOfTries:1,retryLimit:2,data:{access_token:c.access_token,_accept:"1.0"},success:function(f){var h;
try{h=f.status.code;
}catch(i){}if(h){API.log("Failed to get mapped Skype account",{response:f});
a();
return;
}router.loading(false);
if(f.username!==null){API.log("Partner user is mapped to skypename: "+f.username);
router.setController("OAuthLogin");
}else{var g=Login.partner.getProfileImage();
$("#picturePartner").preloader("loadImage",g);
router.setController("NoMapping");
}},error:e});
};
b();
};
SKYPE.login.controller.AuthSuccess.prototype={unbind:function(){router.loading(false);
}};
SKYPE.namespace("login.controller");
SKYPE.login.controller.NoMapping=function(d){Login.tracking.trackPage("link/start");
var b=Login.partner.getAuth(),c=Login.partner.getProfile();
Login.setView("partnerView");
$("#partnerView h2:first").focus();
var e=Login.partner.getUserName();
$("#wrongAccountText").data("translation-params",{ACCOUNTID:e}).translate();
if(Login.partner.getCurrent()==95){$("#signInWithSkype").data("translation-key","signInWithFacebook").translate();
$("#wrongAccountText").data("translation-key","wrongAccountTextFacebook").translate();
$("#greetingMessage").data("translation-key","greetingMessageFacebook").translate();
}var a=function(g,i){var f=$("body").data("suggestionsAll");
if($.isArray(f)&&f.length>0){router.setController(g);
return;
}var h=function(l,j,k){API.log("Request failed",{status:j,error:k});
if(j=="timeout"){this.numOfTries++;
if(this.numOfTries<=this.retryLimit){API.log("Trying to resend timeouted request");
$.ajax(this);
return;
}}$("body").removeData("suggestionsAll");
router.setController("SkypeLogin");
};
$("body").addClass("working");
$("#partnerView").addClass("working");
$.ajax(Config.skypeApiUrl+"/search/me",{dataType:"jsonp",jsonp:"jsoncallback",timeout:10000,numOfTries:1,retryLimit:2,data:{partner:Login.partner.getCurrent(),access_token:b.access_token,_accept:"1.0"},success:function(j){if(!$.isArray(j)){API.log("Failed to get suggested accounts",{response:j});
}else{if(j.length>0){API.log("Suggested accounts: ",j);
$("body").data("suggestionsAll",j);
router.setController(g);
return;
}}$("body").removeData("suggestionsAll");
router.setController(i);
},error:h});
};
$("#linkAccounts").on("buttonclick",function(){$("#linkAccounts").button("option","disabled",true);
$("#getStarted").button("option","disabled",true);
Login.tracking.trackAction("have-account");
a("SuggestMapping","SkypeLogin");
return false;
});
$("#getStarted").on("buttonclick",function(){Login.tracking.trackAction("get-started");
a("SuggestAccount","CreateTechnical");
return false;
});
};
SKYPE.login.controller.NoMapping.prototype={unbind:function(){$("#linkAccounts").off("buttonclick").button("option","disabled",false);
$("#getStarted").off("buttonclick").button("option","disabled",false);
$("body").removeClass("working");
$("#partnerView").removeClass("working");
}};
SKYPE.namespace("login.controller");
SKYPE.login.controller.OAuthLogin=function(d){Login.setView("loadingView");
var b=Login.partner.getAuth();
var c=Login.partner.getCurrent();
var a=Login.partner.getProfile();
API.log("Trying to log in to client using oAuth");
API.setLoginStatusListener(function(f){if(f!=1){router.loading(false);
API.log("Login status changed to "+f);
}if(f==0){var e=API.getLogoutReason();
if(e>1){API.log("Login to client using OAuth failed. Error code "+e);
if(Login.partner.getCurrent()==95){API.store("SkypeHome_FB-Mapping",undefined);
}Login.partner.clearAll();
router.setController("StartPage");
Login.message.error(e,c);
}}});
if(c==95){API.store("SkypeHome_FB-Mapping",{oauthToken:b.access_token,partnerUid:a.id,dbSynced:1});
API.store("SkypeHome_facebookConnectOptOut",undefined);
API.store("SkypeHome_facebookConnectSplashDisplayCount",undefined);
API.store("_SkypeHome_data_encrypted","false");
}router.loading(true,"signIn");
API.loginWithOAuth(c,b.access_token,b.refresh_token);
};
SKYPE.login.controller.OAuthLogin.prototype={unbind:function(){API.setLoginStatusListener();
router.loading(false);
Login.message.hide();
}};
SKYPE.namespace("login.controller");
SKYPE.login.controller.SuggestMapping=function(){Login.tracking.trackPage("link/suggested-users");
Login.setView("suggestView");
$("#suggestView h2:first").focus();
var a=$("body").data("suggestionsAll");
if(Login.partner.getCurrent()==95){$("#onlyOneAccount").data("translation-key","onlyOneAccountFacebook").translate();
}(function(){var b=function(c,d){router.setController("NoMapping");
return false;
};
$("#backLinkSuggest").on("click",b);
})();
(function(){if($("#suggestionsContainer").suggestions("isEmpty")){var b=function(c,d){API.log("User selected: ",{username:d.username});
Login.tracking.trackAction("choose-"+d.index);
$("body").data("selectedAccount",d);
router.setController("SkypeLogin");
};
$("#suggestionsContainer").on("suggestionspick",b).suggestions("setItems",a,2);
}})();
$("#differentAccount").on("buttonclick",function(){$("body").removeData("selectedAccount");
router.setController("SkypeLogin");
});
};
SKYPE.login.controller.SuggestMapping.prototype={unbind:function(){$("#differentAccount").off("buttonclick");
$("#backLinkSuggest").off("click");
}};
SKYPE.namespace("login.controller");
SKYPE.login.controller.SuggestAccount=function(){Login.tracking.trackPage("link/new_suggested-users");
Login.setView("suggestAccountView");
$("#suggestAccountView h2:first").focus();
var a=$("body").data("suggestionsAll");
if(Login.partner.getCurrent()==95){$("#onlyOneSuggestAccount").data("translation-key","onlyOneAccountFacebook").translate();
}(function(){var b=function(c,d){Login.tracking.trackAction("new_back");
router.setController("NoMapping");
return false;
};
$("#backLinkSuggestAccount").on("click",b);
})();
(function(){if($("#suggestionsAccountContainer").suggestions("isEmpty")){var b=function(c,d){API.log("User selected: ",{username:d.username});
Login.tracking.trackAction("choose-"+d.index);
$("body").data("selectedAccount",d);
router.setController("SkypeLogin");
};
$("#suggestionsAccountContainer").on("suggestionspick",b).suggestions("setItems",a,2);
}})();
$("#nothanks").on("buttonclick",function(){$("body").removeData("selectedAccount");
Login.tracking.trackAction("new_create_new");
router.setController("CreateTechnical");
});
};
SKYPE.login.controller.SuggestAccount.prototype={unbind:function(){$("#nothanks").off("buttonclick");
$("#backLinkSuggestAccount").off("click");
}};
(function(){SKYPE.namespace("login.controller");
SKYPE.login.controller.Login=function(a){this.credentialsSaved=false;
Login.setView("skypeLoginView");
this.usernameInit();
this.passwordInit();
this.enableForms();
$("input[placeholder]").placeholder();
this.toggleFacebookLogin();
this.onUsernameChange();
this.onInputChange();
this.addListener($("#form"),"submit",this.submitHandler);
this.addListener($(".backButton"),"click",this.backButtonClick);
this.addListener($("a#liveLoginEmailMessage"),"click",this.navigateToMSALogin);
this.addListener($("a#facebookLoginEmailMessage"),"click",this.navigateToFBLogin);
if(a&&a.isErrorRedirect){this.handleLogoutReason();
}API.setLoginStatusListener(!this.isLinuxClient()?$.proxy(this.statusHandler,this):this.linuxProxyFix);
Login.tracking.trackPage("skype_login");
this.formFocus();
};
SKYPE.login.controller.Login.prototype={addListener:function(a,b,c){a.on(b,$.proxy(c,this));
},removeListener:function(a,b){a.off(b);
},unbind:function(l,m,j,f,e,b,k){var a=l||$("#username"),g=m||$("#password"),n=j||$("#form"),i=f||$("#skypeLoginView"),h=e||$(".backButton"),d=b||$("a#liveLoginEmailMessage"),c=k||$("a#facebookLoginEmailMessage");
API.setLoginStatusListener();
this.removeListener(a,"change focus blur");
this.removeListener(g,"change focus blur");
this.removeListener(n,"submit");
this.removeListener(h,"click");
this.removeListener(d,"click");
this.removeListener(c,"click");
$("input[placeholder]").each(function(){var o=$(this).data("placeholderElement");
if(o){$("#"+o).off("click");
$("#"+o).remove();
}});
i.removeClass("working");
this.enableForms();
Login.message.hide();
Login.username.toggleIsEmail(false);
},formFocus:function(){var a=$("#username");
if(a.val()){$("#password").focus();
}else{a.focus();
}},handleLogoutReason:function(){var a=API.getLogoutReason(),b=$("#password");
if(router.hasHandledLogoutError(a)){if(a===14||!$.trim(b.val())){b.val("");
b.trigger("change");
}}},toggleForm:function(d,g,a,e){var f=g||$("#username"),b=a||$("#password"),c=e||$("#autoLogin");
f.combobox("option","disabled",d);
b.inputfield(d?"disable":"enable");
c.checkbox("option","disabled",d);
this.toggleSignIn(d);
},enableForms:function(){this.toggleForm(false);
},disableForms:function(){this.toggleForm(true);
},onUsernameChange:function(c,b){var a=b||$("#password");
if(API.hasSavedCredentials($("#username").val())){a.val("                ");
this.credentialsSaved=true;
}else{a.val("");
this.credentialsSaved=false;
}a.trigger("change");
},onInputChange:function(){if($("#password").is(":focus")){this.credentialsSaved=false;
}this.toggleSignIn(!this.validate());
},validate:function(){var b=true,a=$.trim($("#password").val()),c=$("#username").val();
if((!c||!a)&&!this.credentialsSaved){b=false;
}return b;
},toggleSignIn:function(c,a){var b=a||$("#signIn"),d="signInDisabled";
if(c){b.addClass(d);
this.toggleTabIndex(b,true);
}else{b.removeClass(d);
this.toggleTabIndex(b,false);
}},toggleTabIndex:function(a,b){if(b){a.attr("aria-disabled","true").attr("tabindex",function(c,d){return Math.abs(d)*-1;
});
$("#tempHack").remove();
}else{a.removeAttr("aria-disabled").attr("tabindex",function(c,d){return Math.abs(d);
});
$("body").append('<p id="tempHack"></p>');
}},usernameInit:function(b){var a=b||$("#username");
a.combobox("setItems",API.getUsernames()).val(API.getDefaultUsername()).prop("readonly",false);
this.addListener(a,"change",this.onUsernameChange);
this.addListener(a,"change",this.onInputChange);
this.addListener(a,"focus",this.usernameFocusHandler);
this.addListener(a,"blur",this.usernameBlurHandler);
},passwordInit:function(){var a=$("#password");
this.addListener(a,"change",this.onInputChange);
this.addListener(a,"focus",this.passwordFocusHandler);
this.addListener(a,"blur",this.passwordBlurHandler);
},usernameFocusHandler:function(){this.focusHandler($("#username"));
},passwordFocusHandler:function(){this.focusHandler($("#password"));
},usernameBlurHandler:function(){this.blurHandler($("#username"));
},passwordBlurHandler:function(){this.blurHandler($("#password"));
},focusHandler:function(a){a.parent().addClass("focused");
},blurHandler:function(a){a.parent().removeClass("focused");
},linuxProxyFix:function(){var a=$("body").data("controllerActive");
if(a&&typeof a.statusHandler!=="undefined"){a.statusHandler.apply(a,arguments);
}},statusHandler:function(a){a=parseInt(a,10);
if(a===1){return;
}$("#skypeLoginView").removeClass("working");
router.loading(false);
this.enableForms();
if(a===0){this.handleLogoutReason();
this.formFocus();
}},submitHandler:function(){this.login();
return false;
},login:function(){if(API.getLoginStatus()===1){return;
}$("#skypeLoginView").addClass("working");
if(!this.validate()){return;
}this.disableForms();
router.loading(true,"signIn");
API.login($.trim($("#username").val()),$("#password").val());
},isFacebookLoginPartner:function(){if(!Login.partner.isFacebookLoginEnabled()){return false;
}var a=true;
switch(API.getCobrand()){case"1":case"4":case"11":case"56":case"63":case"65":case"74":case"75":case"99":a=false;
break;
}return a;
},isLinuxClient:function(){return parseInt(API.getPlatformId(),10)===2;
},toggleFacebookLogin:function(){var a=$(".navigateToFBLogin");
a.removeClass("partnerBuild");
if(this.isLinuxClient()){a.addClass("partnerBuild");
}if(!this.isFacebookLoginPartner()){a.addClass("partnerBuild");
}},backButtonClick:function(a){a.preventDefault();
Login.tracking.trackAction("back");
router.goToDefaultScreen();
},navigateToMSALogin:function(a){a.preventDefault();
Login.tracking.trackPage("msa/login_microsoft");
router.goToMSA();
},navigateToFBLogin:function(a){a.preventDefault();
if(this.isFacebookLoginPartner()){Login.tracking.trackPage("msa/login_facebook");
router.goToFB();
}}};
})();
SKYPE.namespace("login.controller");
SKYPE.login.controller.SkypeLogin=function(e){var d=false;
Login.tracking.trackPage("link/unprompted-user");
Login.setView("loginView");
$("#usernameSkype").removeData("usernameSigned");
$("#usernameSkype").combobox("setItems",API.getUsernames()).prop("readonly",false);
(function(){var f=function(g,h){if(d){return false;
}router.goToPreviousController();
return false;
};
$("#backLinkLogin").on("click",f);
})();
var c=$("body").data("selectedAccount")||null;
(function(){var f=function(h){var g=$("#suggestedAccount");
if(h===null){Login.tracking.trackPage("link/sign-in-new");
$("#problemsSigningInSkype").on("click",function(){Login.tracking.trackAction("problem-signing-in");
});
g.empty();
g.hide();
$("#usernameSkype").val("");
$("#usernameSkype").trigger("change");
$("#usernameWrap").show();
return;
}else{Login.tracking.trackPage("link/sign-in-suggested");
$("#problemsSigningInSkype").on("click",function(){Login.tracking.trackAction("problem-signing-in");
});
$("#yourDetails").data("translation-key","yourDetailsPassword").translate();
$("#usernameWrap").hide();
$("#usernameSkype").val(h.username);
$("#usernameSkype").trigger("change");
g.suggestions({selectable:false});
g.suggestions("setItems",[h],3);
g.show();
}};
f(c);
})();
(function(){var f=function(){$("#signInSkype").button("option","disabled",!$("#usernameSkype").val()||!$("#passwordSkype").val());
};
$("#usernameSkype, #passwordSkype").change(f);
f();
})();
var b=function(){if(d){return;
}var h=$("#usernameSkype").val().toLowerCase();
h=$.trim(h);
if(!h){return;
}var f=$("#passwordSkype").val();
if(!f){return;
}d=true;
router.loading(true);
Login.message.hide();
Login.disableForms();
var g=function(l,i,j){API.log("Request failed",{status:i,error:j});
if(i=="timeout"){this.numOfTries++;
if(this.numOfTries<=this.retryLimit){API.log("Trying to resend timeouted request");
$.ajax(this);
return;
}}d=false;
router.loading(false);
Login.enableForms();
var k=Login.partner.getCurrent();
Login.message.error(6,k);
};
$.ajax(Config.skypeApiUrl+"/login/session",{dataType:"jsonp",jsonp:"jsoncallback",timeout:7000,numOfTries:1,retryLimit:2,data:{username:h,password:f,_method:"POST",_accept:"1.0"},success:function(l){d=false;
if(!l||typeof(l)!="object"||!l.id){API.log("Unexpected response or login failed",{response:l});
var j;
try{j=l.status.code;
}catch(k){}var i=6;
switch(j){case 40003:case 40004:case 40006:case 40007:case 40411:i=14;
break;
case 40412:i=15;
break;
}API.log("Error signing in with Skype credentials. Code "+i);
Login.tracking.trackAction("password-error","sign-in link: password error");
router.loading(false);
Login.enableForms();
var m=Login.partner.getCurrent();
if(i==14){$("#passwordSkype").val("");
$("#passwordSkype").trigger("change");
}$("#passwordSkype").focus();
Login.message.error(i,m);
return;
}API.log("User successfully logged into the web",{username:h});
$("#usernameSkype").data("usernameSigned",h);
API.setSessionListener(function(){API.setSessionListener();
router.setController("ConnectAccounts");
});
API.saveSessionCookie(l.id,l.token);
},error:g});
};
var a=function(){if($("#usernameSkype").val()){$("#passwordSkype").focus();
}else{$("#usernameSkype").focus();
}};
$("#formSkype").on("submit",function(){b();
return false;
});
a();
};
SKYPE.login.controller.SkypeLogin.prototype={unbind:function(){$("#formSkype").off("submit");
$("#loginView").removeClass("working");
Login.enableForms();
router.loading(false);
Login.message.hide();
$("#backLinkLogin").off("click");
$("#suggestedAccount").suggestions("destroy");
}};
SKYPE.namespace("login.controller");
SKYPE.login.controller.ConnectAccounts=function(d){Login.tracking.trackPage("link/merge");
var e=Login.partner.getAuth(),i=Login.partner.getCurrent();
Login.setView("connectView");
$("#connectView h2:first").focus();
if(Login.partner.getCurrent()==95){$("#partnerAccountName").removeClass("liveidBack").addClass("facebookBack");
$("#titleLarge").data("translation-key","lastStepFacebook").translate();
$("#usePartnerAccount").data("translation-key","usePartnerAccountFacebook").translate();
}else{$("#partnerAccountName").removeClass("facebookBack").addClass("liveidBack");
}var f=$("#usernameSkype").data("usernameSigned");
$("#skypeAccountName").text(f);
var b=Login.partner.getUserName();
var a=SKYPE.login.Tools.escape(f);
$("#partnerAccountName").text(b);
$("#usePartnerAccount").data("translation-params",{NAME:"<span class='partnerAccount highlight'>"+b+"</span>"}).translate();
var k=Config.skypeApiUrl+"/users/"+f+"/profile/avatar?session_token="+API.getSessionToken();
var g=Login.partner.getProfileImage();
$("#partnerAccountPicture").preloader("loadImage",g);
$("#skypeAccountPicture").preloader("loadImage",k);
var j=function(m){$("#useExistingLiveidOption").data("translation-params")["NAME"]="<span class='skypeAccount highlight'>"+a+"</span>";
$("#useExistingFacebookOption").data("translation-params")["NAME"]="<span class='skypeAccount highlight'>"+a+"</span>";
$("#mergeAnotherLiveidOption").data("translation-params")["NAME"]="<span class='partnerAccount highlight'>"+b+"</span>";
$("#mergeAnotherFacebookOption").data("translation-params")["NAME"]="<span class='partnerAccount highlight'>"+b+"</span>";
$("#useExistingLiveidOption, #useExistingFacebookOption, #mergeAnotherLiveidOption, #mergeAnotherFacebookOption").translate();
Login.setView("conflictView");
$("#messageBodyConflictContainer").hide();
setTimeout(function(){$("#messageBodyConflictContainer").show();
},500);
};
var h=function(o,m,n){API.log("Request failed",{status:m,error:n});
if(m=="timeout"){this.numOfTries++;
if(this.numOfTries<=this.retryLimit){API.log("Trying to resend timeouted request");
$.ajax(this);
return;
}}$("#connectAccounts").button("option","disabled",false);
Login.partner.clearAll();
router.setController("Login");
Login.message.error("c3",i);
};
var c="Connect from client login "+API.getClientVersion();
var l=function(){$("#connectView").addClass("working");
$.ajax(Config.skypeApiUrl+"/partners/"+Login.partner.getCurrent()+"/usermap",{dataType:"jsonp",jsonp:"jsoncallback",timeout:7000,numOfTries:1,retryLimit:2,data:{access_token:e.access_token,session_token:API.getSessionToken(),reasonType:SKYPE.login.Tools.reasonTypeMapper(SKYPE.login.form),reason:c,_method:"PUT",_accept:"1.0"},success:function(m){$("#connectView").removeClass("working");
var o;
try{o=m.status.code;
}catch(p){}var n="c3";
switch(o){case 20100:API.log("Skype and partner accounts successfully connected");
router.setController("OAuthLogin");
return;
case 40003:if(m.uid){j(m);
return;
}else{API.log("Another mapping in use",{response:m});
}break;
case 40301:API.log("Cannot merge accounts - User is underage");
n="ua"+i;
break;
case 40101:case 40102:default:API.log("Failed to connect Skype and partner accounts",{response:m});
break;
}Login.partner.clearAll();
router.setController("Login");
Login.message.error(n,i);
},error:h});
};
$("#conflictOptions").on("click","#mergeAnotherLiveid, #mergeAnotherFacebook",function(){router.setController("SkypeLogin");
return false;
});
$("#startAgainLinkConnect").on("click",function(){if($("#connectAccounts").button("option","disabled")){return false;
}});
$("#connectAccounts").on("buttonclick",function(){Login.tracking.trackAction("agree");
$("#connectAccounts").button("option","disabled",true);
l();
return false;
});
};
SKYPE.login.controller.ConnectAccounts.prototype={unbind:function(){$("#connectAccounts").off("buttonclick").button("option","disabled",false);
$("#startAgainLinkConnect").off("click");
$("#connectView").removeClass("working");
$("#conflictOptions").off("click","#mergeAnotherLiveid, #mergeAnotherFacebook");
Login.message.hide();
}};
SKYPE.namespace("login.controller");
SKYPE.login.controller.CreateTechnical=function(f){Login.tracking.trackPage("link/create-technical");
var c=Login.partner.getAuth();
var e=Login.partner.getCurrent();
(function(){var g=function(h,i){if($("#createTechnical").button("option","disabled")){return false;
}router.goToPreviousController();
return false;
};
$("#backLinkCreate").on("click",g);
})();
Login.setView("createView");
$("#createView h2:first").focus();
var b=function(g){API.log("CreateTechnical - error response",g);
$("#createTechnical").button("option","disabled",false);
Login.partner.clearAll();
router.setController("Login");
Login.message.error("c3",e);
};
var d=function(i,g,h){API.log("Request to createTechnical failed",{status:g,error:h});
b();
};
var a=function(){var i=($("#allowSpam").checkbox("option","checked"))?"1":"0";
var h=($("#allowSms").checkbox("option","checked"))?"1":"0";
var g=API.getClientVersion();
var j=API.getLanguage();
router.loading(true);
$.ajax(Config.skypeApiUrl+"/users/technical",{dataType:"jsonp",jsonp:"jsoncallback",timeout:30000,numOfTries:1,retryLimit:1,data:{access_token:c.access_token,partner:Login.partner.getCurrent(),allowSpam:i,allowSms:h,clientVersion:g,reasonType:SKYPE.login.Tools.reasonTypeMapper(SKYPE.login.form),language:j,_method:"POST",_accept:"1.0",form:SKYPE.login.form},success:function(k){var l;
try{l=k.status.code;
}catch(m){}switch(l){case 20100:API.log("Technical user created: "+k.username);
router.setController("OAuthLogin");
return;
case 40301:API.log("Cannot create technical user - User is underage");
Login.partner.clearAll();
router.setController("Login");
Login.message.error("ua"+e,e);
return;
default:b(k);
break;
}},error:d});
};
$("#createTechnical").on("buttonclick",function(){Login.tracking.trackAction("agree",false,"createTechnical");
$("#createTechnical").button("option","disabled",true);
a();
return false;
});
$("#createView h2:first").focus();
};
SKYPE.login.controller.CreateTechnical.prototype={unbind:function(){router.loading(false);
$("#createTechnical").button("option","disabled",false).off("buttonclick");
$("#backLinkCreate").off("click");
}};
(function(){SKYPE.namespace("login.controller");
SKYPE.login.controller.StartPage=function(d){var a=API.getLogoutReason(),c=$("#defaultView"),b={minWidth:220};
Login.setView("defaultView");
if(SKYPE.buttonresizer){SKYPE.buttonresizer.resizeButtons(c,b);
$(document).bind("changelanguage",function(){SKYPE.buttonresizer.resizeButtons(c,b);
});
}this.addListener($("#navigateToSkypeLogin"),"click",this.navigateToSkypeLogin);
this.addListener($("#navigateToMSALogin"),"click",this.navigateToMSALogin);
this.addListener($("#navigateToFBLogin"),"click",this.navigateToFBLogin);
this.addListener($("#defaultCreateAccount"),"click",this.navigateToRegistration);
this.toggleFacebookLogin();
if(router.isFirstLoad()){new Animation(this.loadAnimation);
}else{$("#defaultView h2").focus();
}this.logOutMSAUser();
if(d&&d.isErrorRedirect){router.hasHandledLogoutError(a);
}Login.tracking.trackPage("login");
};
SKYPE.login.controller.StartPage.prototype={addListener:function(a,b,c){a.on(b,$.proxy(c,this));
},logOutMSAUser:function(){var b=parseInt(API.getLoginStatus(),10),c=API.getLastKnownLogin(true),a=API.getLogoutReason();
if(b===0&&a===1&&c==="MSA"){API.log("Logging user out of MSA");
Login.partner.partnerLogout(function(){},999);
}},removeListener:function(a,b){a.off(b);
},unbind:function(d,f,a,c){var b=d||$("#navigateToSkypeLogin"),g=f||$("#navigateToMSALogin"),h=a||$("#navigateToFBLogin"),e=c||$("#defaultCreateAccount");
Login.message.hide();
this.removeListener(b,"click");
this.removeListener(g,"click");
this.removeListener(h,"click");
this.removeListener(e,"click");
},isFacebookLoginPartner:function(){if(!Login.partner.isFacebookLoginEnabled()){return false;
}var a=true;
switch(API.getCobrand()){case"1":case"4":case"11":case"56":case"63":case"65":case"74":case"75":case"99":a=false;
break;
}return a;
},navigateToSkypeLogin:function(a){a.preventDefault();
Login.tracking.trackPage("msa/login_skype");
router.goToSkype();
},navigateToFBLogin:function(a){a.preventDefault();
if(this.isFacebookLoginPartner()){Login.tracking.trackPage("msa/login_facebook");
router.goToFB();
}},navigateToMSALogin:function(a){a.preventDefault();
Login.tracking.trackPage("msa/login_microsoft");
router.goToMSA();
},navigateToRegistration:function(a){if(!$("#defaultCreateAccount").hasClass("inClientRegistration")){Login.tracking.trackPage("msa/signup");
return;
}a.preventDefault();
Login.tracking.trackPage("msa/signup_client");
router.goToRegistration();
},isLinuxClient:function(){return parseInt(API.getPlatformId(),10)===2;
},toggleFacebookLogin:function(){var a=$(".signInFB");
a.removeClass("partnerBuild");
if(this.isLinuxClient()){a.addClass("partnerBuild");
}if(!this.isFacebookLoginPartner()){a.addClass("partnerBuild");
}},loadAnimation:{onFinish:function(){$("#defaultView h2").focus();
},duration:2630,elements:[{selector:"#defaultView .logo",animationType:"translate",startFrame:{attributes:{y:154,x:0}},frames:[{timing:50.63,attributes:{y:0,x:0},easingParameters:[1,0,0.78,1]},{timing:65.82,attributes:{y:-164,x:0},easingParameters:[1,0,0.78,1]},{timing:79.75,attributes:{y:10,x:0},easingParameters:[0.33,0,0,1]}]},{selector:"#defaultView .signInTitle",animationType:"translate",startFrame:{attributes:{y:144,x:0}},frames:[{timing:50.63,attributes:{y:0,x:0},easingParameters:[1,0,0.78,1]},{timing:67.09,attributes:{y:-154,x:0},easingParameters:[1,0,0.78,1]},{timing:81.01,attributes:{y:10,x:0},easingParameters:[0.33,0,0,1]}]},{selector:"#defaultView .signInTitle span",animationType:"opacity",startFrame:{attributes:{opacity:0}},frames:[{timing:50.63,attributes:{opacity:0},easingParameters:[1,0,0.78,1]},{timing:67.09,attributes:{opacity:1},easingParameters:[1,0,0.78,1]}]},{selector:"#defaultView .signInSkype",animationType:"translate",startFrame:{attributes:{y:144,x:0}},frames:[{timing:50.63,attributes:{y:0,x:0},easingParameters:[1,0,0.78,1]},{timing:68.35,attributes:{y:-155,x:0},easingParameters:[1,0,0.78,1]},{timing:82.28,attributes:{y:10,x:0},easingParameters:[0.33,0,0,1]}]},{selector:"#defaultView .signInSkype a",animationType:"opacity",startFrame:{attributes:{opacity:0}},frames:[{timing:50.63,attributes:{opacity:0},easingParameters:[1,0,0.78,1]},{timing:68.35,attributes:{opacity:1},easingParameters:[1,0,0.78,1]}]},{selector:"#defaultView .signInMSA",animationType:"translate",startFrame:{attributes:{y:144,x:0}},frames:[{timing:50.63,attributes:{y:0,x:0},easingParameters:[1,0,0.78,1]},{timing:69.62,attributes:{y:-154,x:0},easingParameters:[1,0,0.78,1]},{timing:83.54,attributes:{y:10,x:0},easingParameters:[0.33,0,0,1]}]},{selector:"#defaultView .signInMSA a",animationType:"opacity",startFrame:{attributes:{opacity:0}},frames:[{timing:56.63,attributes:{opacity:0},easingParameters:[1,0,0.78,1]},{timing:69.62,attributes:{opacity:1},easingParameters:[1,0,0.78,1]}]},{selector:"#defaultView .learnMoreMSA",animationType:"translate",startFrame:{attributes:{y:144,x:0}},frames:[{timing:50.63,attributes:{y:0,x:0},easingParameters:[1,0,0.78,1]},{timing:70.89,attributes:{y:-154,x:0},easingParameters:[1,0,0.78,1]},{timing:84.81,attributes:{y:10,x:0},easingParameters:[0.33,0,0,1]}]},{selector:"#defaultView .learnMoreMSA .learnMoreMSAHolder",animationType:"opacity",startFrame:{attributes:{opacity:0}},frames:[{timing:50.63,attributes:{opacity:0},easingParameters:[1,0,0.78,1]},{timing:72.15,attributes:{opacity:1},easingParameters:[1,0,0.78,1]}]},{selector:"#defaultView .createSkypeAccount",animationType:"translate",startFrame:{attributes:{y:144,x:0}},frames:[{timing:50.63,attributes:{y:0,x:0},easingParameters:[1,0,0.78,1]},{timing:72.15,attributes:{y:-154,x:0},easingParameters:[1,0,0.78,1]},{timing:86.08,attributes:{y:10,x:0},easingParameters:[0.33,0,0,1]}]},{selector:"#defaultView .createSkypeAccount a",animationType:"opacity",startFrame:{attributes:{opacity:0}},frames:[{timing:50.63,attributes:{opacity:0},easingParameters:[1,0,0.78,1]},{timing:72.15,attributes:{opacity:1},easingParameters:[1,0,0.78,1]}]},{selector:"#defaultView .signInFB",animationType:"translate",startFrame:{attributes:{y:0,x:0}},frames:[{timing:82.28,attributes:{y:0,x:0},easingParameters:[1,0,0.78,1]},{timing:86.08,attributes:{y:-5,x:0},easingParameters:[1,0,0.78,1]},{timing:100,attributes:{y:5,x:0},easingParameters:[0.33,0,0,1]}]},{selector:"#defaultView .signInFB a",animationType:"opacity",startFrame:{attributes:{opacity:0}},frames:[{timing:82.28,attributes:{opacity:0},easingParameters:[1,0,0.78,1]},{timing:86.08,attributes:{opacity:1},easingParameters:[1,0,0.78,1]}]}]}};
})();
(function(){SKYPE.namespace("login.controller");
SKYPE.login.controller.RegistrationSuccess=function(){Login.setView("loadingView");
router.loading(true);
Login.tracking.enforceTracking();
var d=Login.partner.getAuth();
var c=this.parseState(d.state);
SKYPE.login.form=c.form;
var b=function(){var f=Login.partner.getCurrent();
Login.partner.clearAll();
router.setController("Login");
Login.message.error("c3",f);
};
var e=function(h,f,g){API.log("Registration success - Request failed",{status:f,error:g});
if(f=="timeout"){this.numOfTries++;
if(this.numOfTries<=this.retryLimit){API.log("Trying to resend timeouted request");
$.ajax(this);
return;
}}b();
};
var a=function(h,g){var f=API.getClientVersion();
var i=API.getLanguage();
$.ajax(Config.skypeApiUrl+"/users/technical",{dataType:"jsonp",jsonp:"jsoncallback",timeout:30000,numOfTries:1,retryLimit:1,data:{access_token:d.access_token,partner:Login.partner.getCurrent(),allowSpam:g,clientVersion:f,form:h,reasonType:SKYPE.login.Tools.reasonTypeMapper(h),reason:"Connect from in-client registration",language:i,_method:"POST",_accept:"1.0"},success:function(j){var k;
try{k=j.status.code;
}catch(l){}switch(k){case 20100:Login.tracking.trackAction("new");
API.log("Technical user created: "+j.username);
router.setController("OAuthLogin");
return;
case 40001:if(j.username){Login.tracking.trackAction("exists");
API.log("Technical user already existed: "+j.username);
router.setController("OAuthLogin");
return;
}b(j);
break;
case 40301:API.log("Cannot create technical user - User is underage");
Login.partner.clearAll();
router.setController("Login");
Login.message.error("ua999","999");
return;
default:b(j);
break;
}},error:e});
};
Login.tracking.trackPage("reg/"+c.form);
switch(c.form){case"microsoft_registration":API.log("Registration flow, no MSA, no Skype, create technical.");
a(c.form,c.aspm);
break;
case"microsoft_login":API.log("Registration flow, has MSA, no Skype, create technical.");
a(c.form,c.aspm);
break;
case"microsoft_registration_linking":API.log("Registration flow, no MSA, has Skype, linking flow.");
router.setController("AuthSuccess");
break;
case"microsoft_login_linking":API.log("Registration flow, has MSA, has Skype, linking flow.");
router.setController("AuthSuccess");
break;
default:router.setController("AuthSuccess");
}};
SKYPE.login.controller.RegistrationSuccess.prototype={unbind:function(){router.loading(false);
},parseState:function(c){var b={form:null,aspm:false};
try{var f="::",a=c.split(f);
if(a.length>1&&a[1]){b.form=a[1];
b.aspm=(a[2].charAt(a[2].length-1)==1);
}}catch(d){}API.log("Parsed registration flow controls:",b);
return b;
}};
})();
SKYPE.namespace("login");
SKYPE.login.HighContrast=function(){var k,i,h,d,b;
var f=function(){var l=i.css("background-color");
if(typeof API==="object"&&API.getPlatformId()===2){return(API.getHCmode()!=="")?API.getHCmode():false;
}else{if(l==="#000000"||l.replace(/ /g,"")==="rgb(0,0,0)"){return"black";
}else{if(l==="#ffffff"||l.replace(/ /g,"")==="rgb(255,255,255)"){return"white";
}}return false;
}};
var g=function(m,l){if(m){if(typeof l!=="undefined"&&l==="white"){i.addClass("highContrastWhite");
}else{if(typeof l!=="undefined"&&l==="black"){i.addClass("highContrastBlack");
}}i.addClass("highContrast");
}else{if(!m){highContrastEnabled=false;
i.removeClass("highContrast");
i.removeClass("highContrastWhite");
i.removeClass("highContrastBlack");
}}};
var a=function(m,l){var n,o="";
if(m){h.each(function(){n=$(this);
o=n.attr("src");
if(typeof l!==undefined&&l==="white"){o=o.replace("/normal/","/black-on-white/");
o=o.replace("/white-on-black/","/black-on-white/");
}else{o=o.replace("/normal/","/white-on-black/");
o=o.replace("/black-on-white/","/white-on-black/");
}n.attr({src:o});
});
}else{if(!m){h.each(function(){n=$(this);
o=n.attr("src");
o=o.replace("/black-on-white/","/normal/");
o=o.replace("/white-on-black/","/normal/");
n.attr({src:o});
});
}}};
var e=function(){var l=f();
if(l!==b){if(l==="black"){g(true,"black");
a(true,"black");
}else{if(l==="white"){g(true,"white");
a(true,"white");
}else{g(false);
a(false);
}}}b=l;
};
var c=function(){i=$("body");
h=$(".skypeLogo");
e();
k=window.setInterval(function(){e();
},2000);
};
var j=function(){if(k){window.clearInterval(k);
k=undefined;
}};
return{start:c,stop:j};
};
var Config={liveidClientId:"00000000480BC46C",liveidHost:"live.com",liveidScope:"service::skype.com::MBI_SSL",skypeApiUrl:"https://api.skype.com",buildVersion:"3.10",trackingAccount:"skypeallprod,skypeclientprod",trackingScriptSrc:"https://apps.skypeassets.com/static/skype.client.login/js/s_code.js",goLinkBaseUrl:"https://go.skype.com",ecsUrl:"https://a.config.skype.com/config/v1/XCO/"};
